{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","../node_modules/async/lib/async.js","../node_modules/process/browser.js","../node_modules/timers-browserify/main.js","src/checklist_edit/ChecklistEdit.ts","src/checklist_view/ChecklistView.ts","src/composite_edit/CompositeEdit.ts","src/composite_summary/CompositeSummary.ts","src/composite_toolbar/CompositeToolbar.ts","src/composite_view/CompositeView.ts","src/content_switch/ContentSwitch.ts","src/data/ChecklistItem.ts","src/data/Content.ts","src/data/ContentBlockType.ts","src/data/EmbeddedType.ts","src/data/index.ts","src/embedded_edit/EmbeddedEdit.ts","src/embedded_view/EmbeddedView.ts","src/index.ts","src/mobile_mouse/MobileMousedown.ts","src/mobile_mouse/MobileMouseup.ts","src/mobile_mouse/index.ts","src/utilities/CompositeFocused.ts","temp/pip-suite-composite-html.min.js"],"names":[],"mappings":"AAAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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CAAC;YACjD,CAAC,CAAC,CAAC;QACP,CAAC;QACL,mCAAC;IAAD,CATA,AASC,IAAA;IAED,IAAM,gBAAgB,GAAG;QACrB,MAAM,CAAC;YACH,QAAQ,EAAE,GAAG;YACb,KAAK,EAAE,KAAK;YACZ,UAAU,EAAE,4BAA0B;SACzC,CAAA;IACL,CAAC,CAAA;IAED,OAAO,CAAC,MAAM,CAAC,qBAAqB,EAAE,EAAE,CAAC;SACpC,SAAS,CAAC,qBAAqB,EAAE,gBAAgB,CAAC,CAAC;AAE5D,CAAC;;ACzBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pip-suite-composite.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};","import { ChecklistItem } from '../data';\nexport const ChecklistDraggEvent: string = 'onChecklistDrag';\n\n{\n\n    class ChecklistSelected {\n        public index: number = 0;\n        public drag: boolean;\n        public dragInit: boolean;\n        public dragId: number = 0;\n        public id: number;\n        public isChanged: boolean = false;\n    }\n\n    interface IChecklistEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipDraggable: any;\n        pipOptions: any;\n        pipScrollContainer: any;\n        pipRebind: any;\n    }\n\n    const ChecklistEditBindings: IChecklistEditBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipDraggable: '<?',\n        pipOptions: '=',\n        pipScrollContainer: '<?',\n        pipRebind: '<?'\n    }\n\n    class ChecklistEditBindingsChanges implements ng.IOnChangesObject, IChecklistEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipDraggable: ng.IChangesObject<boolean>;\n        pipOptions: ng.IChangesObject<ChecklistItem[]>;\n        pipScrollContainer: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class ChecklistEditController {\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipDraggable: boolean;\n        public pipScrollContainer: string;\n        public pipOptions: ChecklistItem[];\n        public pipRebind: boolean;\n\n        private _debounceChange: any;\n\n        public selected: ChecklistSelected;\n\n        public checklistContent: ChecklistItem[];\n        public isWidth: boolean;\n\n\n        constructor(\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $document,\n            private $rootScope: ng.IRootScopeService\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-checklist-edit');\n\n            if (!this.pipOptions || !_.isArray(this.pipOptions)) {\n                this.pipOptions = [];\n            }\n\n            this.selected = new ChecklistSelected();\n            this.selected.drag = this.pipDraggable;\n            this.selected.dragInit = this.pipDraggable;\n            this.selected.id = this.now();\n\n            this.generateList(this.pipOptions);\n\n            this._debounceChange = _.debounce(() => {\n                this.onChecklistChange();\n            }, 200);\n\n        }\n\n        public $onChanges(changes: ChecklistEditBindingsChanges): void {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipOptions && changes.pipOptions.currentValue) {\n                    if (!angular.equals(this.pipOptions, changes.pipOptions.currentValue)) {\n                        if (!this.selected.isChanged) {\n                            this.generateList(changes.pipOptions.currentValue);\n                            // this.pipOptions = changes.pipOptions.currentValue;\n                        } else {\n                            this.selected.isChanged = false;\n                        }\n                    }\n                }\n                if (changes.pipDraggable && changes.pipDraggable.currentValue) {\n                    this.pipDraggable = changes.pipDraggable.currentValue;\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) { return false; }\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getCaret(el: any): number {\n            if (el.selectionStart) {\n                return el.selectionStart;\n            } else if (this.$document.selection) {\n                el.focus();\n\n                let r = this.$document.selection.createRange();\n                if (r == null) {\n                    return 0;\n                }\n\n                var re = el.createTextRange(),\n                    rc = re.duplicate();\n                re.moveToBookmark(r.getBookmark());\n                rc.setEndPoint('EndToStart', re);\n\n                return rc.text.length;\n            }\n\n            return 0;\n        }\n\n        private setSelectionRange(input, selectionStart, selectionEnd): void {\n            if (input.setSelectionRange) {\n                input.focus();\n                input.setSelectionRange(selectionStart, selectionEnd);\n            } else if (input.createTextRange) {\n                var range = input.createTextRange();\n                range.collapse(true);\n                range.moveEnd('character', selectionEnd);\n                range.moveStart('character', selectionStart);\n                range.select();\n            }\n        }\n\n        private setCaretToPos(input, pos): void {\n            this.setSelectionRange(input, pos, pos);\n        }\n\n        private addItem(text: string, index: number): void {\n            let newItem: ChecklistItem = this.getNewItem(text, false);\n            if (index > -1) {\n                this.selected.index = index;\n            }\n\n            if (this.checklistContent.length < 2) {\n                this.checklistContent.unshift(newItem);\n            } else {\n                this.checklistContent.splice(this.selected.index + 1, 0, newItem);\n            }\n            this.selected.index += 1;\n            this.setFocus(this.selected.index);\n\n            this._debounceChange();\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            let content: ChecklistItem[] = [];\n            _.each(this.checklistContent, (item: ChecklistItem) => {\n                if (!item.empty) {\n                    content.push({\n                        checked: item.checked,\n                        text: item.text\n                    })\n                }\n            })\n\n            this.pipOptions = content;\n        }\n\n        private setFocus(index: number, toPos?: any): void {\n            if (index > -1) {\n                setTimeout(() => {\n                    let nextElement = angular.element('#check-item-text-' + this.selected.id + '-' + index);\n                    if (nextElement) {\n                        nextElement.focus();\n                        if (toPos !== undefined && nextElement[0]) {\n                            this.setCaretToPos(nextElement[0], toPos);\n                        }\n                    }\n                }, 50);\n            }\n        }\n\n        private getNewItem(text?: string, isEmpty?: boolean): ChecklistItem {\n            let newItem: ChecklistItem = {\n                checked: false,\n                text: text || '',\n                empty: isEmpty\n            };\n\n            return newItem;\n        }\n\n        private now(): number {\n            return +new Date;\n        }\n\n        private clearList(): void {\n            this.selected.index = 0;\n            this.checklistContent = [];\n            // push empty item\n            this.checklistContent.push(this.getNewItem('', true));\n        }\n\n        private generateList(content: ChecklistItem[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n            } else {\n                this.checklistContent = [];\n                _.each(content, (item) => {\n                    this.checklistContent.push(item);\n                });\n                // push empty item\n                this.checklistContent.push(this.getNewItem('', true));\n            }\n        }\n\n        private setWidth100(): void {\n            let element = angular.element('#check-item-' + + this.selected.id + '-' + this.selected.index);\n            element.css(\"width\", 'none');\n            element.css(\"max-width\", 'none');\n        }\n\n        private setWidth(): void {\n            if (this.isWidth) return;\n\n            let elementEtalon = angular.element('#check-item-empty-' + this.selected.id);\n            let value: number = elementEtalon.width();\n            let element = angular.element('#check-item-' + this.selected.id + '-' + this.selected.index);\n            if (element) {\n                element.css(\"width\", value + 'px');\n                element.css(\"max-width\", value + 'px');\n            }\n        }\n\n        // public functions\n\n        public onItemFocus(index: number): void {\n            if (this.ngDisabled) return;\n            this.selected.index = index;\n        }\n\n        public isSelectedItem(index: number): boolean {\n            let empty: boolean;\n            try {\n                empty = this.checklistContent[index].empty;\n            } catch (err) {\n                empty = true;\n            }\n\n            return this.selected.index == index && this.pipDraggable && !empty;\n        }\n\n        public onAddItem(): void {\n            this.addItem('', this.selected.index - 1);\n        }\n\n        public onChangeItem(index: number): void {\n            if (index > -1 && this.checklistContent[index] && this.checklistContent[index].empty) {\n                if (this.checklistContent[index].empty) {\n                    this.checklistContent[index].empty = false;\n                    this.checklistContent.push(this.getNewItem('', true));\n                }\n            }\n            this._debounceChange();\n        }\n\n        public onClick($event: JQueryEventObject, index: number): void {\n            if (this.ngDisabled) { return; }\n\n            this.selected.index = index;\n        }\n\n        public onTextAreaClick($event: JQueryEventObject, index: number) {\n            if (this.ngDisabled) { return; }\n\n            this.selected.index = index;\n        }\n\n        public onDropComplete(placeIndex: number, obj: ChecklistItem, $event: JQueryEventObject, componentId: number) {\n            if (this.selected.id != componentId) { return; }\n            if (!this.selected.drag) { return; }\n\n            let index: number = placeIndex;\n            let tmpIndex: number = this.selected.index;\n            let checklist: ChecklistItem[] = _.cloneDeep(this.checklistContent);\n\n            if (!(tmpIndex == 0 && placeIndex == 1)) {\n                if (tmpIndex > index) {\n                    if (index > checklist.length - 1) {\n                        index = checklist.length - 1;\n                    }\n                    // move up\n                    for (let i = 0; i < tmpIndex - index; i++) {\n                        checklist[tmpIndex - i] = checklist[tmpIndex - i - 1];\n                    }\n                    checklist[index] = obj;\n                }\n                if (tmpIndex < index) {\n                    index -= 1;\n                    //move down\n                    for (var i = 0; i < index - tmpIndex; i++) {\n                        checklist[tmpIndex + i] = checklist[tmpIndex + i + 1];\n                    }\n                    checklist[index] = obj;\n                }\n\n                this.selected.index = index;\n            }\n\n            this.checklistContent = checklist;\n            this._debounceChange();\n        }\n\n        public onMove(): void {\n            this.setWidth();\n            this.isWidth = true;\n        }\n\n\n        public onStop(id: number): void {\n            this.$timeout(() => {\n                this.selected.drag = this.selected.dragInit;\n                this.selected.dragId = 0;\n            }, 50);\n\n            if (this.isWidth) {\n                this.setWidth100();\n                this.isWidth = false;\n            }\n        }\n\n        public onStart(id: number): void {\n            this.selected.isChanged = true;\n            if (id && id != this.selected.dragId) {\n                this.selected.drag = false;\n            }\n        }\n\n        public onDownDragg(item: ChecklistItem): void {\n            if (this.pipDraggable && this.checklistContent.length > 2 && !item.empty) {\n                this.$rootScope.$broadcast(ChecklistDraggEvent);\n                this.selected.dragId = this.selected.id;\n            }\n        }\n\n        public onDeleteItem(index: number, item: ChecklistItem): void {\n            if (this.checklistContent.length == 1) {\n                this.checklistContent[0].text = '';\n                this.checklistContent[0].checked = false;\n                this.checklistContent[0].empty = true;\n                this.selected.index = 0;\n            } else {\n                if (index >= 0 && index <= this.checklistContent.length) {\n                    this.checklistContent.splice(index, 1);\n                } else {\n                    return;\n                }\n            }\n\n            if (this.selected.index >= this.checklistContent.length) {\n                this.selected.index = this.checklistContent.length - 1;\n            }\n\n            this.setFocus(this.selected.index, 0);\n            this._debounceChange();\n        }\n\n        public onChecked(item: ChecklistItem): void {\n            this._debounceChange();\n        }\n\n        public onChecklistChange(): void {\n            this.updateContents();\n\n            if (this.pipChanged) {\n                this.$timeout(() => {\n                    this.pipChanged(this.pipOptions);\n                }, 0);\n            }\n        }\n\n\n        public onTextareaKeyDown($event: KeyboardEvent, index: number, item: ChecklistItem) {\n            if (this.ngDisabled) return;\n            if (this.selected.index == -1) return;\n            let textareaLength: number;\n            let posCaret: any;\n            if ($event && $event.target) {\n                // calculate caret position\n                posCaret = this.getCaret($event.target);\n                // calculate textarea length\n                if ($event.target['value'] !== undefined) {\n                    textareaLength = $event.target['value'].length;\n                }\n\n            }\n\n            // delete empty item after backspace or del\n            if (this.selected.index > 0 && item.text != '' && posCaret == 0 && $event.keyCode == 8 && !$event.ctrlKey && !$event.shiftKey) {\n                if (!item.empty) {\n                    var position = this.checklistContent[this.selected.index - 1].text.length;\n                    this.checklistContent[this.selected.index - 1].text = this.checklistContent[this.selected.index - 1].text + item.text;\n                    this.selected.index -= 1;\n                    this.checklistContent.splice(this.selected.index + 1, 1);\n                    this._debounceChange();\n\n                    this.setFocus(this.selected.index, position);\n                }\n                if ($event) { $event.stopPropagation(); }\n\n                return false;\n            }\n\n            if (item.text == '' && ($event.keyCode == 8 || $event.keyCode == 46) && !$event.ctrlKey && !$event.shiftKey) {\n                if (!item.empty) {\n                    this.onDeleteItem(index, item);\n                }\n                if ($event) { $event.stopPropagation(); }\n\n                return false;\n            }\n\n            //press enter - create new item\n            if (($event.keyCode == 13 || $event.keyCode == 45) && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if (posCaret !== undefined && posCaret == 0) {\n                    // add item before current item\n                    if (this.selected.index > 0) {\n                        this.addItem('', this.selected.index - 1);\n                    } else {\n                        this.selected.index = -1;\n                        this.addItem('', -1);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if (textareaLength && posCaret && textareaLength == posCaret) {\n                    // add item after current item\n                    if (!item.empty) {\n                        this.addItem('', this.selected.index);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if (textareaLength && posCaret && textareaLength > posCaret) {\n                    // divide current item \n                    if (!item.empty) {\n                        let valueCurrent: string;\n                        let newItem: string;\n                        valueCurrent = item.text.substring(0, posCaret);\n                        newItem = item.text.substring(posCaret);\n                        item.text = valueCurrent;\n                        this.addItem(newItem, this.selected.index);\n\n                        this.setFocus(this.selected.index, 0);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if ($event) { $event.preventDefault(); }\n\n                return false;\n            }\n\n            // move cursor up\n            if ((posCaret === 0 || posCaret == textareaLength) && this.checklistContent.length > 1 && $event.keyCode == 38 && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n\n                if (posCaret !== undefined && textareaLength !== undefined && posCaret == 0) {\n                    // move to new item\n                    if (this.selected.index == 0) {\n                        this.selected.index = this.checklistContent.length - 1;\n                        var position = this.checklistContent[this.selected.index].text.length;\n                        this.setFocus(this.selected.index, position);\n                    } else {\n                        this.selected.index -= 1;\n                        var position = this.checklistContent[this.selected.index].text.length;\n                        this.setFocus(this.selected.index, position);\n                    }\n                } else {\n                    // move caret to text end\n                    this.setFocus(this.selected.index, 0);\n                }\n\n                return false;\n            }\n\n            // move cursor down\n            if ((posCaret === 0 || posCaret == textareaLength) && this.checklistContent.length > 1 && $event.keyCode == 40 && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n\n                if (posCaret !== undefined && textareaLength !== undefined && posCaret == textareaLength) {\n                    // move to new item\n                    if (this.selected.index >= this.checklistContent.length - 1) {\n                        this.selected.index = 0;\n                        this.setFocus(this.selected.index, 0);\n                    } else {\n                        this.selected.index += 1;\n                        this.setFocus(this.selected.index, 0);\n                    }\n                } else {\n                    // move caret to text end\n                    this.setFocus(this.selected.index, textareaLength);\n                }\n\n                return false;\n            }\n\n            // delete item\n            if (!item.empty && $event.keyCode == 46 && $event.ctrlKey && !$event.shiftKey) {\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n                this.onDeleteItem(index, item);\n\n                return false;\n            }\n\n            // check/uncheck item\n            if ($event.keyCode == 32 && $event.ctrlKey && !$event.shiftKey) {\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n                if (item) {\n                    item.checked = !item.checked\n                    this._debounceChange();\n                }\n\n                return false;\n            }\n        }\n    }\n\n    const ChecklistEdit: ng.IComponentOptions = {\n        bindings: ChecklistEditBindings,\n        templateUrl: 'checklist_edit/ChecklistEdit.html',\n        controller: ChecklistEditController\n    }\n\n    angular.module(\"pipChecklistEdit\", ['pipComposite.Templates', 'pipBehaviors'])\n        .component('pipChecklistEdit', ChecklistEdit);\n\n}\n","import { ChecklistItem } from '../data';\n{\n\n    interface IChecklistViewBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipOptions: any;\n        pipRebind: any;\n    }\n\n    const ChecklistViewBindings: IChecklistViewBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipOptions: '=',\n        pipRebind: '<?'\n    }\n\n    class ChecklistViewBindingsChanges implements ng.IOnChangesObject, IChecklistViewBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<(data: ChecklistItem[]) => ng.IPromise<void>>;\n        pipOptions: ng.IChangesObject<ChecklistItem[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class ChecklistViewController {\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipOptions: ChecklistItem[]; \n        public pipRebind: boolean;\n\n        private isChanged: boolean = false;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            \"ngInject\";\n\n            if (!this.pipOptions || !_.isArray(this.pipOptions)) {\n                this.pipOptions = [];\n            }\n\n            $element.addClass('pip-checklist-view');\n\n        }\n\n        public $onChanges(changes: ChecklistViewBindingsChanges) {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipOptions && changes.pipOptions.currentValue) {\n                    if (!angular.equals(this.pipOptions, changes.pipOptions.currentValue)) {\n                        if (!this.isChanged) {\n                            this.pipOptions = changes.pipOptions.currentValue;\n                        } else {\n                            this.isChanged = false;\n                        }\n                    }\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public onChecklistChange(): void {\n            this.isChanged = true;\n            if (this.pipChanged) {\n                this.pipChanged(this.pipOptions);\n            }\n        }\n\n        public onClick($event: JQueryEventObject, item: ChecklistItem): void { \n            if ($event) {\n                $event.stopPropagation();\n            }\n            if (this.ngDisabled) {\n                return;\n            }\n\n            this.onChecklistChange();\n        }\n    }\n\n    const ChecklistView: ng.IComponentOptions = {\n        bindings: ChecklistViewBindings,\n        templateUrl: 'checklist_view/ChecklistView.html',\n        controller: ChecklistViewController\n    }\n\n    angular.module(\"pipChecklistView\", ['pipComposite.Templates'])\n        .component('pipChecklistView', ChecklistView);\n\n}\n","import { ChecklistDraggEvent } from '../checklist_edit/ChecklistEdit';\nimport { CompositeFocusedEvent } from '../utilities/CompositeFocused';\nimport { ContentBlock } from '../data';\n\nlet async = require('async');\n\nexport const CompositeEmptyEvent: string = 'pipCompositeNotEmpty';\nexport const CompositeAddItemEvent: string = 'pipAddContent';\nexport const CompositeNotEmptyEvent: string = 'pipCompositeNotEmpty';\n\nexport class CompositeAddItem {\n    public id: number;\n    public type: string;\n}\n\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            'COMPOSITE_TITLE': 'What\\'s on your mind?',\n            'COMPOSITE_PLACEHOLDER': 'Type text ...',\n            'COMPOSITE_START_TIME': 'Start time',\n            'COMPOSITE_END_TIME': 'End time'\n        });\n        (pipTranslate).setTranslations('ru', {\n            'COMPOSITE_TITLE': '    ?',\n            'COMPOSITE_PLACEHOLDER': '  ...',\n            'COMPOSITE_START_TIME': ' ',\n            'COMPOSITE_END_TIME': ' '\n        });\n    }\n}\n\nexport class CompositeControl {\n    save: (successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void) => void;\n    abort: () => void;\n    error?: any;\n}\n\nclass SenderEvent {\n    event: CompositeControl;\n}\n\nexport class CompositeContent extends ContentBlock {\n    public empty?: boolean;\n    public documents?: pip.documents.DocumentListEditControl;\n    public pictures?: pip.pictures.PictureListEditControl;\n}\n\nexport class CompositeBlockTypes {\n    static Text: string = 'text';\n    static Pictures: string = 'pictures';\n    static Checklist: string = 'checklist';\n    static Documents: string = 'documents';\n    static Location: string = 'location';\n    static Time: string = 'time';\n    static SecondaryBlock = ['checklist', 'documents', 'location', 'time']\n    static PrimaryBlock = ['text', 'pictures']\n    static All = ['text', 'pictures', 'checklist', 'documents', 'location', 'time']\n}\n\n{\n\n    class CompositeSelected {\n        public index: number = 0;\n        public drag: boolean = true;\n        public dragId: number = 0;\n        public id: number;\n        public isChanged: boolean = false;\n        public event?: string;\n    }\n\n    interface ICompositeEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipContents: any;\n        pipCreated: any;\n        compositeId: any;\n        pipCompositePlaceholder: any;\n        pipScrollContainer: any;\n        addedContent: any;\n        pipRebind: any;\n    }\n\n    const CompositeEditBindings: ICompositeEditBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipCreated: '&?',\n        pipContents: '=?',\n        compositeId: '<?pipCompositeId',\n        pipCompositePlaceholder: '<?',\n        pipScrollContainer: '<?',\n        addedContent: '<?pipAddedContent',\n        pipRebind: '<?'\n    }\n\n    class CompositeEditBindingsChanges implements ng.IOnChangesObject, ICompositeEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipCreated: ng.IChangesObject<(event: SenderEvent) => ng.IPromise<void>>;\n        pipContents: ng.IChangesObject<CompositeContent[]>;\n        compositeId: ng.IChangesObject<number>;\n        pipCompositePlaceholder: ng.IChangesObject<string>;\n        pipScrollContainer: ng.IChangesObject<string>;\n        addedContent: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeEditController implements ICompositeEditBindings {\n        private defaultPlaceholder: string = 'COMPOSITE_PLACEHOLDER';\n        private CONTENT_TYPES: string[] = CompositeBlockTypes.All;\n        private cleanupCompositeEvent: any;\n        private cleanupCompositeFocusedEvent: any;\n        private cleanupChecklistDraggEvent: any;\n        private _debounceChange: any;\n\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipCreated: (event: SenderEvent) => void;\n        public pipContents: CompositeContent[];\n        public compositeId: number;\n        public pipCompositePlaceholder: string;\n        public pipScrollContainer: string;\n        public addedContent: string;\n        public pipRebind: boolean;\n\n        public compositeContent: CompositeContent[];\n        public selected: CompositeSelected;\n        public isFirst: boolean;\n        public compositePlaceholder: string;\n\n        public control: CompositeControl;\n\n        constructor(\n            private $q,\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $document,\n            private $rootScope: ng.IRootScopeService,\n            private pipTranslate: pip.services.ITranslateService\n\n        ) {\n            \"ngInject\";\n\n            this.selected = new CompositeSelected();\n            this.selected.id = this.now();\n\n            $element.addClass('pip-composite-edit');\n\n            this.generateList(this.pipContents);\n            this.setPlaceholder();\n            this.control = {\n                save: (successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void) => {\n                    this.saveContent(successCallback, errorCallback);\n                },\n                abort: () => {\n                    this.abortContent();\n                },\n                error: null\n            };\n            this.executeCallback();\n\n            this.cleanupCompositeEvent = this.$rootScope.$on(CompositeAddItemEvent,\n                (event: ng.IAngularEvent, args: CompositeAddItem) => {\n                    if (this.compositeId) {\n                        if (args.id && args.id == this.compositeId) {\n                            this.addItem(args.type);\n                        }\n                    } else {\n                        this.addItem(args.type);\n                    }\n                });\n\n            this.cleanupChecklistDraggEvent = this.$rootScope.$on(ChecklistDraggEvent, () => {\n                this.selected.drag = false;\n                this.$timeout(() => {\n                    this.selected.drag = false;\n                }, 0);\n            });\n\n            this.cleanupCompositeFocusedEvent = this.$rootScope.$on(CompositeFocusedEvent, () => {\n                if (this.isFirst) {\n                    this.$timeout(() => {\n                        let nextElement = angular.element('#composite-item-text-' + this.selected.id + '-0');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                }\n            });\n\n            this._debounceChange = _.debounce(() => {\n                this.onCompositeChange();\n            }, 200);\n        }\n\n        private abortContent(): void {\n            _.each(this.compositeContent, (item: CompositeContent) => {\n                if (item.pictures && item.pictures.abort) {\n                    item.pictures.abort();\n                } else if (item.documents && item.documents.abort) {\n                    item.documents.abort();\n                }\n            });\n        }\n\n        private getPicIdsArray(data: pip.pictures.Attachment[]): string[] {\n            let result: string[] = [];\n\n            _.each(data, (item: pip.pictures.Attachment) => {\n                if (item.id) {\n                    result.push(item.id);\n                }\n            });\n\n            return result;\n        }\n\n        private saveContent(successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void, abortFirstError?: boolean): void {\n            let content: CompositeContent[];\n            content = _.cloneDeep(this.compositeContent);\n            let saveFirstError: any = null;\n\n            async.eachOf(this.compositeContent,\n                (item, index, callback) => {\n                    if (item.pictures && item.pictures.save) {\n                        item.pictures.save(\n                            (data: pip.pictures.Attachment[]) => {\n                                delete item.picIds;\n                                item.pic_ids = this.getPicIdsArray(data);\n                                callback();\n                            },\n                            (error: any) => {\n                                saveFirstError = saveFirstError ? saveFirstError : error;\n                                if (abortFirstError) {\n                                    callback(error);\n                                } else {\n                                    callback();\n                                }\n                            }\n                        );\n                    } else if (item.documents && item.documents.save) {\n                        item.documents.save(\n                            (data: pip.documents.Attachment[]) => {\n                                item.docs = data;\n                                callback();\n                            },\n                            (error: any) => {\n                                saveFirstError = saveFirstError ? saveFirstError : error;\n                                if (abortFirstError) {\n                                    callback(error);\n                                } else {\n                                    callback();\n                                }\n                            }\n                        );\n                    } else {\n                        callback();\n                    }\n                },\n                (error, result) => {\n                    if (error || saveFirstError) {\n                        if (abortFirstError) {\n                            this.abortContent();\n                        } \n                        this.compositeContent = content;\n                        if (errorCallback) errorCallback(error);\n                    } else {\n                        this.onCompositeChange();\n                        if (successCallback) successCallback(this.pipContents);\n                    }\n                });\n        }\n\n        public $onDestroy() {\n            if (angular.isFunction(this.cleanupCompositeEvent)) {\n                this.cleanupCompositeEvent();\n            }\n            if (angular.isFunction(this.cleanupChecklistDraggEvent)) {\n                this.cleanupChecklistDraggEvent();\n            }\n            if (angular.isFunction(this.cleanupCompositeFocusedEvent)) {\n                this.cleanupCompositeFocusedEvent();\n            }\n        }\n\n        public $onChanges(changes: CompositeEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n                if (this.pipRebind && changes.pipContents && _.isArray(changes.pipContents.currentValue)) {\n                    if (!this.selected.isChanged || (this.pipContents\n                        && this.pipContents.length != this.compositeContent.length)) {\n                        this.generateList(this.pipContents);\n                        this.selected.isChanged = false;\n                    }\n                }\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (changes.pipCompositePlaceholder && changes.pipCompositePlaceholder.currentValue !== changes.pipCompositePlaceholder.previousValue) {\n                this.pipCompositePlaceholder = changes.pipCompositePlaceholder.currentValue;\n                this.setPlaceholder();\n            }\n        }\n\n        private executeCallback() {\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    event: this.control\n                });\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) { return false; }\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getEmptyItem(): CompositeContent {\n            let emptyItem: CompositeContent = {\n                empty: true,\n                id: this.getId(),\n                type: 'text',\n                text: '', docs: [], pic_ids: [], loc_pos: null, loc_name: '',\n                start: null, end: null, checklist: []\n            }\n\n            return emptyItem;\n        }\n\n\n        private setPlaceholder(): void {\n            this.compositePlaceholder =\n                (this.pipCompositePlaceholder === undefined || this.pipCompositePlaceholder === null) ?\n                    this.pipTranslate.translate(this.defaultPlaceholder) :\n                    this.pipTranslate.translate(this.pipCompositePlaceholder);\n        }\n\n        private addItem(contentType: string, value?: any): void {\n            if (_.indexOf(this.CONTENT_TYPES, contentType) < 0) return;\n\n            // generate new item\n            var newItem: CompositeContent = {\n                id: this.getId(),\n                type: contentType,\n                text: contentType == 'text' ? value : '',\n                docs: contentType == 'documents' && value ? value : [],\n                pic_ids: contentType == 'pictures' && value ? value : [],\n                loc_pos: contentType == 'location' && value ? value.loc_pos : null,\n                loc_name: contentType == 'location' && value ? value.loc_name : '',\n                start: contentType == 'time' && value ? value.start : null,\n                end: contentType == 'time' && value ? value.end : null,\n                checklist: contentType == 'checklist' && value ? value : []\n            };\n\n            // calculate current index\n            let index: number = _.findIndex(this.compositeContent, { id: this.selected.index });\n            index = index < 0 ? 0 : index;\n\n            // insert new element and select it\n            if (this.compositeContent.length == 1 && this.compositeContent[0].empty) {\n                this.compositeContent[0] = newItem;\n            } else {\n                this.compositeContent.splice(index + 1, 0, newItem);\n                index += 1;\n            }\n\n            // insert new element and select it\n            this.selected.index = newItem.id;\n            this.onSelect();\n\n            // focus to new element\n            setTimeout(this.scrollTo(this.pipScrollContainer, '#composite-item-' + this.selected.id + '-' + index), 1000);\n\n            // set toolbar\n            this.isFirst = false;\n            this.setToolbar();\n            this._debounceChange();\n        }\n\n        private getId(): number {\n            let id: number = -1;\n            _.each(this.compositeContent, (item: CompositeContent) => {\n                if (id < item.id) id = item.id;\n            });\n\n            return id + 1;\n        }\n\n        private scrollTo(parentElement: any, childElement: any): void {\n            if (!parentElement || !childElement) { return; }\n\n            setTimeout(() => {\n                if (!$(childElement).position()) { return; }\n\n                let modDiff: number = Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\n                if (modDiff < 20) { return; }\n\n                let scrollTo: number = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\n                $(parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, 300);\n            }, 100);\n        }\n\n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private generateList(content: CompositeContent[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n\n                return;\n            } else {\n                this.compositeContent = [];\n                _.each(content, (item: CompositeContent) => {\n                    item.id = this.getId();\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    this.compositeContent.push(item);\n                });\n                this.isFirst = false;\n            }\n\n            this.setToolbar();\n        }\n\n        private setToolbar(): void {\n            if (this.compositeContent.length > 2) { return; }\n\n            this.$rootScope.$emit(CompositeNotEmptyEvent, !this.isFirst);\n        }\n\n        private clearList(): void {\n            this.compositeContent = [];\n\n            this.compositeContent.push(this.getEmptyItem());\n            this.isFirst = true;\n        }\n\n        private now(): number {\n            return +new Date;\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            this.pipContents = this.compositeContent;\n        }\n\n        private getParentIndex(el: any): number {\n            if (el.length < 1) return null;\n            let elParent = el.parent();\n            if (elParent[0] && elParent[0].id && elParent[0].id.indexOf('composite-item-' + this.selected.id) > -1) {\n                let strs = elParent[0].id.split('-');\n\n                let parentIndex: number = parseInt(strs[strs.length - 1], 10);\n                return parentIndex;\n            } else {\n                return this.getParentIndex(elParent);\n            }\n        }\n\n        // ---------------- public\n\n        public isActiveChecklist(obj: CompositeContent): boolean {\n            // return obj.id == this.selected.index;\n            return obj.id == this.selected.id;\n        }\n\n        public onKeyUp($event: KeyboardEvent): void {\n            if ($event.keyCode == 9) {\n                this.$timeout(() => {\n                    let focusedElement = angular.element(this.$document[0].activeElement);\n                    let parentIndex: number = this.getParentIndex(focusedElement);\n                    if (parentIndex != null) {\n                        this.selected.index = parentIndex;\n                    }\n                    // ??? index = id\n                    this.selected.index = this.compositeContent[parentIndex].id;\n                }, 50);\n            }\n        }\n\n        public onKeyDown($event: KeyboardEvent, index: number, item: CompositeContent): void {\n            if (this.ngDisabled) { return; }\n            // delete item\n            if (item && !item.empty && $event.keyCode == 46 && !$event.ctrlKey && $event.shiftKey) {\n                if ($event) {\n                    $event.stopPropagation();\n                    $event.preventDefault();\n                }\n                if (index > -1) {\n                    this.onDeleteItem(index);\n                }\n            }\n        }\n\n        public onCompositeChange(): void {\n            this.updateContents();\n            if (this.pipChanged) {\n                this.pipChanged(this.pipContents);\n            }\n        }\n\n        public onDeleteItem(index: number): void {\n            if (index < 0 || this.compositeContent.length == 0) return;\n\n            // delete last element in composite\n            if (this.compositeContent.length == 1) {\n                this.compositeContent[0] = this.getEmptyItem();\n                this.selected.index = this.compositeContent[0].id;\n                this.onSelect(0);\n                this.isFirst = true;\n                this.setToolbar();\n            } else {\n                if (index >= 0 && index < this.compositeContent.length) {\n                    this.compositeContent.splice(index, 1);\n                }\n                if (index == this.compositeContent.length) {\n                    this.selected.index = this.compositeContent[this.compositeContent.length - 1].id;\n                } else {\n                    this.selected.index = this.compositeContent[index].id;\n                }\n                this.onSelect();\n            }\n\n            this.setToolbar();\n            this._debounceChange();\n        }\n\n        public onContentChange(obj: any): void { //CompositeContent\n            if (obj && obj.empty && obj.text) {\n                obj.empty = false;\n                this.isFirst = false;\n                this.setToolbar();\n            }\n            if (!this.ngDisabled) {\n                this._debounceChange();\n            }\n        }\n\n        public isSelectedSection(index: number, obj: CompositeContent): boolean {\n            return this.selected.index == obj.id && !obj.empty;\n        }\n\n        public onDraggEnd(): void {\n            this.selected.drag = true;\n        }\n\n        public onStart(id: number): void {\n            if (id && id != this.selected.dragId) {\n                this.selected.drag = false;\n            }\n        }\n\n        public onStop(id: number): void {\n            this.$timeout(() => {\n                this.selected.drag = true;\n                this.selected.dragId = 0;\n            }, 500);\n        }\n\n        public onDownDragg($event: ng.IAngularEvent, obj: CompositeContent) {\n            if (this.ngDisabled) return;\n            this.selected.dragId = this.selected.id;\n            this.selected.drag = true;\n            this.selected.index = obj.id;\n        }\n\n        public onClick($event: JQueryEventObject, index: number, obj: CompositeContent): void {\n            if (this.ngDisabled) { return; }\n\n            this.selected.event = 'onClick';\n            if ($event && $event.target && $event.target.tagName &&\n                ($event.target.tagName == 'INPUT' || $event.target.tagName == 'TEXTAREA')) {\n                this.selected.index = obj.id;\n\n                return;\n            }\n\n            if ((this.selected.index == obj.id && obj.type == 'checklist' && obj.checklist.length > 0) ||\n                (this.selected.index == obj.id && obj.type == 'location')) { return; }\n\n            this.selected.index = obj.id;\n            this.onSelect();\n        }\n\n        public onDropComplete(placeIndex: number, obj: CompositeContent, event: JQueryEventObject, componentId: number): void {\n            if (componentId != this.selected.id || !obj || !obj.type) {\n                this.compositeContent = _.cloneDeep(this.pipContents);\n\n                return;\n            }\n\n            let index: number = placeIndex;\n            let tmpIndex: number = _.findIndex(this.compositeContent, { id: obj.id }); //this.selected.index});\n            let i: number;\n\n            if (!(tmpIndex == 0 && placeIndex == 1)) {\n                if (tmpIndex > index) {\n                    if (index > this.compositeContent.length - 1) index = this.compositeContent.length - 1;\n                    // move up\n                    for (i = 0; i < tmpIndex - index; i++) {\n                        this.compositeContent[tmpIndex - i] = this.compositeContent[tmpIndex - i - 1];\n                    }\n                    this.compositeContent[index] = obj;\n                }\n                if (tmpIndex < index) {\n                    index -= 1;\n                    //move down\n                    for (i = 0; i < index - tmpIndex; i++) {\n                        this.compositeContent[tmpIndex + i] = this.compositeContent[tmpIndex + i + 1];\n                    }\n                    this.compositeContent[index] = obj;\n                }\n                this.selected.index = this.compositeContent[index].id;\n            }\n\n            this.onSelect();\n            this._debounceChange();\n        }\n\n        public onSelect(index?: number): void {\n            if (!index) {\n                index = _.findIndex(this.compositeContent, { id: this.selected.index });\n            }\n            if (index < 0) { return; }\n\n            let item: CompositeContent = this.compositeContent[index];\n            if (_.isEmpty(item)) { return; }\n\n            let nextElement;\n            switch (item.type) {\n                //case 'text':\n                //        setTimeout(() => {\n                //            var nextElement = angular.element('#composite-item-text-' + this.selected.id + '-' + index);\n                //            //var nextElement = angular.element('#composite-item-text-' + this.selected.id + '-' + this.selected.index);\n                //            if (nextElement && !nextElement.is(':focus')) nextElement.focus();\n                //            //this.selected.stopKey = false;\n                //        },  50);\n                //    break;\n                case 'pictures':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' button.pip-picture-upload');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                case 'documents':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' button.pip-document-upload');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                //case 'checklist':\n                //        setTimeout(() => {\n                //            var nextElement = angular.element(\n                //                '#composite-item-' + this.selected.id + '-' + index + ' textarea[id^=\\'empty-item-\\'');\n                //            if (nextElement && !nextElement.is(':focus')) nextElement.focus();\n                //            //this.selected.stopKey = false;\n                //        },  50);\n                //    break;\n                case 'location':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' .pip-location-empty  button');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                case 'time':\n                    break;\n            }\n        }\n\n        // set element responsive width when element places\n        //public setWidth100(index: number): void {\n        //    let element = angular.element('#composite-item-' + this.selected.id + '-' + index);\n        //    element.css( \"width\", 'none');\n        //    element.css( \"max-width\", 'none');\n        //};\n        //\n        //// set draggable element width when your dragg\n        //public setWidth(index: number): void {\n        //    if (this.selected.isWidth) return;\n        //    let elementEtalon = angular.element('#pip-composite-last-' + + this.selected.id);\n        //    let value = elementEtalon.width();\n        //    let element = angular.element('#composite-item-' + this.selected.id + '-' + index);\n        //    if (element) {\n        //        element.css(\"width\", value + 'px');\n        //        element.css(\"max-width\", value + 'px');\n        //    }\n        //};\n\n    }\n\n    const CompositeEdit: ng.IComponentOptions = {\n        bindings: CompositeEditBindings,\n        templateUrl: 'composite_edit/CompositeEdit.html',\n        controller: CompositeEditController\n    }\n\n    angular.module(\"pipCompositeEdit\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates'])\n        .run(ConfigTranslations)\n        .component('pipCompositeEdit', CompositeEdit);\n\n}\n\n\n","import { CompositeBlockTypes } from '../composite_edit/CompositeEdit';\nimport { ContentBlock, ChecklistItem } from '../data';\n{\n\n    interface ICompositeSummaryBindings {\n        [key: string]: any;\n\n        pipContents: any;\n        pipChecklistSize: any;\n        pipTextSize: any;\n        pipPrimaryBlockLimit: any;\n        pipSecondaryBlockLimit: any;\n        pipSecondaryBlockTypes: any;\n        pipRebind: any;\n    }\n\n    const CompositeSummaryBindings: ICompositeSummaryBindings = {\n\n        pipContents: '<?',\n        pipChecklistSize: '<?',\n        pipTextSize: '<?',\n        pipPrimaryBlockLimit: '<?',\n        pipSecondaryBlockLimit: '<?',\n        pipSecondaryBlockTypes: '<?',\n        pipRebind: '<?'\n    }\n\n    class CompositeSummaryBindingsChanges implements ng.IOnChangesObject, ICompositeSummaryBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipContents: ng.IChangesObject<ContentBlock[]>;\n        pipChecklistSize: ng.IChangesObject<number>;\n        pipTextSize: ng.IChangesObject<number>;\n        pipPrimaryBlockLimit: ng.IChangesObject<number>;\n        pipSecondaryBlockLimit: ng.IChangesObject<number>;\n        pipSecondaryBlockTypes: ng.IChangesObject<string[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeSummaryController {\n        public pipContents: ContentBlock[];\n        public pipChecklistSize: number;\n        public pipTextSize: number;\n        public pipPrimaryBlockLimit: number;\n        public pipSecondaryBlockLimit: number;\n        public pipSecondaryBlockTypes: string[];\n        public pipRebind: boolean;\n\n        public compositeContent: ContentBlock[];\n\n        public disableControl: boolean = true;\n        public disabledChecklist: boolean = true;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-composite-summary');\n\n            this.pipChecklistSize = this.pipChecklistSize ? this.pipChecklistSize : 0;\n            this.pipTextSize = this.pipTextSize ? this.pipTextSize : 0;\n            this.pipPrimaryBlockLimit = this.pipPrimaryBlockLimit === undefined || this.pipPrimaryBlockLimit === null ? -1 : this.pipPrimaryBlockLimit;\n            this.pipSecondaryBlockLimit = this.pipSecondaryBlockLimit === undefined || this.pipSecondaryBlockLimit === null ? -1 : this.pipSecondaryBlockLimit;\n            this.pipSecondaryBlockTypes = this.pipSecondaryBlockTypes && _.isArray(this.pipSecondaryBlockTypes) ? this.pipSecondaryBlockTypes : CompositeBlockTypes.SecondaryBlock;\n\n            this.generateList(this.pipContents);\n        }\n\n        public $onChanges(changes: CompositeSummaryBindingsChanges) {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipContents && changes.pipContents.currentValue) {\n                    if (!angular.equals(this.pipContents, changes.pipContents.currentValue)) {\n                        this.generateList(this.pipContents);\n                    }\n                }\n            }\n        }\n\n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n\n        // limit cacklist position\n        public limitChecklist(content: ContentBlock[], val: number): void {\n            if (!val) return;\n            let ellapsed: ChecklistItem = {\n                text: '...',\n                checked: false\n            };\n            _.each(content, (item: ContentBlock) => {\n                if (item && item.type == CompositeBlockTypes.Checklist) {\n                    let checklistLength: number = item.checklist.length;\n                    item.checklist = _.take(item.checklist, val);\n                    if (checklistLength > val) {\n                        item.checklist.push(ellapsed);\n                    }\n                }\n            });\n        };\n\n        // choose primary blocks (text and picture)\n        public selectSummary(content: ContentBlock[]): ContentBlock[] {\n            let result: ContentBlock[] = [];\n            let i: number;\n\n            _.each(content, (item: ContentBlock) => {\n                if (this.pipPrimaryBlockLimit >= 0 && i >= this.pipPrimaryBlockLimit) {\n                    return result;\n                }\n                //if (item.type == 'text' || item.type == 'pictures' ) {\n                if (this.pipSecondaryBlockTypes.indexOf(item.type) < 0) {\n                    result.push(item);\n                    i += 1;\n                }\n            });\n\n            return result;\n        }\n\n        //      \n        public selectSummarySecondary(content: ContentBlock[], types: string[]): ContentBlock[] {\n            let i: number;\n            let limit: number = this.pipSecondaryBlockLimit < 0 ? content.length : this.pipSecondaryBlockLimit;\n            let result: ContentBlock[] = [];\n\n            for (i; i < content.length; i++) {\n                if (types.indexOf(content[i].type) > -1) {\n                    result.push(content[i]);\n                    if (result.length >= limit) {\n                        break;\n                    }\n                }\n            }\n\n            return result;\n        }\n\n        public generateList(content: ContentBlock[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n\n                return;\n            } else {\n                let summaryContent: ContentBlock[] = _.cloneDeep(content);\n                let result: ContentBlock[] = this.selectSummary(summaryContent);\n                if (result.length == 0) {\n                    result = this.selectSummarySecondary(summaryContent, this.pipSecondaryBlockTypes);\n                }\n\n                this.limitChecklist(result, this.pipChecklistSize);\n\n                let id: number;\n                _.each(result, (item: ContentBlock) => {\n                    item.id = id;\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    id++;\n                });\n                this.compositeContent = result;\n            }\n        }\n\n        public clearList() {\n            this.compositeContent = [];\n        }\n    }\n\n    const CompositeSummary: ng.IComponentOptions = {\n        bindings: CompositeSummaryBindings,\n        templateUrl: 'composite_summary/CompositeSummary.html',\n        controller: CompositeSummaryController\n    }\n\n    angular.module(\"pipCompositeSummary\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates'])\n        .component('pipCompositeSummary', CompositeSummary);\n\n}\n\n","import { CompositeEmptyEvent, CompositeAddItemEvent } from '../composite_edit/CompositeEdit';\n\nexport class CompositeAddItemEventParams {\n    public type: string;\n    public id: string;\n}\n\nexport class CompositeToolbarButton {\n    public picture: boolean = true;\n    public document: boolean = true;\n    public location: boolean = true;\n    public event: boolean = true;\n    public checklist: boolean = true;\n    public text: boolean = true;\n}\n\n{\n    const translateConfig = function (pipTranslateProvider) {\n        pipTranslateProvider.translations('en', {\n            'TEXT': 'Text',\n            'CHECKLIST': 'Checklist',\n            'LOCATION': 'Location',\n            'PICTURE': 'Picture',\n            'TIME': 'Time',\n            'DOCUMENT': 'Document'\n        });\n\n        pipTranslateProvider.translations('ru', {\n            'TEXT': '',\n            'CHECKLIST': '',\n            'LOCATION': '',\n            'PICTURE': '',\n            'TIME': '',\n            'DOCUMENT': 'Document'\n        });\n    }\n\n    interface ICompositeToolbarBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        emptyState: any;\n        pipToolbarButton: any;\n        compositeId: any;\n    }\n\n    const CompositeToolbarBindings: ICompositeToolbarBindings = {\n        ngDisabled: '<?',\n        emptyState: '<?pipCompositeEmpty', // Set init state of toolbar\n        pipToolbarButton: '=?', // Set visibility of toolbar button, true by default\n        compositeId: '=?pipCompositeId', // Set pip-composite-id, for several composite components in one scope\n    }\n\n    class CompositeToolbarBindingsChanges implements ng.IOnChangesObject, ICompositeToolbarBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject< boolean >;\n        emptyState: ng.IChangesObject< boolean >;\n        pipToolbarButton: ng.IChangesObject<CompositeToolbarButton>;;\n        compositeId: ng.IChangesObject<string>;\n    }\n\n    class CompositeToolbarController {\n        private cleanupCompositeEvent: any;\n\n        public toolbarButton: CompositeToolbarButton;\n\n        public ngDisabled: boolean;\n        public emptyState: boolean;\n        public pipToolbarButton: CompositeToolbarButton;\n        public compositeId: string;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery\n        ) {\n\"ngInject\";\n\n            this.toolbarButton = new CompositeToolbarButton();\n\n            this.setOption();\n\n            $element.addClass('pip-composite-toolbar');\n\n            this.cleanupCompositeEvent = this.$rootScope.$on(CompositeEmptyEvent, (event: ng.IAngularEvent, value: boolean) => {\n                this.emptyState = !value;\n            });\n        }\n\n        public $onDestroy() {\n            if (angular.isFunction(this.cleanupCompositeEvent)) {\n                this.cleanupCompositeEvent();\n            }\n        }\n\n        public $onChanges(changes: CompositeToolbarBindingsChanges) {\n            if (changes.pipToolbarButton && changes.pipToolbarButton.currentValue) {\n                this.setOption();\n            }\n        }\n\n        public toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public onAddItem(contentType: string): void {\n            let params: CompositeAddItemEventParams = {\n                type: contentType,\n                id: this.compositeId\n            };\n\n            this.$rootScope.$emit(CompositeAddItemEvent, params);\n        };\n\n        public setOption(): void {\n            _.assign(this.pipToolbarButton, this.pipToolbarButton);\n            this.toolbarButton.text = true;\n            // if (this.pipToolbarButton !== null && this.pipToolbarButton !== undefined) {\n            //     this.toolbarButton.picture = this.pipToolbarButton.picture === false ? this.pipToolbarButton.picture : true;\n            //     this.toolbarButton.document = this.pipToolbarButton.document === false ? this.pipToolbarButton.document : true;\n            //     this.toolbarButton.location = this.pipToolbarButton.location === false ? this.pipToolbarButton.location : true;\n            //     this.toolbarButton.event = this.pipToolbarButton.event === false ? this.pipToolbarButton.event : true;\n            //     this.toolbarButton.checklist = this.pipToolbarButton.checklist === false ? this.pipToolbarButton.checklist : true;\n            // } else {\n            //     this.toolbarButton.picture = true;\n            //     this.toolbarButton.document = true;\n            //     this.toolbarButton.location = true;\n            //     this.toolbarButton.event = true;\n            //     this.toolbarButton.checklist = true;\n            // }\n            // this.toolbarButton.text = true;\n        };\n    }\n\n\n    const CompositeToolbar: ng.IComponentOptions = {\n        bindings: CompositeToolbarBindings,\n        templateUrl: 'composite_toolbar/CompositeToolbar.html',\n        controller: CompositeToolbarController\n    }\n\n    angular.module(\"pipCompositeToolbar\", ['pipComposite.Templates'])\n        .config(translateConfig)\n        .component('pipCompositeToolbar', CompositeToolbar);\n\n}","import { ContentBlock } from '../data';\n{\n    interface ICompositeViewBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipDisabledChecklist: any;\n        pipChanged: any;\n        pipContents: any;\n        pipRebind: any;\n    }\n\n    const CompositeViewBindings: ICompositeViewBindings = {\n        ngDisabled: '<?',\n        pipDisabledChecklist: '<?',\n        pipChanged: '=?',\n        pipContents: '=?',\n        pipRebind: '<?'\n    }\n\n    class CompositeViewBindingsChanges implements ng.IOnChangesObject, ICompositeViewBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipDisabledChecklist: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipContents: ng.IChangesObject<ContentBlock[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeViewController implements ICompositeViewBindings {\n        public ngDisabled: boolean;\n        public pipDisabledChecklist: boolean;\n        public pipChanged: Function;\n        public pipContents: ContentBlock[];\n        public pipRebind: boolean;\n\n        public compositeContent: ContentBlock[];\n\n        private selected: any = {};\n\n        constructor(\n            private $element: JQuery,\n            private $attrs: ng.IAttributes\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-composite-view');\n            this.selected.isChanged = false;\n            this.pipContents = _.isArray(this.pipContents) ? this.pipContents : [];\n\n            this.generateList(this.pipContents);\n        }\n\n        public $onChanges(changes: CompositeViewBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n                if (this.pipRebind && changes.pipContents && _.isArray(changes.pipContents.currentValue)) {\n                    this.selected.isChanged === true ? this.selected.isChanged = false : this.generateList(changes.pipContents.currentValue);\n                }\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (changes.pipDisabledChecklist && changes.pipDisabledChecklist.currentValue !== changes.pipDisabledChecklist.previousValue) {\n                this.pipDisabledChecklist = changes.pipDisabledChecklist.currentValue;\n            }\n        }\n        \n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            this.pipContents = this.compositeContent;\n        }\n\n        public isDisabled(): boolean {\n            return this.pipDisabledChecklist === true || this.ngDisabled === true;\n        }\n\n        public onContentChange(): void {\n            this.updateContents();\n            if (this.pipChanged) {\n                this.pipChanged(this.pipContents);\n            }\n        }\n\n        public onCompositeChange(): void {\n            this.updateContents();\n            if (this.pipChanged)\n                this.pipChanged(this.pipContents);\n        }\n\n        private generateList(content: ContentBlock[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n                return;\n            } else {\n                this.compositeContent = [];\n                let id: number = 0;\n                _.each(content, (item: ContentBlock) => {\n                    if (typeof (item) != 'object' || item == null) {\n                        throw new Error('Error: content error!');\n                    }\n                    item.id = id;\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    id++;\n                    this.compositeContent.push(item);\n                });\n            }\n        }\n\n        private clearList(): void {\n            this.compositeContent = [];\n        }\n    }\n\n    const CompositeView: ng.IComponentOptions = {\n        bindings: CompositeViewBindings,\n        templateUrl: 'composite_view/CompositeView.html',\n        controller: CompositeViewController\n    }\n\n    angular.module(\"pipCompositeView\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates', 'pipEmbeddedView'])\n        .component('pipCompositeView', CompositeView);\n\n}","{\n    interface IContentSwitchAttributes extends angular.IAttributes {\n        pipParentElementName: any;\n    }\n\n    interface IContentSwitchScope extends angular.IScope {\n        onButtonClick: any;\n        contentSwitchOption: any;\n        showIconPicture: any;\n        showIconDocument: any;\n        showIconEvent: any;\n        showIconLocation: any;\n        showEvent: any;\n        showDocuments: any;\n        showLocation: any;\n        showPictures: any;\n    }\n\n    class ContentSwitchLink {\n        private parentElementNameGetter: any;\n        private parentElement: any;\n\n        constructor(\n            private $parse: ng.IParseService,\n            private $scope: IContentSwitchScope,\n            private $element: JQuery,\n            private $attrs: IContentSwitchAttributes\n        ) {\n            \"ngInject\";\n            \n            this.parentElementNameGetter = $parse($attrs.pipParentElementName);\n            this.parentElement = this.parentElementNameGetter($scope);\n            this.setOption();\n        }\n\n        private scrollTo(childElement): void {\n            setTimeout(() => {\n                let modDiff: number = Math.abs($(this.parentElement).scrollTop() - $(childElement).position().top);\n                if (modDiff < 20) {\n                    return;\n                }\n                let scrollTo = $(this.parentElement).scrollTop() + ($(childElement).position().top - 20);\n                $(this.parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, 300);\n            }, 100);\n        };\n\n        private setOption(): void {\n            // todo\n            if (this.$scope.contentSwitchOption !== null && this.$scope.contentSwitchOption !== undefined) {\n                this.$scope.showIconPicture = this.$scope.contentSwitchOption.picture ? this.$scope.contentSwitchOption.picture : this.$scope.showIconPicture;\n                this.$scope.showIconDocument = this.$scope.contentSwitchOption.document ? this.$scope.contentSwitchOption.document : this.$scope.showIconDocument;\n                this.$scope.showIconLocation = this.$scope.contentSwitchOption.location ? this.$scope.contentSwitchOption.location : this.$scope.showIconLocation;\n                this.$scope.showIconEvent = this.$scope.contentSwitchOption.event ? this.$scope.contentSwitchOption.event : this.$scope.showIconEvent;\n            } else {\n                this.$scope.showIconPicture = true;\n                this.$scope.showIconDocument = true;\n                this.$scope.showIconLocation = true;\n                this.$scope.showIconEvent = true;\n            }\n        };\n\n        public onButtonClick(type: string): void {\n            if (!this.parentElement) return;\n\n            switch (type) {\n                case 'event':\n                    // On Event click action\n                    if (this.$scope.showEvent)\n                        scrollTo('.event-edit');\n                    break;\n                case 'documents':\n                    // On Documents click action\n                    if (this.$scope.showDocuments)\n                        scrollTo('.pip-document-list-edit');\n                    break;\n                case 'pictures':\n                    // On Pictures click action\n                    if (this.$scope.showPictures)\n                        scrollTo('.pip-picture-list-edit');\n                    break;\n                case 'location':\n                    // On Location click action\n                    if (this.$scope.showLocation)\n                        scrollTo('.pip-location-edit');\n                    break;\n            };\n        };\n\n\n    }\n\n    const ContentSwitch = function ($parse: ng.IParseService) {\n        return {\n            restrict: 'EA',\n            scope: false,\n            templateUrl: 'content_switch/ContentSwitch.html',\n            link: function (\n                $scope: IContentSwitchScope,\n                $element: JQuery,\n                $attrs: IContentSwitchAttributes\n            ) {\n                new ContentSwitchLink($parse, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular.module(\"pipContentSwitch\", ['pipComposite.Templates'])\n        .directive('pipContentSwitch', ContentSwitch);\n\n}","export class ChecklistItem {\n    checked: boolean;\n    text: string;\n    empty?: boolean;\n}","import { ChecklistItem } from './ChecklistItem';\n\nexport class ContentBlock {\n    public id?: number;\n    public type: string;\n    public text?: string;\n    public docs?: pip.documents.Attachment[];\n    public picIds?: pip.documents.Attachment[];\n    public pic_ids?: string[];\n    public loc_pos?: any; \n    public loc_name?: string;\n    public start?: string;\n    public end?: string;\n    public all_day?: boolean;\n    public checklist?: ChecklistItem[];\n    public embed_type?: string;\n    public embed_uri?: string;\n    public custom?: any;\n}","export class ContentBlockType {\n    public static readonly Text: string = \"text\";\n    public static readonly Checklist: string = \"checklist\";\n    public static readonly Location: string = \"location\";\n    public static readonly Time: string = \"time\";\n    public static readonly Pictures: string = \"pictures\";\n    public static readonly Documents: string = \"documents\";\n    public static readonly Embedded: string = \"embedded\";\n    public static readonly Custom: string = \"custom\";\n}","export class EmbeddedType {\n    public static readonly Youtube: string = \"youtube\";\n    public static readonly Custom: string = \"custom\";\n}","import './Content';\nimport './ChecklistItem';\nimport './ContentBlockType';\n\nexport * from './Content';\nexport * from './ChecklistItem';\nexport * from './ContentBlockType';","import { EmbeddedType } from '../data/EmbeddedType';\n\ninterface IEmbeddedEditBindings {\n    [key: string]: any;\n\n    embed_type: any;\n    embed_uri: any;\n    onChange: any;\n    ngDisabled: any;\n}\n\nconst EmbeddedEditBindings: IEmbeddedEditBindings = {\n    embed_type: '=?pipEmbeddedType',\n    embed_uri: '=?pipEmbeddedUri',\n    onChange: '=pipChanged',\n    ngDisabled: '&?ngDisabled'\n}\n\nclass EmbeddedEditChanges implements ng.IOnChangesObject, IEmbeddedEditBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    embed_type: ng.IChangesObject<string>;\n    embed_uri: ng.IChangesObject<string>;\n    ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n    onChange: ng.IChangesObject<() => ng.IPromise<void>>;\n}\n\n// class EmbeddeObj {\n//     public embed_type: string;\n//     public embed_uri: string;\n// }\n\nclass EmbeddedEditController implements ng.IController {          public $onInit() {}\n    public form: any;\n    public touchedErrorsWithHint: Function;\n\n    public embed_type: string;\n    public embed_uri: string;\n    // public onChange: (params: EmbeddeObj) => void;\n    public onChange: (embedType: string, embedUri: string) => void;\n    public ngDisabled: () => boolean;\n\n    public embeddedTypeCollection = [\n        { title: 'EMBEDDED_TYPE_CUSTOM', shortTitle: 'EMBEDDED_TYPE_CUSTOM_SHORT',id: EmbeddedType.Custom },\n        { title: 'EMBEDDED_TYPE_YOUTUBE', shortTitle: 'EMBEDDED_TYPE_YOUTUBE_SHORT',id: EmbeddedType.Youtube }\n    ];\n\n    constructor(\n        private $element: JQuery,\n        private $scope: ng.IScope,\n        private $state: ng.ui.IStateService,\n        public pipMedia: pip.layouts.IMediaService\n    ) {\n        $element.addClass('pip-embedded-edit');\n\n        this.init();\n    }\n\n    public $onChanges(changes: EmbeddedEditChanges): void {\n        console.log('$onChanges');\n        this.init();\n    }\n\n    public $postLink() {\n        console.log('postlink', this.$scope)\n        this.form = this.$scope.embedded;\n    }\n\n    private init(): void {\n        if (!this.embed_type) {\n            this.embed_type = EmbeddedType.Custom;\n        }\n    }\n\n    public onChangeType(): void {\n        console.log('onChangeType');\n        if (!this.form.url.$error)\n            this.onChange(this.embed_type, this.embed_uri);\n    }\n\n    public onChangeUrl(): void {\n        console.log('onChangeUrl');\n        this.onChange(this.embed_type, this.embed_uri);\n    }\n\n    public isDisabled() {\n        if (this.ngDisabled) {\n            return this.ngDisabled();\n        }\n\n        return false;\n    };\n}\n\n(() => {\n\n    function declaredEmbeddedEditResources(pipTranslateProvider: pip.services.ITranslateProvider) {\n        pipTranslateProvider.translations('en', {\n            EMBEDDED_TYPE_LABEL: 'Embedded type',\n            EMBEDDED_URL_LABEL: 'Embedded uri',\n            EMBEDDED_TYPE_HINT: 'Enter uri of embedded resource',\n            EMBEDDED_URL_ERROR: 'Uri error',\n            EMBEDDED_TYPE_CUSTOM: 'Custom',\n            EMBEDDED_TYPE_YOUTUBE: 'Youtube',\n            EMBEDDED_TYPE_CUSTOM_SHORT: 'Custom',\n            EMBEDDED_TYPE_YOUTUBE_SHORT: 'Youtube'\n        });\n        pipTranslateProvider.translations('ru', {\n            EMBEDDED_TYPE_LABEL: '  ',\n            EMBEDDED_URL_LABEL: 'Uri  ',\n            EMBEDDED_TYPE_HINT: ' uri  ',\n            EMBEDDED_URL_ERROR: ' uri',\n            EMBEDDED_TYPE_CUSTOM: '',\n            EMBEDDED_TYPE_YOUTUBE: 'Youtube',\n            EMBEDDED_TYPE_CUSTOM_SHORT: '',\n            EMBEDDED_TYPE_YOUTUBE_SHORT: 'Youtube'\n        });\n    }\n\n    angular\n        .module('pipEmbeddedEdit', [])\n        .component('pipEmbeddedEdit', {\n            bindings: EmbeddedEditBindings,\n            templateUrl: 'embedded_edit/EmbeddedEdit.html',\n            controller: EmbeddedEditController,\n            controllerAs: '$ctrl'\n        })\n        .config(declaredEmbeddedEditResources);\n})();\n","import { EmbeddedType } from '../data/EmbeddedType';\n\ninterface IEmbeddedViewBindings {\n    [key: string]: any;\n\n    embed_type: any;\n    embed_uri: any;\n}\n\nconst EmbeddedViewBindings: IEmbeddedViewBindings = {\n    embed_type: '=?pipEmbeddedType',\n    embed_uri: '=?pipEmbeddedUri',\n}\n\nclass EmbeddedViewChanges implements ng.IOnChangesObject, IEmbeddedViewBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    embed_type: ng.IChangesObject<string>;\n    embed_uri: ng.IChangesObject<string>;\n}\n\nclass EmbeddedViewController implements ng.IController {\n    public $onInit() { }\n    public embed_type: string;\n    public embed_uri: string;\n\n    constructor(\n        private $element: JQuery,\n        public pipMedia: pip.layouts.IMediaService\n    ) {\n        $element.addClass('pip-embedded-view');\n\n        this.init();\n    }\n\n    public $onChanges(changes: EmbeddedViewChanges): void {\n        console.log('$onChanges');\n        this.init();\n    }\n\n    private init(): void {\n\n    }\n\n}\n\n(() => {\n\n    function declaredEmbeddedViewResources(pipTranslateProvider: pip.services.ITranslateProvider) {\n        pipTranslateProvider.translations('en', {\n\n        });\n        pipTranslateProvider.translations('ru', {\n\n        });\n    }\n\n    function resourceYoutubeConfig($sceDelegateProvider) {\n        $sceDelegateProvider.resourceUrlWhitelist([\n            'self',\n            'https://www.youtube.com/**'\n        ]);\n    }\n\n    angular\n        .module('pipEmbeddedView', [])\n        .component('pipEmbeddedView', {\n            bindings: EmbeddedViewBindings,\n            templateUrl: 'embedded_view/EmbeddedView.html',\n            controller: EmbeddedViewController,\n            controllerAs: '$ctrl'\n        })\n        .config(resourceYoutubeConfig)\n        .config(declaredEmbeddedViewResources);\n})();\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\n\nimport './checklist_edit/ChecklistEdit';\nimport './checklist_view/ChecklistView';\nimport './composite_edit/CompositeEdit';\nimport './composite_summary/CompositeSummary';\nimport './composite_toolbar/CompositeToolbar';\nimport './composite_view/CompositeView';\nimport './utilities/CompositeFocused';\nimport './mobile_mouse';\nimport './content_switch/ContentSwitch';\nimport './embedded_edit/EmbeddedEdit';\nimport './embedded_view/EmbeddedView';\nimport './data';\n\nangular.module('pipComposite', [\n    'pipContentSwitch',\n    'pipChecklistEdit',\n    'pipChecklistView',\n    'pipCompositeEdit',\n    'pipCompositeView',\n    'pipCompositeSummary',\n    'pipCompositeToolbar',\n    'pipCompositeFocused',\n    'pipMobileMouse',\n    'pipEmbeddedEdit',\n    'pipEmbeddedView'\n]);\n\nexport * from './data';","{\n    interface IMobileMousedownAttributes extends ng.IAttributes {\n        pipMobileMousedown: any;\n    }\n\n    const MobileMousedown = (scope: ng.IScope, elem: JQuery, attrs: IMobileMousedownAttributes) => {\n        elem.bind(\"touchstart mousedown\", (e) => {\n            scope.$apply(attrs.pipMobileMousedown);\n        });\n    }\n\n    angular.module(\"pipMobileMouse\")\n        .directive('pipMobileMousedown', () => {\n            return MobileMousedown;\n        });\n}","{\n    interface IMobileMouseupAttributes extends ng.IAttributes {\n        pipMobileMouseup: any;\n    }\n\n    const MobileMouseup = (scope: ng.IScope, elem: JQuery, attrs: IMobileMouseupAttributes) => {\n        elem.bind(\"touchend mouseup\", (e) => {\n            scope.$apply(attrs.pipMobileMouseup);\n        });\n    }\n\n    angular.module(\"pipMobileMouse\")\n        .directive('pipMobileMouseup', () => {\n            return MobileMouseup;\n        });\n}","angular.module('pipMobileMouse', []);\n\nimport './MobileMousedown';\nimport './MobileMouseup';","export const CompositeFocusedEvent: string = 'focusedComposite'; \n\n{\n    class CompositeFocusedController {\n        constructor(\n            $element: JQuery,\n            $rootScope: angular.IRootScopeService\n        ) {\n            $element.bind(\"touchstart mousedown\", (e) => {\n                $rootScope.$broadcast(CompositeFocusedEvent);\n            });\n        }\n    }\n\n    const CompositeFocused = function () {\n        return {\n            restrict: 'A',\n            scope: false,\n            controller: CompositeFocusedController\n        }\n    }\n\n    angular.module(\"pipCompositeFocused\", [])\n        .directive('pipCompositeFocused', CompositeFocused);\n\n}","(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('checklist_edit/ChecklistEdit.html',\n    '<div ng-class=\"{\\'pip-checklist-draggable\\': $ctrl.selected.drag}\" id=\"{{\\'checklist-\\' + $ctrl.selected.id}}\"><div ng-repeat=\"item in $ctrl.checklistContent\" ng-mousedown=\"$ctrl.onClick($event, $index)\" class=\"pip-checklist-item\" id=\"{{\\'check-item-\\' + $ctrl.selected.id + \\'-\\' + $index}}\" pip-drag=\"$ctrl.checklistContent.length > 1 && $ctrl.selected.drag && !item.empty\" pip-drag-data=\"item\" pip-force-touch=\"true\" pip-touch-delay=\"30\" pip-drop=\"true\" pip-drag-stop=\"$ctrl.onStop(selected.id)\" pip-drag-start=\"$ctrl.onStart(selected.id)\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-drop-success=\"$ctrl.onDropComplete($index, $data, $event, $ctrl.selected.id)\"><div ng-class=\"{\\'put_place\\': $ctrl.selected.drag}\"></div><div class=\"pip-checklist-item-body layout-row layout-align-start-start\" pip-cancel-drag=\"true\" ng-class=\"{ \\'select-active-item\\': $ctrl.isSelectedItem($index) }\"><div class=\"pip-checklist-button\" pip-cancel-drag=\"true\"><md-button pip-drag-handle=\"\" class=\"pip-icon-checklist-button md-icon-button no-ripple-container\" aria-label=\"REARRANGE\" tabindex=\"-1\" pip-mobile-mousedown=\"$ctrl.onDownDragg(item)\" pip-mobile-mouseup=\"$ctrl.onDraggEnd()\" ng-if=\"$ctrl.pipDraggable && $ctrl.checklistContent.length > 2 && !item.empty\" ng-class=\"$ctrl.checklistContent.length > 1 ? \\'cursor-move\\' : \\'cursor-default\\'\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:vhandle\"></md-icon></md-button></div><div class=\"pip-checklist-button\" style=\"overflow: hidden\" pip-cancel-drag=\"true\"><div class=\"pip-checklist-button-container\"><md-button class=\"pip-icon-checklist-button md-icon-button\" ng-show=\"item.empty\" ng-disabled=\"$ctrl.ngDisabled\" md-ink-ripple=\"\" ng-click=\"$ctrl.onAddItem()\" tabindex=\"-1\" aria-label=\"PLUS\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:plus\"></md-icon></md-button><md-checkbox ng-model=\"item.checked\" ng-show=\"!item.empty\" aria-label=\"COMPLETE\" pip-cancel-drag=\"true\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-change=\"$ctrl.onChecked(item)\" ng-disabled=\"$ctrl.ngDisabled\"></md-checkbox></div></div><div class=\"pip-checklist-text flex\" pip-cancel-drag=\"true\"><md-input-container md-no-float=\"\" class=\"flex\"><textarea ng-model=\"item.text\" name=\"{{\\'text\\' + $index}}\" aria-label=\"TEXT\" class=\"pip-text-checkbox\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-change=\"$ctrl.onChangeItem($index)\" ng-keydown=\"$ctrl.onTextareaKeyDown($event, $index, item)\" placeholder=\"{{::\\'TEXT\\' | translate}}\" id=\"{{\\'check-item-text-\\' + selected.id + \\'-\\' + $index}}\" ng-disabled=\"$ctrl.ngDisabled\">\\n' +\n    '                    </textarea></md-input-container></div><div class=\"pip-checklist-button\" pip-cancel-drag=\"true\"><md-button class=\"pip-icon-checklist-button md-icon-button\" md-ink-ripple=\"\" ng-click=\"$ctrl.onDeleteItem($index, item)\" ng-disabled=\"$ctrl.ngDisabled\" tabindex=\"-1\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-show=\"$ctrl.isSelectedItem($index)\" aria-label=\"DELETE-ITEM\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div></div><div id=\"{{\\'check-item-empty-\\' + $ctrl.selected.id}}\" class=\"pip-empty-text\" pip-drag=\"false\" pip-drop=\"true\" pip-drop-success=\"$ctrl.onDropComplete($ctrl.checklistContent.length, $data, $event, $ctrl.selected.id)\"><div ng-class=\"{\\'put_place\\': $ctrl.selected.drag}\"></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('checklist_view/ChecklistView.html',\n    '<div ng-repeat=\"item in $ctrl.pipOptions track by $index\"><div class=\"pip-checklist-item layout-row layout-align-start-start\"><div class=\"pip-checklist-icon\"><md-checkbox ng-model=\"item.checked\" ng-click=\"$ctrl.onClick($event, item)\" aria-label=\"COMPLETE\" ng-disabled=\"$ctrl.ngDisabled\"></md-checkbox></div><div class=\"pip-checklist-text flex\"><pip-markdown pip-text=\"item.text\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_edit/CompositeEdit.html',\n    '<div class=\"divider-top\"><div class=\"pip-composite-body\" ng-show=\"$ctrl.compositeContent.length != 0\" ng-class=\"{\\'drag-active\\': $ctrl.selected.drag}\"><div class=\"pip-composite-item\" ng-repeat=\"obj in $ctrl.compositeContent track by obj.id\" ng-mousedown=\"$ctrl.onClick($event, $index, obj)\" ng-class=\"{\\'selected-content\\': $ctrl.isSelectedSection($index, obj), \\'composite-animate\\': !obj.empty && $ctrl.compositeContent.length > 1}\" ng-keyup=\"$ctrl.onKeyUp($event)\" ng-keydown=\"$ctrl.onKeyDown($event, $index, obj)\" pip-drag=\"$ctrl.compositeContent.length > 1 && $ctrl.selected.drag\" pip-touch-delay=\"10\" pip-drag-data=\"obj\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-drop=\"true\" pip-force-touch=\"true\" pip-drag-stop=\"$ctrl.onStop($ctrl.selected.id)\" pip-drag-start=\"$ctrl.onStart($ctrl.selected.id)\" pip-drop-success=\"$ctrl.onDropComplete($index, $data, $event, $ctrl.selected.id)\" id=\"{{\\'composite-item-\\' + $ctrl.selected.id + \\'-\\' + $index}}\"><div class=\"putt_box\"></div><div class=\"pip-section-header layout-row layout-align-start-center\" ng-if=\"!obj.empty\"><div class=\"w38\"></div><md-button class=\"md-icon-button md-icon-button-little icon-rearrange-btn no-ripple-container rm8 cursor-move\" ng-if=\"!$ctrl.ngDisabled && $ctrl.compositeContent.length > 1\" pip-drag-handle=\"\" pip-mobile-mousedown=\"$ctrl.onDownDragg($event, obj)\" pip-mobile-mouseup=\"$ctrl.onDraggEnd()\" tabindex=\"-1\" aria-label=\"COMPOSITE-DRAGG\" ng-hide=\"$ctrl.compositeContent.length == 1\"><md-icon class=\"composite-icon cursor-move\" md-svg-icon=\"icons:handle\"></md-icon></md-button><div><md-button class=\"md-icon-button md-icon-button-little rm8\" ng-click=\"$ctrl.onDeleteItem($index)\" ng-disabled=\"$ctrl.ngDisabled\" aria-label=\"COMPOSITE-DELETE\"><md-icon class=\"composite-icon\" md-svg-icon=\"icons:cross\"></md-icon></md-button></div></div><div class=\"pip-section-content rp24-flex lp24-flex tp16 bp16\" ng-if=\"obj.type == \\'text\\'\" pip-cancel-drag=\"true\"><md-input-container class=\"p0 m0 w-stretch\" md-no-float=\"\"><textarea ng-model=\"obj.text\" aria-label=\"text\" placeholder=\"{{ $ctrl.isFirst ? $ctrl.compositePlaceholder : \\'TEXT\\' | translate}}\" id=\"{{\\'composite-item-text-\\' + $ctrl.selected.id + \\'-\\' + $index}}\" ng-change=\"$ctrl.onContentChange(obj)\" pip-cancel-drag=\"true\" ng-disabled=\"$ctrl.ngDisabled\">\\n' +\n    '                            </textarea></md-input-container></div><div class=\"pip-section-content rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'pictures\\'\" pip-cancel-drag=\"true\"><pip-picture-list-edit class=\"w-stretch\" pip-cancel-drag=\"true\" pip-pictures=\"obj.picIds\" pip-changed=\"$ctrl.onContentChange(obj)\" pip-created=\"obj.pictures = $event.sender\" pip-added-picture=\"$ctrl.addedContent\" ng-disabled=\"$ctrl.ngDisabled\"></pip-picture-list-edit></div><div class=\"pip-section-content rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'documents\\'\" pip-cancel-drag=\"true\"><pip-document-list-edit class=\"w-stretch\" pip-documents=\"obj.docs\" pip-cancel-drag=\"true\" pip-changed=\"$ctrl.onContentChange(obj)\" pip-created=\"obj.documents = $event.sender\" pip-added-document=\"$ctrl.addedContent\" ng-disabled=\"$ctrl.ngDisabled\"></pip-document-list-edit></div><div class=\"pip-section-embedded rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'embedded\\'\" pip-cancel-drag=\"true\"><pip-embedded-edit pip-embedded-type=\"obj.embed_type\" pip-embedded_uri=\"obj.embed_uri\" pip-cancel-drag=\"true\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\"></pip-embedded-edit></div><div class=\"pip-section-content layout-row layout-align-start-center\" ng-if=\"obj.type == \\'checklist\\'\" pip-cancel-drag=\"true\"><pip-checklist-edit pip-options=\"obj.checklist\" pip-draggable=\"$ctrl.isActiveChecklist(obj)\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-rebind=\"true\"></pip-checklist-edit></div><div class=\"pip-section-content vp20 rp24-flex lp24-flex\" ng-if=\"obj.type == \\'location\\'\" pip-cancel-drag=\"true\"><pip-location-edit class=\"pip-location-attachments w-stretch\" pip-location-name=\"obj.loc_name\" pip-location-pos=\"obj.loc_pos\" pip-cancel-drag=\"true\" xxxpip-location-holder=\"$ctrl.pipLocationHolder\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\"></pip-location-edit></div><div class=\"pip-section-content bp16-flex rp24-flex lp24-flex tp20\" ng-if=\"obj.type == \\'time\\'\" pip-cancel-drag=\"true\"><pip-time-range-edit class=\"w-stretch\" pip-start-date=\"obj.start\" pip-end-date=\"obj.end\" xxxpip-size=\"$sizeGtSmall\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\" pip-start-label=\"{{ \\'COMPOSITE_START_TIME\\' | translate }}\" pip-end-label=\"{{ \\'COMPOSITE_END_TIME\\' | translate }}\"></pip-time-range-edit></div></div><div class=\"pip-composite-item w-stretch\" pip-drag=\"false\" pip-drop=\"true\" pip-drop-success=\"$ctrl.onDropComplete($ctrl.compositeContent.length, $data, $event, $ctrl.selected.id)\" pip-drag-stop=\"$ctrl.onStop($ctrl.selected.id)\" pip-drag-start=\"$ctrl.onStart($ctrl.selected.id)\" id=\"{{\\'pip-composite-last-\\' + $ctrl.selected.id}}\"><div class=\"putt_box\"></div><div class=\"pip-section-content h24\" style=\"border: 0px!important;\"></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_summary/CompositeSummary.html',\n    '<div ng-repeat=\"item in $ctrl.compositeContent track by $index\"><div class=\"pip-composite-text\" ng-if=\"item.type == \\'text\\' && item.text\"><pip-markdown pip-text=\"item.text\" pip-line-count=\"$ctrl.textSize\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div><div ng-if=\"item.type == \\'pictures\\' && item.picIds && item.picIds.length > 0\" ng-class=\"$ctrl.compositeContent[$index - 1].type != \\'pictures\\' ? $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm16 bm16\\' : \\'tm16 bm0\\' : $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm8 bm16\\' : \\'tm8 bm0\\'\" class=\"pip-composite-pictures\"><pip-collage pip-pictures=\"item.picIds\" pip-unique-code=\"item.id\" pip-multiple=\"true\" pip-open=\"$ctrl.disableControl\" pip-rebind=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-collage></div><div ng-if=\"item.type == \\'documents\\' && item.docs && item.docs.length > 0\" class=\"pip-composite-documents layout-row flex\"><pip-document-list class=\"flex\" pip-documents=\"item.docs\" pip-rebind=\"true\" pip-document-icon=\"true\" pip-collapse=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-document-list></div><div ng-if=\"item.type == \\'checklist\\' && item.checklist && item.checklist.length > 0\" class=\"pip-composite-checklist\"><pip-checklist-view pip-options=\"item.checklist\" pip-changed=\"$ctrl.onContentChange()\" pip-rebind=\"true\" pip-collapse=\"true\" ng-disabled=\"$ctrl.disabledChecklist\"></pip-checklist-view></div><div class=\"pip-composite-location layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'location\\' && (item.loc_pos || item.loc_name)\"><pip-location class=\"flex\" pip-location-name=\"item.loc_name\" pip-location-pos=\"item.loc_pos\" pip-collapse=\"true\" pip-show-location-icon=\"true\" ng-disabled=\"$ctrl.disableControl\" pip-rebind=\"true\"></pip-location></div><div class=\"pip-composite-time layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'time\\' && (item.start || item.end)\"><md-icon md-svg-icon=\"icons:time\" class=\"rm24 lm0\"></md-icon><pip-time-range pip-start-date=\"item.start\" pip-end-date=\"item.end\" pip-rebind=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-time-range></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_toolbar/CompositeToolbar.html',\n    '<div class=\"layout-row layout-align-start-start flex\"><md-button class=\"pip-composite-button\" ng-if=\"!$ctrl.emptyState\" ng-class=\"{ \\'remove-item\\': !$ctrl.emptyState , \\'new-item\\': !$ctrl.emptyState }\" ng-click=\"$ctrl.onAddItem(\\'text\\');\" aria-label=\"COMPOSITE-BUTTON-TEXT\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon class=\"icon-text-block\" md-svg-icon=\"icons:text\"></md-icon><md-tooltip>{{::\\'TEXT\\'| translate}}</md-tooltip></md-button><md-button ng-if=\"$ctrl.toolbarButton.checklist\" ng-click=\"$ctrl.onAddItem(\\'checklist\\')\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-CHECKLIST\"><md-icon class=\"icon-checkbox-on\" md-svg-icon=\"icons:checkbox-on\"></md-icon><md-tooltip>{{::\\'CHECKLIST\\'| translate}}</md-tooltip></md-button><md-button ng-if=\"$ctrl.toolbarButton.picture\" ng-click=\"$ctrl.onAddItem(\\'pictures\\')\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-PICTURES\"><md-icon class=\"icon-camera\" md-svg-icon=\"icons:camera\"></md-icon><md-tooltip>{{::\\'PICTURE\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'documents\\')\" ng-if=\"$ctrl.toolbarButton.document\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-DOCUMENTS\"><md-icon class=\"icon-document\" md-svg-icon=\"icons:document\"></md-icon><md-tooltip>{{::\\'DOCUMENT\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'location\\')\" ng-if=\"$ctrl.toolbarButton.location\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-LOCATIONS\"><md-icon class=\"icon-location\" md-svg-icon=\"icons:location\"></md-icon><md-tooltip>{{::\\'LOCATION\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'time\\')\" ng-if=\"$ctrl.toolbarButton.event\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-TIME\"><md-icon class=\"icon-time\" md-svg-icon=\"icons:time\"></md-icon><md-tooltip>{{::\\'TIME\\'| translate}}</md-tooltip></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_view/CompositeView.html',\n    '<div ng-repeat=\"item in $ctrl.compositeContent track by $index\"><div class=\"pip-composite-text lp24-flex rp24-flex\" ng-if=\"item.type == \\'text\\' && item.text\" ng-class=\"{\\'bm16\\': $last}\"><pip-markdown pip-text=\"item.text\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div><div ng-if=\"item.type == \\'pictures\\' && item.picIds && item.picIds.length > 0\" ng-class=\"$ctrl.compositeContent[$index - 1].type != \\'pictures\\' ? $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm16 bm16\\' : \\'tm16 bm0\\' : $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm8 bm16\\' : \\'tm8 bm0\\'\" class=\"pip-composite-pictures lp24-flex rp24-flex\"><pip-collage pip-pictures=\"item.picIds\" pip-unique-code=\"item.id\" pip-multiple=\"true\" pip-open=\"true\" pip-rebind=\"true\" ng-disabled=\"$ctrl.ngDisabled\"></pip-collage></div><div ng-if=\"item.type == \\'documents\\' && item.docs && item.docs.length > 0\" class=\"pip-composite-documents layout-row layout-align-start-start flex\"><pip-document-list pip-documents=\"item.docs\" pip-document-icon=\"true\" pip-rebind=\"true\" ng-disabled=\"$ctrl.ngDisabled\"></pip-document-list></div><div ng-if=\"item.type == \\'checklist\\' && item.checklist && item.checklist.length > 0\" class=\"pip-composite-checklist lp24-flex rp24-flex\"><pip-checklist-view pip-options=\"item.checklist\" pip-changed=\"$ctrl.onContentChange()\" pip-rebind=\"true\" ng-disabled=\"$ctrl.isDisabled()\"></pip-checklist-view></div><div class=\"pip-composite-location layout-row layout-align-start-start flex\" ng-if=\"item.type == \\'location\\' && (item.loc_pos || item.loc_name)\"><pip-location class=\"flex\" pip-location-name=\"item.loc_name\" pip-location-pos=\"item.loc_pos\" pip-show-location-icon=\"true\" pip-collapse=\"false\" ng-disabled=\"$ctrl.ngDisabled\" pip-rebind=\"true\"></pip-location></div><div class=\"pip-composite-time lp24-flex rp24-flex layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'time\\'\"><md-icon md-svg-icon=\"icons:time\" class=\"lm0\"></md-icon><pip-time-range pip-start-date=\"item.start\" pip-end-date=\"item.end\" pip-rebind=\"true\" ng-disabled=\"ngDisabled()\"></pip-time-range></div><div class=\"pip-composite-embedded lp24-flex rp24-flex layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'embedded\\' && item.embed_uri\"><pip-embedded-view class=\"bm8\" pip-embedded-type=\"item.embed_type\" pip-embedded-uri=\"item.embed_uri\"></pip-embedded-view></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('content_switch/ContentSwitch.html',\n    '<md-button ng-click=\"showPictures = !showPictures; onButtonClick(\\'pictures\\')\" aria-label=\"showPictures\" class=\"md-icon-button\" ng-show=\"showIconPicture\" ng-disabled=\"transaction.busy()\"><md-icon class=\"active-camera\" ng-class=\"{ \\'active-camera\\': showPictures }\" md-svg-icon=\"icons:camera\"></md-icon></md-button><md-button ng-click=\"showDocuments = !showDocuments; onButtonClick(\\'documents\\')\" aria-label=\"showDocuments\" class=\"md-icon-button\" ng-show=\"showIconDocument\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-document\\': showDocuments }\" md-svg-icon=\"icons:document\"></md-icon></md-button><md-button ng-click=\"showEvent = !showEvent; onButtonClick(\\'event\\')\" aria-label=\"showEvent\" class=\"md-icon-button\" ng-show=\"showIconEvent\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-time\\': showEvent }\" md-svg-icon=\"icons:time\"></md-icon></md-button><md-button ng-click=\"showLocation = !showLocation; onButtonClick(\\'location\\')\" aria-label=\"showLocation\" class=\"md-icon-button\" ng-show=\"showIconLocation\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-location\\': showLocation }\" md-svg-icon=\"icons:location\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('embedded_edit/EmbeddedEdit.html',\n    '<form name=\"embedded\"><md-input-container class=\"md-block flex bm24\"><label>{{ ::\\'EMBEDDED_TYPE_LABEL\\'| translate }}</label><md-select ng-model=\"$ctrl.embed_type\" ng-change=\"$ctrl.onChangeType()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-repeat=\"t in $ctrl.embeddedTypeCollection track by $index\" ng-value=\"t.id\">{{ ::t.title | translate }}</md-option></md-select></md-input-container><md-input-container class=\"md-block flex\"><label>{{::\\'EMBEDDED_URL_LABEL\\' | translate}}</label> <input ng-model=\"$ctrl.embed_uri\" ng-required=\"$ctrl.embed_uri\" type=\"url\" name=\"url\" ng-change=\"$ctrl.onChangeUrl()\" ng-disabled=\"$ctrl.isDisabled()\" ng-model-options=\"{ delay: 500 }\"><div class=\"hint\" ng-if=\"!embedded.url.$error\">{{::\\'EMBEDDED_TYPE_HINT\\' | translate}}</div><div ng-messages=\"embedded.url.$error\" role=\"alert\"><div ng-message=\"url\">{{ \\'EMBEDDED_URL_ERROR\\' | translate }}</div></div></md-input-container></form>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('embedded_view/EmbeddedView.html',\n    '<iframe width=\"100%\" height=\"170\" frameborder=\"0\" allowfullscreen=\"\" ng-if=\"$ctrl.embed_type == \\'youtube\\'\" ng-src=\"{{ $ctrl.embed_uri }}\" style=\"margin: 0 auto;\"></iframe><iframe width=\"100%\" height=\"170\" frameborder=\"0\" allowfullscreen=\"\" style=\"margin: 0 auto;\" ng-src=\"{{ $ctrl.embed_uri }}\" ng-if=\"$ctrl.embed_type == \\'custom\\'\"><p><a href=\"{{ $ctrl.embed_uri }}\">{{ $ctrl.embed_uri }}</a></p></iframe>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-composite-html.min.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9ub2RlX21vZHVsZXMvYXN5bmMvbGliL2FzeW5jLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIi4uL25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwic3JjL2NoZWNrbGlzdF9lZGl0L0NoZWNrbGlzdEVkaXQudHMiLCJzcmMvY2hlY2tsaXN0X3ZpZXcvQ2hlY2tsaXN0Vmlldy50cyIsInNyYy9jb21wb3NpdGVfZWRpdC9Db21wb3NpdGVFZGl0LnRzIiwic3JjL2NvbXBvc2l0ZV9zdW1tYXJ5L0NvbXBvc2l0ZVN1bW1hcnkudHMiLCJzcmMvY29tcG9zaXRlX3Rvb2xiYXIvQ29tcG9zaXRlVG9vbGJhci50cyIsInNyYy9jb21wb3NpdGVfdmlldy9Db21wb3NpdGVWaWV3LnRzIiwic3JjL2NvbnRlbnRfc3dpdGNoL0NvbnRlbnRTd2l0Y2gudHMiLCJzcmMvZGF0YS9DaGVja2xpc3RJdGVtLnRzIiwic3JjL2RhdGEvQ29udGVudC50cyIsInNyYy9kYXRhL0NvbnRlbnRCbG9ja1R5cGUudHMiLCJzcmMvZGF0YS9FbWJlZGRlZFR5cGUudHMiLCJzcmMvZGF0YS9pbmRleC50cyIsInNyYy9lbWJlZGRlZF9lZGl0L0VtYmVkZGVkRWRpdC50cyIsInNyYy9lbWJlZGRlZF92aWV3L0VtYmVkZGVkVmlldy50cyIsInNyYy9pbmRleC50cyIsInNyYy9tb2JpbGVfbW91c2UvTW9iaWxlTW91c2Vkb3duLnRzIiwic3JjL21vYmlsZV9tb3VzZS9Nb2JpbGVNb3VzZXVwLnRzIiwic3JjL21vYmlsZV9tb3VzZS9pbmRleC50cyIsInNyYy91dGlsaXRpZXMvQ29tcG9zaXRlRm9jdXNlZC50cyIsInRlbXAvcGlwLXN1aXRlLWNvbXBvc2l0ZS1odG1sLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNqdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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dGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKiFcbiAqIGFzeW5jXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2FvbGFuL2FzeW5jXG4gKlxuICogQ29weXJpZ2h0IDIwMTAtMjAxNCBDYW9sYW4gTWNNYWhvblxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cbihmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgYXN5bmMgPSB7fTtcbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiBpZGVudGl0eSh2KSB7XG4gICAgICAgIHJldHVybiB2O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0Jvb2wodikge1xuICAgICAgICByZXR1cm4gISF2O1xuICAgIH1cbiAgICBmdW5jdGlvbiBub3RJZCh2KSB7XG4gICAgICAgIHJldHVybiAhdjtcbiAgICB9XG5cbiAgICAvLyBnbG9iYWwgb24gdGhlIHNlcnZlciwgd2luZG93IGluIHRoZSBicm93c2VyXG4gICAgdmFyIHByZXZpb3VzX2FzeW5jO1xuXG4gICAgLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgKGBzZWxmYCkgaW4gdGhlIGJyb3dzZXIsIGBnbG9iYWxgXG4gICAgLy8gb24gdGhlIHNlcnZlciwgb3IgYHRoaXNgIGluIHNvbWUgdmlydHVhbCBtYWNoaW5lcy4gV2UgdXNlIGBzZWxmYFxuICAgIC8vIGluc3RlYWQgb2YgYHdpbmRvd2AgZm9yIGBXZWJXb3JrZXJgIHN1cHBvcnQuXG4gICAgdmFyIHJvb3QgPSB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmICYmIHNlbGYgfHxcbiAgICAgICAgICAgIHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbCAmJiBnbG9iYWwgfHxcbiAgICAgICAgICAgIHRoaXM7XG5cbiAgICBpZiAocm9vdCAhPSBudWxsKSB7XG4gICAgICAgIHByZXZpb3VzX2FzeW5jID0gcm9vdC5hc3luYztcbiAgICB9XG5cbiAgICBhc3luYy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByb290LmFzeW5jID0gcHJldmlvdXNfYXN5bmM7XG4gICAgICAgIHJldHVybiBhc3luYztcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25seV9vbmNlKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChmbiA9PT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLlwiKTtcbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX29uY2UoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGZuID09PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgZm4gPSBudWxsO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vLy8gY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxpdHkgZnVuY3Rpb25zIC8vLy9cblxuICAgIHZhciBfdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4gICAgdmFyIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH07XG5cbiAgICAvLyBQb3J0ZWQgZnJvbSB1bmRlcnNjb3JlLmpzIGlzT2JqZWN0XG4gICAgdmFyIF9pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmo7XG4gICAgICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhb2JqO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfaXNBcnJheUxpa2UoYXJyKSB7XG4gICAgICAgIHJldHVybiBfaXNBcnJheShhcnIpIHx8IChcbiAgICAgICAgICAgIC8vIGhhcyBhIHBvc2l0aXZlIGludGVnZXIgbGVuZ3RoIHByb3BlcnR5XG4gICAgICAgICAgICB0eXBlb2YgYXJyLmxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgICAgYXJyLmxlbmd0aCA+PSAwICYmXG4gICAgICAgICAgICBhcnIubGVuZ3RoICUgMSA9PT0gMFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9hcnJheUVhY2goYXJyLCBpdGVyYXRvcikge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGFyci5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKGFycltpbmRleF0sIGluZGV4LCBhcnIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX21hcChhcnIsIGl0ZXJhdG9yKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gYXJyLmxlbmd0aCxcbiAgICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRvcihhcnJbaW5kZXhdLCBpbmRleCwgYXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9yYW5nZShjb3VudCkge1xuICAgICAgICByZXR1cm4gX21hcChBcnJheShjb3VudCksIGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBpOyB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfcmVkdWNlKGFyciwgaXRlcmF0b3IsIG1lbW8pIHtcbiAgICAgICAgX2FycmF5RWFjaChhcnIsIGZ1bmN0aW9uICh4LCBpLCBhKSB7XG4gICAgICAgICAgICBtZW1vID0gaXRlcmF0b3IobWVtbywgeCwgaSwgYSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVtbztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZm9yRWFjaE9mKG9iamVjdCwgaXRlcmF0b3IpIHtcbiAgICAgICAgX2FycmF5RWFjaChfa2V5cyhvYmplY3QpLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpdGVyYXRvcihvYmplY3Rba2V5XSwga2V5KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luZGV4T2YoYXJyLCBpdGVtKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXJyW2ldID09PSBpdGVtKSByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdmFyIF9rZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIGtleXMucHVzaChrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2tleUl0ZXJhdG9yKGNvbGwpIHtcbiAgICAgICAgdmFyIGkgPSAtMTtcbiAgICAgICAgdmFyIGxlbjtcbiAgICAgICAgdmFyIGtleXM7XG4gICAgICAgIGlmIChfaXNBcnJheUxpa2UoY29sbCkpIHtcbiAgICAgICAgICAgIGxlbiA9IGNvbGwubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIHJldHVybiBpIDwgbGVuID8gaSA6IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5cyA9IF9rZXlzKGNvbGwpO1xuICAgICAgICAgICAgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgPCBsZW4gPyBrZXlzW2ldIDogbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTaW1pbGFyIHRvIEVTNidzIHJlc3QgcGFyYW0gKGh0dHA6Ly9hcml5YS5vZmlsYWJzLmNvbS8yMDEzLzAzL2VzNi1hbmQtcmVzdC1wYXJhbWV0ZXIuaHRtbClcbiAgICAvLyBUaGlzIGFjY3VtdWxhdGVzIHRoZSBhcmd1bWVudHMgcGFzc2VkIGludG8gYW4gYXJyYXksIGFmdGVyIGEgZ2l2ZW4gaW5kZXguXG4gICAgLy8gRnJvbSB1bmRlcnNjb3JlLmpzIChodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8yMTQwKS5cbiAgICBmdW5jdGlvbiBfcmVzdFBhcmFtKGZ1bmMsIHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgc3RhcnRJbmRleCA9IHN0YXJ0SW5kZXggPT0gbnVsbCA/IGZ1bmMubGVuZ3RoIC0gMSA6ICtzdGFydEluZGV4O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoYXJndW1lbnRzLmxlbmd0aCAtIHN0YXJ0SW5kZXgsIDApO1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHJlc3RbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4ICsgc3RhcnRJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpcywgcmVzdCk7XG4gICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIGFyZ3VtZW50c1swXSwgcmVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDdXJyZW50bHkgdW51c2VkIGJ1dCBoYW5kbGUgY2FzZXMgb3V0c2lkZSBvZiB0aGUgc3dpdGNoIHN0YXRlbWVudDpcbiAgICAgICAgICAgIC8vIHZhciBhcmdzID0gQXJyYXkoc3RhcnRJbmRleCArIDEpO1xuICAgICAgICAgICAgLy8gZm9yIChpbmRleCA9IDA7IGluZGV4IDwgc3RhcnRJbmRleDsgaW5kZXgrKykge1xuICAgICAgICAgICAgLy8gICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGFyZ3Nbc3RhcnRJbmRleF0gPSByZXN0O1xuICAgICAgICAgICAgLy8gcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3dpdGhvdXRJbmRleChpdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvcih2YWx1ZSwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vLy8gZXhwb3J0ZWQgYXN5bmMgbW9kdWxlIGZ1bmN0aW9ucyAvLy8vXG5cbiAgICAvLy8vIG5leHRUaWNrIGltcGxlbWVudGF0aW9uIHdpdGggYnJvd3Nlci1jb21wYXRpYmxlIGZhbGxiYWNrIC8vLy9cblxuICAgIC8vIGNhcHR1cmUgdGhlIGdsb2JhbCByZWZlcmVuY2UgdG8gZ3VhcmQgYWdhaW5zdCBmYWtlVGltZXIgbW9ja3NcbiAgICB2YXIgX3NldEltbWVkaWF0ZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicgJiYgc2V0SW1tZWRpYXRlO1xuXG4gICAgdmFyIF9kZWxheSA9IF9zZXRJbW1lZGlhdGUgPyBmdW5jdGlvbihmbikge1xuICAgICAgICAvLyBub3QgYSBkaXJlY3QgYWxpYXMgZm9yIElFMTAgY29tcGF0aWJpbGl0eVxuICAgICAgICBfc2V0SW1tZWRpYXRlKGZuKTtcbiAgICB9IDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgc2V0VGltZW91dChmbiwgMCk7XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHByb2Nlc3MubmV4dFRpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYXN5bmMubmV4dFRpY2sgPSBwcm9jZXNzLm5leHRUaWNrO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFzeW5jLm5leHRUaWNrID0gX2RlbGF5O1xuICAgIH1cbiAgICBhc3luYy5zZXRJbW1lZGlhdGUgPSBfc2V0SW1tZWRpYXRlID8gX2RlbGF5IDogYXN5bmMubmV4dFRpY2s7XG5cblxuICAgIGFzeW5jLmZvckVhY2ggPVxuICAgIGFzeW5jLmVhY2ggPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jLmVhY2hPZihhcnIsIF93aXRob3V0SW5kZXgoaXRlcmF0b3IpLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLmZvckVhY2hTZXJpZXMgPVxuICAgIGFzeW5jLmVhY2hTZXJpZXMgPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jLmVhY2hPZlNlcmllcyhhcnIsIF93aXRob3V0SW5kZXgoaXRlcmF0b3IpLCBjYWxsYmFjayk7XG4gICAgfTtcblxuXG4gICAgYXN5bmMuZm9yRWFjaExpbWl0ID1cbiAgICBhc3luYy5lYWNoTGltaXQgPSBmdW5jdGlvbiAoYXJyLCBsaW1pdCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBfZWFjaE9mTGltaXQobGltaXQpKGFyciwgX3dpdGhvdXRJbmRleChpdGVyYXRvciksIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuZm9yRWFjaE9mID1cbiAgICBhc3luYy5lYWNoT2YgPSBmdW5jdGlvbiAob2JqZWN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBfb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0IHx8IFtdO1xuXG4gICAgICAgIHZhciBpdGVyID0gX2tleUl0ZXJhdG9yKG9iamVjdCk7XG4gICAgICAgIHZhciBrZXksIGNvbXBsZXRlZCA9IDA7XG5cbiAgICAgICAgd2hpbGUgKChrZXkgPSBpdGVyKCkpICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlZCArPSAxO1xuICAgICAgICAgICAgaXRlcmF0b3Iob2JqZWN0W2tleV0sIGtleSwgb25seV9vbmNlKGRvbmUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21wbGV0ZWQgPT09IDApIGNhbGxiYWNrKG51bGwpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRvbmUoZXJyKSB7XG4gICAgICAgICAgICBjb21wbGV0ZWQtLTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sga2V5IGlzIG51bGwgaW4gY2FzZSBpdGVyYXRvciBpc24ndCBleGhhdXN0ZWRcbiAgICAgICAgICAgIC8vIGFuZCBkb25lIHJlc29sdmVkIHN5bmNocm9ub3VzbHkuXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09IG51bGwgJiYgY29tcGxldGVkIDw9IDApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhc3luYy5mb3JFYWNoT2ZTZXJpZXMgPVxuICAgIGFzeW5jLmVhY2hPZlNlcmllcyA9IGZ1bmN0aW9uIChvYmosIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IF9vbmNlKGNhbGxiYWNrIHx8IG5vb3ApO1xuICAgICAgICBvYmogPSBvYmogfHwgW107XG4gICAgICAgIHZhciBuZXh0S2V5ID0gX2tleUl0ZXJhdG9yKG9iaik7XG4gICAgICAgIHZhciBrZXkgPSBuZXh0S2V5KCk7XG4gICAgICAgIGZ1bmN0aW9uIGl0ZXJhdGUoKSB7XG4gICAgICAgICAgICB2YXIgc3luYyA9IHRydWU7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlcmF0b3Iob2JqW2tleV0sIGtleSwgb25seV9vbmNlKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBuZXh0S2V5KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlKGl0ZXJhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVyYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBzeW5jID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaXRlcmF0ZSgpO1xuICAgIH07XG5cblxuXG4gICAgYXN5bmMuZm9yRWFjaE9mTGltaXQgPVxuICAgIGFzeW5jLmVhY2hPZkxpbWl0ID0gZnVuY3Rpb24gKG9iaiwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBfZWFjaE9mTGltaXQobGltaXQpKG9iaiwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2VhY2hPZkxpbWl0KGxpbWl0KSB7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBfb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgICAgICAgICAgIG9iaiA9IG9iaiB8fCBbXTtcbiAgICAgICAgICAgIHZhciBuZXh0S2V5ID0gX2tleUl0ZXJhdG9yKG9iaik7XG4gICAgICAgICAgICBpZiAobGltaXQgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcnVubmluZyA9IDA7XG4gICAgICAgICAgICB2YXIgZXJyb3JlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAoZnVuY3Rpb24gcmVwbGVuaXNoICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSAmJiBydW5uaW5nIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdoaWxlIChydW5uaW5nIDwgbGltaXQgJiYgIWVycm9yZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IG5leHRLZXkoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcnVubmluZyArPSAxO1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvcihvYmpba2V5XSwga2V5LCBvbmx5X29uY2UoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVubmluZyAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsZW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBkb1BhcmFsbGVsKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBmbihhc3luYy5lYWNoT2YsIG9iaiwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9QYXJhbGxlbExpbWl0KGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqLCBsaW1pdCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4oX2VhY2hPZkxpbWl0KGxpbWl0KSwgb2JqLCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkb1Nlcmllcyhmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4oYXN5bmMuZWFjaE9mU2VyaWVzLCBvYmosIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FzeW5jTWFwKGVhY2hmbiwgYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBfb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgICAgICAgYXJyID0gYXJyIHx8IFtdO1xuICAgICAgICB2YXIgcmVzdWx0cyA9IF9pc0FycmF5TGlrZShhcnIpID8gW10gOiB7fTtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHZhbHVlLCBmdW5jdGlvbiAoZXJyLCB2KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2O1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMubWFwID0gZG9QYXJhbGxlbChfYXN5bmNNYXApO1xuICAgIGFzeW5jLm1hcFNlcmllcyA9IGRvU2VyaWVzKF9hc3luY01hcCk7XG4gICAgYXN5bmMubWFwTGltaXQgPSBkb1BhcmFsbGVsTGltaXQoX2FzeW5jTWFwKTtcblxuICAgIC8vIHJlZHVjZSBvbmx5IGhhcyBhIHNlcmllcyB2ZXJzaW9uLCBhcyBkb2luZyByZWR1Y2UgaW4gcGFyYWxsZWwgd29uJ3RcbiAgICAvLyB3b3JrIGluIG1hbnkgc2l0dWF0aW9ucy5cbiAgICBhc3luYy5pbmplY3QgPVxuICAgIGFzeW5jLmZvbGRsID1cbiAgICBhc3luYy5yZWR1Y2UgPSBmdW5jdGlvbiAoYXJyLCBtZW1vLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgYXN5bmMuZWFjaE9mU2VyaWVzKGFyciwgZnVuY3Rpb24gKHgsIGksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcihtZW1vLCB4LCBmdW5jdGlvbiAoZXJyLCB2KSB7XG4gICAgICAgICAgICAgICAgbWVtbyA9IHY7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIsIG1lbW8pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgYXN5bmMuZm9sZHIgPVxuICAgIGFzeW5jLnJlZHVjZVJpZ2h0ID0gZnVuY3Rpb24gKGFyciwgbWVtbywgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXZlcnNlZCA9IF9tYXAoYXJyLCBpZGVudGl0eSkucmV2ZXJzZSgpO1xuICAgICAgICBhc3luYy5yZWR1Y2UocmV2ZXJzZWQsIG1lbW8sIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIChhcnIsIG1lbW8sIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBpdGVyYXRvcjtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gbWVtbztcbiAgICAgICAgICAgIG1lbW8gPSBfaXNBcnJheShhcnIpID8gW10gOiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jLmVhY2hPZihhcnIsIGZ1bmN0aW9uKHYsIGssIGNiKSB7XG4gICAgICAgICAgICBpdGVyYXRvcihtZW1vLCB2LCBrLCBjYik7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBtZW1vKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9maWx0ZXIoZWFjaGZuLCBhcnIsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICBlYWNoZm4oYXJyLCBmdW5jdGlvbiAoeCwgaW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7aW5kZXg6IGluZGV4LCB2YWx1ZTogeH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKF9tYXAocmVzdWx0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICAgICAgICAgICAgfSksIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHgudmFsdWU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jLnNlbGVjdCA9XG4gICAgYXN5bmMuZmlsdGVyID0gZG9QYXJhbGxlbChfZmlsdGVyKTtcblxuICAgIGFzeW5jLnNlbGVjdExpbWl0ID1cbiAgICBhc3luYy5maWx0ZXJMaW1pdCA9IGRvUGFyYWxsZWxMaW1pdChfZmlsdGVyKTtcblxuICAgIGFzeW5jLnNlbGVjdFNlcmllcyA9XG4gICAgYXN5bmMuZmlsdGVyU2VyaWVzID0gZG9TZXJpZXMoX2ZpbHRlcik7XG5cbiAgICBmdW5jdGlvbiBfcmVqZWN0KGVhY2hmbiwgYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgX2ZpbHRlcihlYWNoZm4sIGFyciwgZnVuY3Rpb24odmFsdWUsIGNiKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih2YWx1ZSwgZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgIGNiKCF2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGFzeW5jLnJlamVjdCA9IGRvUGFyYWxsZWwoX3JlamVjdCk7XG4gICAgYXN5bmMucmVqZWN0TGltaXQgPSBkb1BhcmFsbGVsTGltaXQoX3JlamVjdCk7XG4gICAgYXN5bmMucmVqZWN0U2VyaWVzID0gZG9TZXJpZXMoX3JlamVjdCk7XG5cbiAgICBmdW5jdGlvbiBfY3JlYXRlVGVzdGVyKGVhY2hmbiwgY2hlY2ssIGdldFJlc3VsdCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oYXJyLCBsaW1pdCwgaXRlcmF0b3IsIGNiKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgICAgICAgICAgIGlmIChjYikgY2IoZ2V0UmVzdWx0KGZhbHNlLCB2b2lkIDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGl0ZXJhdGVlKHgsIF8sIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYikgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IoeCwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiICYmIGNoZWNrKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYihnZXRSZXN1bHQodHJ1ZSwgeCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IgPSBpdGVyYXRvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgICAgICBlYWNoZm4oYXJyLCBsaW1pdCwgaXRlcmF0ZWUsIGRvbmUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYiA9IGl0ZXJhdG9yO1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yID0gbGltaXQ7XG4gICAgICAgICAgICAgICAgZWFjaGZuKGFyciwgaXRlcmF0ZWUsIGRvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFzeW5jLmFueSA9XG4gICAgYXN5bmMuc29tZSA9IF9jcmVhdGVUZXN0ZXIoYXN5bmMuZWFjaE9mLCB0b0Jvb2wsIGlkZW50aXR5KTtcblxuICAgIGFzeW5jLnNvbWVMaW1pdCA9IF9jcmVhdGVUZXN0ZXIoYXN5bmMuZWFjaE9mTGltaXQsIHRvQm9vbCwgaWRlbnRpdHkpO1xuXG4gICAgYXN5bmMuYWxsID1cbiAgICBhc3luYy5ldmVyeSA9IF9jcmVhdGVUZXN0ZXIoYXN5bmMuZWFjaE9mLCBub3RJZCwgbm90SWQpO1xuXG4gICAgYXN5bmMuZXZlcnlMaW1pdCA9IF9jcmVhdGVUZXN0ZXIoYXN5bmMuZWFjaE9mTGltaXQsIG5vdElkLCBub3RJZCk7XG5cbiAgICBmdW5jdGlvbiBfZmluZEdldFJlc3VsdCh2LCB4KSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgICBhc3luYy5kZXRlY3QgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZiwgaWRlbnRpdHksIF9maW5kR2V0UmVzdWx0KTtcbiAgICBhc3luYy5kZXRlY3RTZXJpZXMgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZlNlcmllcywgaWRlbnRpdHksIF9maW5kR2V0UmVzdWx0KTtcbiAgICBhc3luYy5kZXRlY3RMaW1pdCA9IF9jcmVhdGVUZXN0ZXIoYXN5bmMuZWFjaE9mTGltaXQsIGlkZW50aXR5LCBfZmluZEdldFJlc3VsdCk7XG5cbiAgICBhc3luYy5zb3J0QnkgPSBmdW5jdGlvbiAoYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgYXN5bmMubWFwKGFyciwgZnVuY3Rpb24gKHgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih4LCBmdW5jdGlvbiAoZXJyLCBjcml0ZXJpYSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHt2YWx1ZTogeCwgY3JpdGVyaWE6IGNyaXRlcmlhfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIF9tYXAocmVzdWx0cy5zb3J0KGNvbXBhcmF0b3IpLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY29tcGFyYXRvcihsZWZ0LCByaWdodCkge1xuICAgICAgICAgICAgdmFyIGEgPSBsZWZ0LmNyaXRlcmlhLCBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICAgICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDA7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMuYXV0byA9IGZ1bmN0aW9uICh0YXNrcywgY29uY3VycmVuY3ksIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBjb25jdXJyZW5jeSBpcyBvcHRpb25hbCwgc2hpZnQgdGhlIGFyZ3MuXG4gICAgICAgICAgICBjYWxsYmFjayA9IGNvbmN1cnJlbmN5O1xuICAgICAgICAgICAgY29uY3VycmVuY3kgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrID0gX29uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgIHZhciBrZXlzID0gX2tleXModGFza3MpO1xuICAgICAgICB2YXIgcmVtYWluaW5nVGFza3MgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgaWYgKCFyZW1haW5pbmdUYXNrcykge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbmN5ID0gcmVtYWluaW5nVGFza3M7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xuICAgICAgICB2YXIgcnVubmluZ1Rhc2tzID0gMDtcblxuICAgICAgICB2YXIgaGFzRXJyb3IgPSBmYWxzZTtcblxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgICAgIGZ1bmN0aW9uIGFkZExpc3RlbmVyKGZuKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMudW5zaGlmdChmbik7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZm4pIHtcbiAgICAgICAgICAgIHZhciBpZHggPSBfaW5kZXhPZihsaXN0ZW5lcnMsIGZuKTtcbiAgICAgICAgICAgIGlmIChpZHggPj0gMCkgbGlzdGVuZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHRhc2tDb21wbGV0ZSgpIHtcbiAgICAgICAgICAgIHJlbWFpbmluZ1Rhc2tzLS07XG4gICAgICAgICAgICBfYXJyYXlFYWNoKGxpc3RlbmVycy5zbGljZSgwKSwgZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkTGlzdGVuZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFyZW1haW5pbmdUYXNrcykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBfYXJyYXlFYWNoKGtleXMsIGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICBpZiAoaGFzRXJyb3IpIHJldHVybjtcbiAgICAgICAgICAgIHZhciB0YXNrID0gX2lzQXJyYXkodGFza3Nba10pID8gdGFza3Nba106IFt0YXNrc1trXV07XG4gICAgICAgICAgICB2YXIgdGFza0NhbGxiYWNrID0gX3Jlc3RQYXJhbShmdW5jdGlvbihlcnIsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBydW5uaW5nVGFza3MtLTtcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2FmZVJlc3VsdHMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgX2ZvckVhY2hPZihyZXN1bHRzLCBmdW5jdGlvbih2YWwsIHJrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVSZXN1bHRzW3JrZXldID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2FmZVJlc3VsdHNba10gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBzYWZlUmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzW2tdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlKHRhc2tDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcmVxdWlyZXMgPSB0YXNrLnNsaWNlKDAsIHRhc2subGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAvLyBwcmV2ZW50IGRlYWQtbG9ja3NcbiAgICAgICAgICAgIHZhciBsZW4gPSByZXF1aXJlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgZGVwO1xuICAgICAgICAgICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZGVwID0gdGFza3NbcmVxdWlyZXNbbGVuXV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSGFzIG5vbmV4aXN0ZW50IGRlcGVuZGVuY3kgaW4gJyArIHJlcXVpcmVzLmpvaW4oJywgJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX2lzQXJyYXkoZGVwKSAmJiBfaW5kZXhPZihkZXAsIGspID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIYXMgY3ljbGljIGRlcGVuZGVuY2llcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlYWR5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBydW5uaW5nVGFza3MgPCBjb25jdXJyZW5jeSAmJiBfcmVkdWNlKHJlcXVpcmVzLCBmdW5jdGlvbiAoYSwgeCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGEgJiYgcmVzdWx0cy5oYXNPd25Qcm9wZXJ0eSh4KSk7XG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSkgJiYgIXJlc3VsdHMuaGFzT3duUHJvcGVydHkoayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVhZHkoKSkge1xuICAgICAgICAgICAgICAgIHJ1bm5pbmdUYXNrcysrO1xuICAgICAgICAgICAgICAgIHRhc2tbdGFzay5sZW5ndGggLSAxXSh0YXNrQ2FsbGJhY2ssIHJlc3VsdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ1Rhc2tzKys7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza1t0YXNrLmxlbmd0aCAtIDFdKHRhc2tDYWxsYmFjaywgcmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG5cblxuICAgIGFzeW5jLnJldHJ5ID0gZnVuY3Rpb24odGltZXMsIHRhc2ssIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBERUZBVUxUX1RJTUVTID0gNTtcbiAgICAgICAgdmFyIERFRkFVTFRfSU5URVJWQUwgPSAwO1xuXG4gICAgICAgIHZhciBhdHRlbXB0cyA9IFtdO1xuXG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgICAgdGltZXM6IERFRkFVTFRfVElNRVMsXG4gICAgICAgICAgICBpbnRlcnZhbDogREVGQVVMVF9JTlRFUlZBTFxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlVGltZXMoYWNjLCB0KXtcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0ID09PSAnbnVtYmVyJyl7XG4gICAgICAgICAgICAgICAgYWNjLnRpbWVzID0gcGFyc2VJbnQodCwgMTApIHx8IERFRkFVTFRfVElNRVM7XG4gICAgICAgICAgICB9IGVsc2UgaWYodHlwZW9mIHQgPT09ICdvYmplY3QnKXtcbiAgICAgICAgICAgICAgICBhY2MudGltZXMgPSBwYXJzZUludCh0LnRpbWVzLCAxMCkgfHwgREVGQVVMVF9USU1FUztcbiAgICAgICAgICAgICAgICBhY2MuaW50ZXJ2YWwgPSBwYXJzZUludCh0LmludGVydmFsLCAxMCkgfHwgREVGQVVMVF9JTlRFUlZBTDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBhcmd1bWVudCB0eXBlIGZvciBcXCd0aW1lc1xcJzogJyArIHR5cGVvZiB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgMSB8fCBsZW5ndGggPiAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzIC0gbXVzdCBiZSBlaXRoZXIgKHRhc2spLCAodGFzaywgY2FsbGJhY2spLCAodGltZXMsIHRhc2spIG9yICh0aW1lcywgdGFzaywgY2FsbGJhY2spJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobGVuZ3RoIDw9IDIgJiYgdHlwZW9mIHRpbWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHRhc2s7XG4gICAgICAgICAgICB0YXNrID0gdGltZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGFyc2VUaW1lcyhvcHRzLCB0aW1lcyk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0cy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICBvcHRzLnRhc2sgPSB0YXNrO1xuXG4gICAgICAgIGZ1bmN0aW9uIHdyYXBwZWRUYXNrKHdyYXBwZWRDYWxsYmFjaywgd3JhcHBlZFJlc3VsdHMpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJldHJ5QXR0ZW1wdCh0YXNrLCBmaW5hbEF0dGVtcHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2VyaWVzQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzayhmdW5jdGlvbihlcnIsIHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXNDYWxsYmFjayghZXJyIHx8IGZpbmFsQXR0ZW1wdCwge2VycjogZXJyLCByZXN1bHQ6IHJlc3VsdH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCB3cmFwcGVkUmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcmV0cnlJbnRlcnZhbChpbnRlcnZhbCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNlcmllc0NhbGxiYWNrKXtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzQ2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGludGVydmFsKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAob3B0cy50aW1lcykge1xuXG4gICAgICAgICAgICAgICAgdmFyIGZpbmFsQXR0ZW1wdCA9ICEob3B0cy50aW1lcy09MSk7XG4gICAgICAgICAgICAgICAgYXR0ZW1wdHMucHVzaChyZXRyeUF0dGVtcHQob3B0cy50YXNrLCBmaW5hbEF0dGVtcHQpKTtcbiAgICAgICAgICAgICAgICBpZighZmluYWxBdHRlbXB0ICYmIG9wdHMuaW50ZXJ2YWwgPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdHMucHVzaChyZXRyeUludGVydmFsKG9wdHMuaW50ZXJ2YWwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFzeW5jLnNlcmllcyhhdHRlbXB0cywgZnVuY3Rpb24oZG9uZSwgZGF0YSl7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAod3JhcHBlZENhbGxiYWNrIHx8IG9wdHMuY2FsbGJhY2spKGRhdGEuZXJyLCBkYXRhLnJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGEgY2FsbGJhY2sgaXMgcGFzc2VkLCBydW4gdGhpcyBhcyBhIGNvbnRyb2xsIGZsb3dcbiAgICAgICAgcmV0dXJuIG9wdHMuY2FsbGJhY2sgPyB3cmFwcGVkVGFzaygpIDogd3JhcHBlZFRhc2s7XG4gICAgfTtcblxuICAgIGFzeW5jLndhdGVyZmFsbCA9IGZ1bmN0aW9uICh0YXNrcywgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBfb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgICAgICAgaWYgKCFfaXNBcnJheSh0YXNrcykpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IHRvIHdhdGVyZmFsbCBtdXN0IGJlIGFuIGFycmF5IG9mIGZ1bmN0aW9ucycpO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHdyYXBJdGVyYXRvcihpdGVyYXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIF9yZXN0UGFyYW0oZnVuY3Rpb24gKGVyciwgYXJncykge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgW2Vycl0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKHdyYXBJdGVyYXRvcihuZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVuc3VyZUFzeW5jKGl0ZXJhdG9yKS5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwSXRlcmF0b3IoYXN5bmMuaXRlcmF0b3IodGFza3MpKSgpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfcGFyYWxsZWwoZWFjaGZuLCB0YXNrcywgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wO1xuICAgICAgICB2YXIgcmVzdWx0cyA9IF9pc0FycmF5TGlrZSh0YXNrcykgPyBbXSA6IHt9O1xuXG4gICAgICAgIGVhY2hmbih0YXNrcywgZnVuY3Rpb24gKHRhc2ssIGtleSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRhc2soX3Jlc3RQYXJhbShmdW5jdGlvbiAoZXJyLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdHNba2V5XSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMucGFyYWxsZWwgPSBmdW5jdGlvbiAodGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9wYXJhbGxlbChhc3luYy5lYWNoT2YsIHRhc2tzLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLnBhcmFsbGVsTGltaXQgPSBmdW5jdGlvbih0YXNrcywgbGltaXQsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9wYXJhbGxlbChfZWFjaE9mTGltaXQobGltaXQpLCB0YXNrcywgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy5zZXJpZXMgPSBmdW5jdGlvbih0YXNrcywgY2FsbGJhY2spIHtcbiAgICAgICAgX3BhcmFsbGVsKGFzeW5jLmVhY2hPZlNlcmllcywgdGFza3MsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuaXRlcmF0b3IgPSBmdW5jdGlvbiAodGFza3MpIHtcbiAgICAgICAgZnVuY3Rpb24gbWFrZUNhbGxiYWNrKGluZGV4KSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBmbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzW2luZGV4XS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm4ubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm4ubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGluZGV4IDwgdGFza3MubGVuZ3RoIC0gMSkgPyBtYWtlQ2FsbGJhY2soaW5kZXggKyAxKTogbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ha2VDYWxsYmFjaygwKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuYXBwbHkgPSBfcmVzdFBhcmFtKGZ1bmN0aW9uIChmbiwgYXJncykge1xuICAgICAgICByZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbiAoY2FsbEFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShcbiAgICAgICAgICAgICAgICBudWxsLCBhcmdzLmNvbmNhdChjYWxsQXJncylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gX2NvbmNhdChlYWNoZm4sIGFyciwgZm4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHgsIGluZGV4LCBjYikge1xuICAgICAgICAgICAgZm4oeCwgZnVuY3Rpb24gKGVyciwgeSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoeSB8fCBbXSk7XG4gICAgICAgICAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYy5jb25jYXQgPSBkb1BhcmFsbGVsKF9jb25jYXQpO1xuICAgIGFzeW5jLmNvbmNhdFNlcmllcyA9IGRvU2VyaWVzKF9jb25jYXQpO1xuXG4gICAgYXN5bmMud2hpbHN0ID0gZnVuY3Rpb24gKHRlc3QsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IG5vb3A7XG4gICAgICAgIGlmICh0ZXN0KCkpIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gX3Jlc3RQYXJhbShmdW5jdGlvbihlcnIsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXN0LmFwcGx5KHRoaXMsIGFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yKG5leHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIFtudWxsXS5jb25jYXQoYXJncykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXRlcmF0b3IobmV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBhc3luYy5kb1doaWxzdCA9IGZ1bmN0aW9uIChpdGVyYXRvciwgdGVzdCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGNhbGxzID0gMDtcbiAgICAgICAgcmV0dXJuIGFzeW5jLndoaWxzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiArK2NhbGxzIDw9IDEgfHwgdGVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy51bnRpbCA9IGZ1bmN0aW9uICh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jLndoaWxzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAhdGVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy5kb1VudGlsID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCB0ZXN0LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gYXN5bmMuZG9XaGlsc3QoaXRlcmF0b3IsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICF0ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuZHVyaW5nID0gZnVuY3Rpb24gKHRlc3QsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IG5vb3A7XG5cbiAgICAgICAgdmFyIG5leHQgPSBfcmVzdFBhcmFtKGZ1bmN0aW9uKGVyciwgYXJncykge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChjaGVjayk7XG4gICAgICAgICAgICAgICAgdGVzdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNoZWNrID0gZnVuY3Rpb24oZXJyLCB0cnV0aCkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRydXRoKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IobmV4dCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRlc3QoY2hlY2spO1xuICAgIH07XG5cbiAgICBhc3luYy5kb0R1cmluZyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgdGVzdCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGNhbGxzID0gMDtcbiAgICAgICAgYXN5bmMuZHVyaW5nKGZ1bmN0aW9uKG5leHQpIHtcbiAgICAgICAgICAgIGlmIChjYWxscysrIDwgMSkge1xuICAgICAgICAgICAgICAgIG5leHQobnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX3F1ZXVlKHdvcmtlciwgY29uY3VycmVuY3ksIHBheWxvYWQpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbmN5ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGNvbmN1cnJlbmN5ID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBfaW5zZXJ0KHEsIGRhdGEsIHBvcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFfaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBbZGF0YV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihkYXRhLmxlbmd0aCA9PT0gMCAmJiBxLmlkbGUoKSkge1xuICAgICAgICAgICAgICAgIC8vIGNhbGwgZHJhaW4gaW1tZWRpYXRlbHkgaWYgdGhlcmUgYXJlIG5vIHRhc2tzXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzeW5jLnNldEltbWVkaWF0ZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5kcmFpbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2FycmF5RWFjaChkYXRhLCBmdW5jdGlvbih0YXNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhc2ssXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayB8fCBub29wXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcS50YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHEudGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocS50YXNrcy5sZW5ndGggPT09IHEuY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShxLnByb2Nlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIF9uZXh0KHEsIHRhc2tzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB3b3JrZXJzIC09IDE7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgIF9hcnJheUVhY2godGFza3MsIGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9hcnJheUVhY2god29ya2Vyc0xpc3QsIGZ1bmN0aW9uICh3b3JrZXIsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod29ya2VyID09PSB0YXNrICYmICFyZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2Vyc0xpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGFzay5jYWxsYmFjay5hcHBseSh0YXNrLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocS50YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHEuZHJhaW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdvcmtlcnMgPSAwO1xuICAgICAgICB2YXIgd29ya2Vyc0xpc3QgPSBbXTtcbiAgICAgICAgdmFyIHEgPSB7XG4gICAgICAgICAgICB0YXNrczogW10sXG4gICAgICAgICAgICBjb25jdXJyZW5jeTogY29uY3VycmVuY3ksXG4gICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkLFxuICAgICAgICAgICAgc2F0dXJhdGVkOiBub29wLFxuICAgICAgICAgICAgZW1wdHk6IG5vb3AsXG4gICAgICAgICAgICBkcmFpbjogbm9vcCxcbiAgICAgICAgICAgIHN0YXJ0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcGF1c2VkOiBmYWxzZSxcbiAgICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIF9pbnNlcnQocSwgZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBraWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcS5kcmFpbiA9IG5vb3A7XG4gICAgICAgICAgICAgICAgcS50YXNrcyA9IFtdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVuc2hpZnQ6IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIF9pbnNlcnQocSwgZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS50YXNrcy5sZW5ndGgpe1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXNrcyA9IHEucGF5bG9hZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICBxLnRhc2tzLnNwbGljZSgwLCBxLnBheWxvYWQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHEudGFza3Muc3BsaWNlKDAsIHEudGFza3MubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IF9tYXAodGFza3MsIGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFzay5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocS50YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHEuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3b3JrZXJzICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtlcnNMaXN0LnB1c2godGFza3NbMF0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2IgPSBvbmx5X29uY2UoX25leHQocSwgdGFza3MpKTtcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyKGRhdGEsIGNiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHEudGFza3MubGVuZ3RoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bm5pbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VycztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3b3JrZXJzTGlzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3b3JrZXJzTGlzdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZGxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcS50YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdXNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc3VtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChxLnBhdXNlZCA9PT0gZmFsc2UpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICAgICAgcS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdW1lQ291bnQgPSBNYXRoLm1pbihxLmNvbmN1cnJlbmN5LCBxLnRhc2tzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAgICAgICAgICAgLy8gd29ya2VyIHRvIHByZXNlcnZlIGZ1bGwgY29uY3VycmVuY3kgYWZ0ZXIgcGF1c2VcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSByZXN1bWVDb3VudDsgdysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShxLnByb2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHE7XG4gICAgfVxuXG4gICAgYXN5bmMucXVldWUgPSBmdW5jdGlvbiAod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICAgICAgICB2YXIgcSA9IF9xdWV1ZShmdW5jdGlvbiAoaXRlbXMsIGNiKSB7XG4gICAgICAgICAgICB3b3JrZXIoaXRlbXNbMF0sIGNiKTtcbiAgICAgICAgfSwgY29uY3VycmVuY3ksIDEpO1xuXG4gICAgICAgIHJldHVybiBxO1xuICAgIH07XG5cbiAgICBhc3luYy5wcmlvcml0eVF1ZXVlID0gZnVuY3Rpb24gKHdvcmtlciwgY29uY3VycmVuY3kpIHtcblxuICAgICAgICBmdW5jdGlvbiBfY29tcGFyZVRhc2tzKGEsIGIpe1xuICAgICAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gX2JpbmFyeVNlYXJjaChzZXF1ZW5jZSwgaXRlbSwgY29tcGFyZSkge1xuICAgICAgICAgICAgdmFyIGJlZyA9IC0xLFxuICAgICAgICAgICAgICAgIGVuZCA9IHNlcXVlbmNlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoYmVnIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pZCA9IGJlZyArICgoZW5kIC0gYmVnICsgMSkgPj4+IDEpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKGl0ZW0sIHNlcXVlbmNlW21pZF0pID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmVnID0gbWlkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJlZztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIF9pbnNlcnQocSwgZGF0YSwgcHJpb3JpdHksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRhc2sgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcS5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghX2lzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gW2RhdGFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3luYy5zZXRJbW1lZGlhdGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHEuZHJhaW4oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9hcnJheUVhY2goZGF0YSwgZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB0YXNrLFxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHksXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBjYWxsYmFjayA6IG5vb3BcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcS50YXNrcy5zcGxpY2UoX2JpbmFyeVNlYXJjaChxLnRhc2tzLCBpdGVtLCBfY29tcGFyZVRhc2tzKSArIDEsIDAsIGl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHEudGFza3MubGVuZ3RoID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShxLnByb2Nlc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGFydCB3aXRoIGEgbm9ybWFsIHF1ZXVlXG4gICAgICAgIHZhciBxID0gYXN5bmMucXVldWUod29ya2VyLCBjb25jdXJyZW5jeSk7XG5cbiAgICAgICAgLy8gT3ZlcnJpZGUgcHVzaCB0byBhY2NlcHQgc2Vjb25kIHBhcmFtZXRlciByZXByZXNlbnRpbmcgcHJpb3JpdHlcbiAgICAgICAgcS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIHByaW9yaXR5LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgX2luc2VydChxLCBkYXRhLCBwcmlvcml0eSwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFJlbW92ZSB1bnNoaWZ0IGZ1bmN0aW9uXG4gICAgICAgIGRlbGV0ZSBxLnVuc2hpZnQ7XG5cbiAgICAgICAgcmV0dXJuIHE7XG4gICAgfTtcblxuICAgIGFzeW5jLmNhcmdvID0gZnVuY3Rpb24gKHdvcmtlciwgcGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gX3F1ZXVlKHdvcmtlciwgMSwgcGF5bG9hZCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9jb25zb2xlX2ZuKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIF9yZXN0UGFyYW0oZnVuY3Rpb24gKGZuLCBhcmdzKSB7XG4gICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChbX3Jlc3RQYXJhbShmdW5jdGlvbiAoZXJyLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uc29sZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb25zb2xlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYXJyYXlFYWNoKGFyZ3MsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZVtuYW1lXSh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSldKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYy5sb2cgPSBfY29uc29sZV9mbignbG9nJyk7XG4gICAgYXN5bmMuZGlyID0gX2NvbnNvbGVfZm4oJ2RpcicpO1xuICAgIC8qYXN5bmMuaW5mbyA9IF9jb25zb2xlX2ZuKCdpbmZvJyk7XG4gICAgYXN5bmMud2FybiA9IF9jb25zb2xlX2ZuKCd3YXJuJyk7XG4gICAgYXN5bmMuZXJyb3IgPSBfY29uc29sZV9mbignZXJyb3InKTsqL1xuXG4gICAgYXN5bmMubWVtb2l6ZSA9IGZ1bmN0aW9uIChmbiwgaGFzaGVyKSB7XG4gICAgICAgIHZhciBtZW1vID0ge307XG4gICAgICAgIHZhciBxdWV1ZXMgPSB7fTtcbiAgICAgICAgdmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgICAgIGhhc2hlciA9IGhhc2hlciB8fCBpZGVudGl0eTtcbiAgICAgICAgdmFyIG1lbW9pemVkID0gX3Jlc3RQYXJhbShmdW5jdGlvbiBtZW1vaXplZChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgdmFyIGtleSA9IGhhc2hlci5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbChtZW1vLCBrZXkpKSB7ICAgXG4gICAgICAgICAgICAgICAgYXN5bmMuc2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgbWVtb1trZXldKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhhcy5jYWxsKHF1ZXVlcywga2V5KSkge1xuICAgICAgICAgICAgICAgIHF1ZXVlc1trZXldLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVldWVzW2tleV0gPSBbY2FsbGJhY2tdO1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MuY29uY2F0KFtfcmVzdFBhcmFtKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbW9ba2V5XSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIHZhciBxID0gcXVldWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBxdWV1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBxLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcVtpXS5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbWVtb2l6ZWQubWVtbyA9IG1lbW87XG4gICAgICAgIG1lbW9pemVkLnVubWVtb2l6ZWQgPSBmbjtcbiAgICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH07XG5cbiAgICBhc3luYy51bm1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoZm4udW5tZW1vaXplZCB8fCBmbikuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX3RpbWVzKG1hcHBlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvdW50LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIG1hcHBlcihfcmFuZ2UoY291bnQpLCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFzeW5jLnRpbWVzID0gX3RpbWVzKGFzeW5jLm1hcCk7XG4gICAgYXN5bmMudGltZXNTZXJpZXMgPSBfdGltZXMoYXN5bmMubWFwU2VyaWVzKTtcbiAgICBhc3luYy50aW1lc0xpbWl0ID0gZnVuY3Rpb24gKGNvdW50LCBsaW1pdCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBhc3luYy5tYXBMaW1pdChfcmFuZ2UoY291bnQpLCBsaW1pdCwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuc2VxID0gZnVuY3Rpb24gKC8qIGZ1bmN0aW9ucy4uLiAqLykge1xuICAgICAgICB2YXIgZm5zID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IG5vb3A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFzeW5jLnJlZHVjZShmbnMsIGFyZ3MsIGZ1bmN0aW9uIChuZXdhcmdzLCBmbiwgY2IpIHtcbiAgICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBuZXdhcmdzLmNvbmNhdChbX3Jlc3RQYXJhbShmdW5jdGlvbiAoZXJyLCBuZXh0YXJncykge1xuICAgICAgICAgICAgICAgICAgICBjYihlcnIsIG5leHRhcmdzKTtcbiAgICAgICAgICAgICAgICB9KV0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhhdCwgW2Vycl0uY29uY2F0KHJlc3VsdHMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgYXN5bmMuY29tcG9zZSA9IGZ1bmN0aW9uICgvKiBmdW5jdGlvbnMuLi4gKi8pIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jLnNlcS5hcHBseShudWxsLCBBcnJheS5wcm90b3R5cGUucmV2ZXJzZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cblxuICAgIGZ1bmN0aW9uIF9hcHBseUVhY2goZWFjaGZuKSB7XG4gICAgICAgIHJldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uKGZucywgYXJncykge1xuICAgICAgICAgICAgdmFyIGdvID0gX3Jlc3RQYXJhbShmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVhY2hmbihmbnMsIGZ1bmN0aW9uIChmbiwgXywgY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4uYXBwbHkodGhhdCwgYXJncy5jb25jYXQoW2NiXSkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ28uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ287XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jLmFwcGx5RWFjaCA9IF9hcHBseUVhY2goYXN5bmMuZWFjaE9mKTtcbiAgICBhc3luYy5hcHBseUVhY2hTZXJpZXMgPSBfYXBwbHlFYWNoKGFzeW5jLmVhY2hPZlNlcmllcyk7XG5cblxuICAgIGFzeW5jLmZvcmV2ZXIgPSBmdW5jdGlvbiAoZm4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkb25lID0gb25seV9vbmNlKGNhbGxiYWNrIHx8IG5vb3ApO1xuICAgICAgICB2YXIgdGFzayA9IGVuc3VyZUFzeW5jKGZuKTtcbiAgICAgICAgZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFzayhuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGVuc3VyZUFzeW5jKGZuKSB7XG4gICAgICAgIHJldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgYXJncy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5uZXJBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgIGlmIChzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBpbm5lckFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBpbm5lckFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICBzeW5jID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jLmVuc3VyZUFzeW5jID0gZW5zdXJlQXN5bmM7XG5cbiAgICBhc3luYy5jb25zdGFudCA9IF9yZXN0UGFyYW0oZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgIHZhciBhcmdzID0gW251bGxdLmNvbmNhdCh2YWx1ZXMpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBhc3luYy53cmFwU3luYyA9XG4gICAgYXN5bmMuYXN5bmNpZnkgPSBmdW5jdGlvbiBhc3luY2lmeShmdW5jKSB7XG4gICAgICAgIHJldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiByZXN1bHQgaXMgUHJvbWlzZSBvYmplY3RcbiAgICAgICAgICAgIGlmIChfaXNPYmplY3QocmVzdWx0KSAmJiB0eXBlb2YgcmVzdWx0LnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIubWVzc2FnZSA/IGVyciA6IG5ldyBFcnJvcihlcnIpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIE5vZGUuanNcbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBhc3luYztcbiAgICB9XG4gICAgLy8gQU1EIC8gUmVxdWlyZUpTXG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFzeW5jO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gaW5jbHVkZWQgZGlyZWN0bHkgdmlhIDxzY3JpcHQ+IHRhZ1xuICAgIGVsc2Uge1xuICAgICAgICByb290LmFzeW5jID0gYXN5bmM7XG4gICAgfVxuXG59KCkpO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsInZhciBuZXh0VGljayA9IHJlcXVpcmUoJ3Byb2Nlc3MvYnJvd3Nlci5qcycpLm5leHRUaWNrO1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIGltbWVkaWF0ZUlkcyA9IHt9O1xudmFyIG5leHRJbW1lZGlhdGVJZCA9IDA7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7IHRpbWVvdXQuY2xvc2UoKTsgfTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBUaGF0J3Mgbm90IGhvdyBub2RlLmpzIGltcGxlbWVudHMgaXQgYnV0IHRoZSBleHBvc2VkIGFwaSBpcyB0aGUgc2FtZS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiID8gc2V0SW1tZWRpYXRlIDogZnVuY3Rpb24oZm4pIHtcbiAgdmFyIGlkID0gbmV4dEltbWVkaWF0ZUlkKys7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBmYWxzZSA6IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICBpbW1lZGlhdGVJZHNbaWRdID0gdHJ1ZTtcblxuICBuZXh0VGljayhmdW5jdGlvbiBvbk5leHRUaWNrKCkge1xuICAgIGlmIChpbW1lZGlhdGVJZHNbaWRdKSB7XG4gICAgICAvLyBmbi5jYWxsKCkgaXMgZmFzdGVyIHNvIHdlIG9wdGltaXplIGZvciB0aGUgY29tbW9uIHVzZS1jYXNlXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NhbGwtYXBwbHktc2VndVxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbi5jYWxsKG51bGwpO1xuICAgICAgfVxuICAgICAgLy8gUHJldmVudCBpZHMgZnJvbSBsZWFraW5nXG4gICAgICBleHBvcnRzLmNsZWFySW1tZWRpYXRlKGlkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpZDtcbn07XG5cbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSB0eXBlb2YgY2xlYXJJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNsZWFySW1tZWRpYXRlIDogZnVuY3Rpb24oaWQpIHtcbiAgZGVsZXRlIGltbWVkaWF0ZUlkc1tpZF07XG59OyIsImltcG9ydCB7IENoZWNrbGlzdEl0ZW0gfSBmcm9tICcuLi9kYXRhJztcbmV4cG9ydCBjb25zdCBDaGVja2xpc3REcmFnZ0V2ZW50OiBzdHJpbmcgPSAnb25DaGVja2xpc3REcmFnJztcblxue1xuXG4gICAgY2xhc3MgQ2hlY2tsaXN0U2VsZWN0ZWQge1xuICAgICAgICBwdWJsaWMgaW5kZXg6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBkcmFnOiBib29sZWFuO1xuICAgICAgICBwdWJsaWMgZHJhZ0luaXQ6IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBkcmFnSWQ6IG51bWJlciA9IDA7XG4gICAgICAgIHB1YmxpYyBpZDogbnVtYmVyO1xuICAgICAgICBwdWJsaWMgaXNDaGFuZ2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaW50ZXJmYWNlIElDaGVja2xpc3RFZGl0QmluZGluZ3Mge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBhbnk7XG5cbiAgICAgICAgbmdEaXNhYmxlZDogYW55O1xuICAgICAgICBwaXBDaGFuZ2VkOiBhbnk7XG4gICAgICAgIHBpcERyYWdnYWJsZTogYW55O1xuICAgICAgICBwaXBPcHRpb25zOiBhbnk7XG4gICAgICAgIHBpcFNjcm9sbENvbnRhaW5lcjogYW55O1xuICAgICAgICBwaXBSZWJpbmQ6IGFueTtcbiAgICB9XG5cbiAgICBjb25zdCBDaGVja2xpc3RFZGl0QmluZGluZ3M6IElDaGVja2xpc3RFZGl0QmluZGluZ3MgPSB7XG4gICAgICAgIG5nRGlzYWJsZWQ6ICc8PycsXG4gICAgICAgIHBpcENoYW5nZWQ6ICc9PycsXG4gICAgICAgIHBpcERyYWdnYWJsZTogJzw/JyxcbiAgICAgICAgcGlwT3B0aW9uczogJz0nLFxuICAgICAgICBwaXBTY3JvbGxDb250YWluZXI6ICc8PycsXG4gICAgICAgIHBpcFJlYmluZDogJzw/J1xuICAgIH1cblxuICAgIGNsYXNzIENoZWNrbGlzdEVkaXRCaW5kaW5nc0NoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJQ2hlY2tsaXN0RWRpdEJpbmRpbmdzIHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogbmcuSUNoYW5nZXNPYmplY3Q8YW55PjtcblxuICAgICAgICBuZ0Rpc2FibGVkOiBuZy5JQ2hhbmdlc09iamVjdDxib29sZWFuPjtcbiAgICAgICAgcGlwQ2hhbmdlZDogbmcuSUNoYW5nZXNPYmplY3Q8KCkgPT4gbmcuSVByb21pc2U8dm9pZD4+O1xuICAgICAgICBwaXBEcmFnZ2FibGU6IG5nLklDaGFuZ2VzT2JqZWN0PGJvb2xlYW4+O1xuICAgICAgICBwaXBPcHRpb25zOiBuZy5JQ2hhbmdlc09iamVjdDxDaGVja2xpc3RJdGVtW10+O1xuICAgICAgICBwaXBTY3JvbGxDb250YWluZXI6IG5nLklDaGFuZ2VzT2JqZWN0PHN0cmluZz47XG4gICAgICAgIHBpcFJlYmluZDogbmcuSUNoYW5nZXNPYmplY3Q8Ym9vbGVhbj47XG4gICAgfVxuXG4gICAgY2xhc3MgQ2hlY2tsaXN0RWRpdENvbnRyb2xsZXIge1xuICAgICAgICBwdWJsaWMgbmdEaXNhYmxlZDogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIHBpcENoYW5nZWQ6IEZ1bmN0aW9uO1xuICAgICAgICBwdWJsaWMgcGlwRHJhZ2dhYmxlOiBib29sZWFuO1xuICAgICAgICBwdWJsaWMgcGlwU2Nyb2xsQ29udGFpbmVyOiBzdHJpbmc7XG4gICAgICAgIHB1YmxpYyBwaXBPcHRpb25zOiBDaGVja2xpc3RJdGVtW107XG4gICAgICAgIHB1YmxpYyBwaXBSZWJpbmQ6IGJvb2xlYW47XG5cbiAgICAgICAgcHJpdmF0ZSBfZGVib3VuY2VDaGFuZ2U6IGFueTtcblxuICAgICAgICBwdWJsaWMgc2VsZWN0ZWQ6IENoZWNrbGlzdFNlbGVjdGVkO1xuXG4gICAgICAgIHB1YmxpYyBjaGVja2xpc3RDb250ZW50OiBDaGVja2xpc3RJdGVtW107XG4gICAgICAgIHB1YmxpYyBpc1dpZHRoOiBib29sZWFuO1xuXG5cbiAgICAgICAgY29uc3RydWN0b3IoXG4gICAgICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICBwcml2YXRlICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICRkb2N1bWVudCxcbiAgICAgICAgICAgIHByaXZhdGUgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdwaXAtY2hlY2tsaXN0LWVkaXQnKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnBpcE9wdGlvbnMgfHwgIV8uaXNBcnJheSh0aGlzLnBpcE9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waXBPcHRpb25zID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBuZXcgQ2hlY2tsaXN0U2VsZWN0ZWQoKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuZHJhZyA9IHRoaXMucGlwRHJhZ2dhYmxlO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kcmFnSW5pdCA9IHRoaXMucGlwRHJhZ2dhYmxlO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pZCA9IHRoaXMubm93KCk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVMaXN0KHRoaXMucGlwT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlYm91bmNlQ2hhbmdlID0gXy5kZWJvdW5jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNoZWNrbGlzdENoYW5nZSgpO1xuICAgICAgICAgICAgfSwgMjAwKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljICRvbkNoYW5nZXMoY2hhbmdlczogQ2hlY2tsaXN0RWRpdEJpbmRpbmdzQ2hhbmdlcyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMudG9Cb29sZWFuKHRoaXMucGlwUmViaW5kKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VzLnBpcE9wdGlvbnMgJiYgY2hhbmdlcy5waXBPcHRpb25zLmN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHRoaXMucGlwT3B0aW9ucywgY2hhbmdlcy5waXBPcHRpb25zLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZC5pc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlTGlzdChjaGFuZ2VzLnBpcE9wdGlvbnMuY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnBpcE9wdGlvbnMgPSBjaGFuZ2VzLnBpcE9wdGlvbnMuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VzLnBpcERyYWdnYWJsZSAmJiBjaGFuZ2VzLnBpcERyYWdnYWJsZS5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waXBEcmFnZ2FibGUgPSBjaGFuZ2VzLnBpcERyYWdnYWJsZS5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB0b0Jvb2xlYW4odmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSAnMScgfHwgdmFsdWUgPT0gJ3RydWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRDYXJldChlbDogYW55KTogbnVtYmVyIHtcbiAgICAgICAgICAgIGlmIChlbC5zZWxlY3Rpb25TdGFydCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy4kZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZWwuZm9jdXMoKTtcblxuICAgICAgICAgICAgICAgIGxldCByID0gdGhpcy4kZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcmUgPSBlbC5jcmVhdGVUZXh0UmFuZ2UoKSxcbiAgICAgICAgICAgICAgICAgICAgcmMgPSByZS5kdXBsaWNhdGUoKTtcbiAgICAgICAgICAgICAgICByZS5tb3ZlVG9Cb29rbWFyayhyLmdldEJvb2ttYXJrKCkpO1xuICAgICAgICAgICAgICAgIHJjLnNldEVuZFBvaW50KCdFbmRUb1N0YXJ0JywgcmUpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJjLnRleHQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc2V0U2VsZWN0aW9uUmFuZ2UoaW5wdXQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSkge1xuICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmNyZWF0ZVRleHRSYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IGlucHV0LmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVFbmQoJ2NoYXJhY3RlcicsIHNlbGVjdGlvbkVuZCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBzZWxlY3Rpb25TdGFydCk7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHNldENhcmV0VG9Qb3MoaW5wdXQsIHBvcyk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShpbnB1dCwgcG9zLCBwb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBhZGRJdGVtKHRleHQ6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgbGV0IG5ld0l0ZW06IENoZWNrbGlzdEl0ZW0gPSB0aGlzLmdldE5ld0l0ZW0odGV4dCwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrbGlzdENvbnRlbnQubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tsaXN0Q29udGVudC51bnNoaWZ0KG5ld0l0ZW0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrbGlzdENvbnRlbnQuc3BsaWNlKHRoaXMuc2VsZWN0ZWQuaW5kZXggKyAxLCAwLCBuZXdJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggKz0gMTtcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXModGhpcy5zZWxlY3RlZC5pbmRleCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlYm91bmNlQ2hhbmdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZUNvbnRlbnRzKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQ6IENoZWNrbGlzdEl0ZW1bXSA9IFtdO1xuICAgICAgICAgICAgXy5lYWNoKHRoaXMuY2hlY2tsaXN0Q29udGVudCwgKGl0ZW06IENoZWNrbGlzdEl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGl0ZW0uY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW0udGV4dFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMucGlwT3B0aW9ucyA9IGNvbnRlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHNldEZvY3VzKGluZGV4OiBudW1iZXIsIHRvUG9zPzogYW55KTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dEVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJyNjaGVjay1pdGVtLXRleHQtJyArIHRoaXMuc2VsZWN0ZWQuaWQgKyAnLScgKyBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b1BvcyAhPT0gdW5kZWZpbmVkICYmIG5leHRFbGVtZW50WzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDYXJldFRvUG9zKG5leHRFbGVtZW50WzBdLCB0b1Bvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGdldE5ld0l0ZW0odGV4dD86IHN0cmluZywgaXNFbXB0eT86IGJvb2xlYW4pOiBDaGVja2xpc3RJdGVtIHtcbiAgICAgICAgICAgIGxldCBuZXdJdGVtOiBDaGVja2xpc3RJdGVtID0ge1xuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRleHQ6IHRleHQgfHwgJycsXG4gICAgICAgICAgICAgICAgZW1wdHk6IGlzRW1wdHlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBub3coKTogbnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiArbmV3IERhdGU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNsZWFyTGlzdCgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggPSAwO1xuICAgICAgICAgICAgdGhpcy5jaGVja2xpc3RDb250ZW50ID0gW107XG4gICAgICAgICAgICAvLyBwdXNoIGVtcHR5IGl0ZW1cbiAgICAgICAgICAgIHRoaXMuY2hlY2tsaXN0Q29udGVudC5wdXNoKHRoaXMuZ2V0TmV3SXRlbSgnJywgdHJ1ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZW5lcmF0ZUxpc3QoY29udGVudDogQ2hlY2tsaXN0SXRlbVtdKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhckxpc3QoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2xpc3RDb250ZW50ID0gW107XG4gICAgICAgICAgICAgICAgXy5lYWNoKGNvbnRlbnQsIChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tsaXN0Q29udGVudC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIHB1c2ggZW1wdHkgaXRlbVxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tsaXN0Q29udGVudC5wdXNoKHRoaXMuZ2V0TmV3SXRlbSgnJywgdHJ1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzZXRXaWR0aDEwMCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCcjY2hlY2staXRlbS0nICsgKyB0aGlzLnNlbGVjdGVkLmlkICsgJy0nICsgdGhpcy5zZWxlY3RlZC5pbmRleCk7XG4gICAgICAgICAgICBlbGVtZW50LmNzcyhcIndpZHRoXCIsICdub25lJyk7XG4gICAgICAgICAgICBlbGVtZW50LmNzcyhcIm1heC13aWR0aFwiLCAnbm9uZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzZXRXaWR0aCgpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzV2lkdGgpIHJldHVybjtcblxuICAgICAgICAgICAgbGV0IGVsZW1lbnRFdGFsb24gPSBhbmd1bGFyLmVsZW1lbnQoJyNjaGVjay1pdGVtLWVtcHR5LScgKyB0aGlzLnNlbGVjdGVkLmlkKTtcbiAgICAgICAgICAgIGxldCB2YWx1ZTogbnVtYmVyID0gZWxlbWVudEV0YWxvbi53aWR0aCgpO1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJyNjaGVjay1pdGVtLScgKyB0aGlzLnNlbGVjdGVkLmlkICsgJy0nICsgdGhpcy5zZWxlY3RlZC5pbmRleCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKFwid2lkdGhcIiwgdmFsdWUgKyAncHgnKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyhcIm1heC13aWR0aFwiLCB2YWx1ZSArICdweCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHVibGljIGZ1bmN0aW9uc1xuXG4gICAgICAgIHB1YmxpYyBvbkl0ZW1Gb2N1cyhpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5uZ0Rpc2FibGVkKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgaXNTZWxlY3RlZEl0ZW0oaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICAgICAgbGV0IGVtcHR5OiBib29sZWFuO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbXB0eSA9IHRoaXMuY2hlY2tsaXN0Q29udGVudFtpbmRleF0uZW1wdHk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBlbXB0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkLmluZGV4ID09IGluZGV4ICYmIHRoaXMucGlwRHJhZ2dhYmxlICYmICFlbXB0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkFkZEl0ZW0oKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmFkZEl0ZW0oJycsIHRoaXMuc2VsZWN0ZWQuaW5kZXggLSAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkNoYW5nZUl0ZW0oaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEgJiYgdGhpcy5jaGVja2xpc3RDb250ZW50W2luZGV4XSAmJiB0aGlzLmNoZWNrbGlzdENvbnRlbnRbaW5kZXhdLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tsaXN0Q29udGVudFtpbmRleF0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja2xpc3RDb250ZW50W2luZGV4XS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrbGlzdENvbnRlbnQucHVzaCh0aGlzLmdldE5ld0l0ZW0oJycsIHRydWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kZWJvdW5jZUNoYW5nZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uQ2xpY2soJGV2ZW50OiBKUXVlcnlFdmVudE9iamVjdCwgaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMubmdEaXNhYmxlZCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pbmRleCA9IGluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uVGV4dEFyZWFDbGljaygkZXZlbnQ6IEpRdWVyeUV2ZW50T2JqZWN0LCBpbmRleDogbnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5uZ0Rpc2FibGVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25Ecm9wQ29tcGxldGUocGxhY2VJbmRleDogbnVtYmVyLCBvYmo6IENoZWNrbGlzdEl0ZW0sICRldmVudDogSlF1ZXJ5RXZlbnRPYmplY3QsIGNvbXBvbmVudElkOiBudW1iZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkLmlkICE9IGNvbXBvbmVudElkKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkLmRyYWcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIGxldCBpbmRleDogbnVtYmVyID0gcGxhY2VJbmRleDtcbiAgICAgICAgICAgIGxldCB0bXBJbmRleDogbnVtYmVyID0gdGhpcy5zZWxlY3RlZC5pbmRleDtcbiAgICAgICAgICAgIGxldCBjaGVja2xpc3Q6IENoZWNrbGlzdEl0ZW1bXSA9IF8uY2xvbmVEZWVwKHRoaXMuY2hlY2tsaXN0Q29udGVudCk7XG5cbiAgICAgICAgICAgIGlmICghKHRtcEluZGV4ID09IDAgJiYgcGxhY2VJbmRleCA9PSAxKSkge1xuICAgICAgICAgICAgICAgIGlmICh0bXBJbmRleCA+IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IGNoZWNrbGlzdC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNoZWNrbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgdXBcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0bXBJbmRleCAtIGluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrbGlzdFt0bXBJbmRleCAtIGldID0gY2hlY2tsaXN0W3RtcEluZGV4IC0gaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrbGlzdFtpbmRleF0gPSBvYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0bXBJbmRleCA8IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4IC09IDE7XG4gICAgICAgICAgICAgICAgICAgIC8vbW92ZSBkb3duXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZXggLSB0bXBJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2xpc3RbdG1wSW5kZXggKyBpXSA9IGNoZWNrbGlzdFt0bXBJbmRleCArIGkgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjaGVja2xpc3RbaW5kZXhdID0gb2JqO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jaGVja2xpc3RDb250ZW50ID0gY2hlY2tsaXN0O1xuICAgICAgICAgICAgdGhpcy5fZGVib3VuY2VDaGFuZ2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbk1vdmUoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNldFdpZHRoKCk7XG4gICAgICAgICAgICB0aGlzLmlzV2lkdGggPSB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICBwdWJsaWMgb25TdG9wKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuZHJhZyA9IHRoaXMuc2VsZWN0ZWQuZHJhZ0luaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kcmFnSWQgPSAwO1xuICAgICAgICAgICAgfSwgNTApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1dpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRXaWR0aDEwMCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNXaWR0aCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uU3RhcnQoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGlkICYmIGlkICE9IHRoaXMuc2VsZWN0ZWQuZHJhZ0lkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kcmFnID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25Eb3duRHJhZ2coaXRlbTogQ2hlY2tsaXN0SXRlbSk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMucGlwRHJhZ2dhYmxlICYmIHRoaXMuY2hlY2tsaXN0Q29udGVudC5sZW5ndGggPiAyICYmICFpdGVtLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRicm9hZGNhc3QoQ2hlY2tsaXN0RHJhZ2dFdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kcmFnSWQgPSB0aGlzLnNlbGVjdGVkLmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uRGVsZXRlSXRlbShpbmRleDogbnVtYmVyLCBpdGVtOiBDaGVja2xpc3RJdGVtKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja2xpc3RDb250ZW50Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2xpc3RDb250ZW50WzBdLnRleHQgPSAnJztcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrbGlzdENvbnRlbnRbMF0uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tsaXN0Q29udGVudFswXS5lbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pbmRleCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDw9IHRoaXMuY2hlY2tsaXN0Q29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja2xpc3RDb250ZW50LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQuaW5kZXggPj0gdGhpcy5jaGVja2xpc3RDb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggPSB0aGlzLmNoZWNrbGlzdENvbnRlbnQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRGb2N1cyh0aGlzLnNlbGVjdGVkLmluZGV4LCAwKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYm91bmNlQ2hhbmdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25DaGVja2VkKGl0ZW06IENoZWNrbGlzdEl0ZW0pOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYm91bmNlQ2hhbmdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25DaGVja2xpc3RDaGFuZ2UoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRlbnRzKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBpcENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waXBDaGFuZ2VkKHRoaXMucGlwT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIHB1YmxpYyBvblRleHRhcmVhS2V5RG93bigkZXZlbnQ6IEtleWJvYXJkRXZlbnQsIGluZGV4OiBudW1iZXIsIGl0ZW06IENoZWNrbGlzdEl0ZW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5nRGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkLmluZGV4ID09IC0xKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgdGV4dGFyZWFMZW5ndGg6IG51bWJlcjtcbiAgICAgICAgICAgIGxldCBwb3NDYXJldDogYW55O1xuICAgICAgICAgICAgaWYgKCRldmVudCAmJiAkZXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGNhcmV0IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgcG9zQ2FyZXQgPSB0aGlzLmdldENhcmV0KCRldmVudC50YXJnZXQpO1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0ZXh0YXJlYSBsZW5ndGhcbiAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldFsndmFsdWUnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRhcmVhTGVuZ3RoID0gJGV2ZW50LnRhcmdldFsndmFsdWUnXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRlbGV0ZSBlbXB0eSBpdGVtIGFmdGVyIGJhY2tzcGFjZSBvciBkZWxcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkLmluZGV4ID4gMCAmJiBpdGVtLnRleHQgIT0gJycgJiYgcG9zQ2FyZXQgPT0gMCAmJiAkZXZlbnQua2V5Q29kZSA9PSA4ICYmICEkZXZlbnQuY3RybEtleSAmJiAhJGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuY2hlY2tsaXN0Q29udGVudFt0aGlzLnNlbGVjdGVkLmluZGV4IC0gMV0udGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tsaXN0Q29udGVudFt0aGlzLnNlbGVjdGVkLmluZGV4IC0gMV0udGV4dCA9IHRoaXMuY2hlY2tsaXN0Q29udGVudFt0aGlzLnNlbGVjdGVkLmluZGV4IC0gMV0udGV4dCArIGl0ZW0udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pbmRleCAtPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrbGlzdENvbnRlbnQuc3BsaWNlKHRoaXMuc2VsZWN0ZWQuaW5kZXggKyAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVib3VuY2VDaGFuZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZvY3VzKHRoaXMuc2VsZWN0ZWQuaW5kZXgsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCRldmVudCkgeyAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGl0ZW0udGV4dCA9PSAnJyAmJiAoJGV2ZW50LmtleUNvZGUgPT0gOCB8fCAkZXZlbnQua2V5Q29kZSA9PSA0NikgJiYgISRldmVudC5jdHJsS2V5ICYmICEkZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRlbGV0ZUl0ZW0oaW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoJGV2ZW50KSB7ICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3ByZXNzIGVudGVyIC0gY3JlYXRlIG5ldyBpdGVtXG4gICAgICAgICAgICBpZiAoKCRldmVudC5rZXlDb2RlID09IDEzIHx8ICRldmVudC5rZXlDb2RlID09IDQ1KSAmJiAhJGV2ZW50LmN0cmxLZXkgJiYgISRldmVudC5zaGlmdEtleSkgeyAgLy8gaW5zZXJ0XG4gICAgICAgICAgICAgICAgaWYgKHBvc0NhcmV0ICE9PSB1bmRlZmluZWQgJiYgcG9zQ2FyZXQgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXRlbSBiZWZvcmUgY3VycmVudCBpdGVtXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkLmluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRJdGVtKCcnLCB0aGlzLnNlbGVjdGVkLmluZGV4IC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEl0ZW0oJycsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50KSB7ICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50KSB7ICRldmVudC5wcmV2ZW50RGVmYXVsdCgpOyB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0ZXh0YXJlYUxlbmd0aCAmJiBwb3NDYXJldCAmJiB0ZXh0YXJlYUxlbmd0aCA9PSBwb3NDYXJldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXRlbSBhZnRlciBjdXJyZW50IGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEl0ZW0oJycsIHRoaXMuc2VsZWN0ZWQuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQpIHsgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQpIHsgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRleHRhcmVhTGVuZ3RoICYmIHBvc0NhcmV0ICYmIHRleHRhcmVhTGVuZ3RoID4gcG9zQ2FyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGl2aWRlIGN1cnJlbnQgaXRlbSBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWVDdXJyZW50OiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3SXRlbTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVDdXJyZW50ID0gaXRlbS50ZXh0LnN1YnN0cmluZygwLCBwb3NDYXJldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtID0gaXRlbS50ZXh0LnN1YnN0cmluZyhwb3NDYXJldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRleHQgPSB2YWx1ZUN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEl0ZW0obmV3SXRlbSwgdGhpcy5zZWxlY3RlZC5pbmRleCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXModGhpcy5zZWxlY3RlZC5pbmRleCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudCkgeyAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudCkgeyAkZXZlbnQucHJldmVudERlZmF1bHQoKTsgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoJGV2ZW50KSB7ICRldmVudC5wcmV2ZW50RGVmYXVsdCgpOyB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1vdmUgY3Vyc29yIHVwXG4gICAgICAgICAgICBpZiAoKHBvc0NhcmV0ID09PSAwIHx8IHBvc0NhcmV0ID09IHRleHRhcmVhTGVuZ3RoKSAmJiB0aGlzLmNoZWNrbGlzdENvbnRlbnQubGVuZ3RoID4gMSAmJiAkZXZlbnQua2V5Q29kZSA9PSAzOCAmJiAhJGV2ZW50LmN0cmxLZXkgJiYgISRldmVudC5zaGlmdEtleSkgeyAgLy8gaW5zZXJ0XG4gICAgICAgICAgICAgICAgaWYgKCRldmVudCkgeyAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IH1cbiAgICAgICAgICAgICAgICBpZiAoJGV2ZW50KSB7ICRldmVudC5wcmV2ZW50RGVmYXVsdCgpOyB9XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zQ2FyZXQgIT09IHVuZGVmaW5lZCAmJiB0ZXh0YXJlYUxlbmd0aCAhPT0gdW5kZWZpbmVkICYmIHBvc0NhcmV0ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSB0byBuZXcgaXRlbVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZC5pbmRleCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gdGhpcy5jaGVja2xpc3RDb250ZW50Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmNoZWNrbGlzdENvbnRlbnRbdGhpcy5zZWxlY3RlZC5pbmRleF0udGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZvY3VzKHRoaXMuc2VsZWN0ZWQuaW5kZXgsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuY2hlY2tsaXN0Q29udGVudFt0aGlzLnNlbGVjdGVkLmluZGV4XS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXModGhpcy5zZWxlY3RlZC5pbmRleCwgcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBjYXJldCB0byB0ZXh0IGVuZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZvY3VzKHRoaXMuc2VsZWN0ZWQuaW5kZXgsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbW92ZSBjdXJzb3IgZG93blxuICAgICAgICAgICAgaWYgKChwb3NDYXJldCA9PT0gMCB8fCBwb3NDYXJldCA9PSB0ZXh0YXJlYUxlbmd0aCkgJiYgdGhpcy5jaGVja2xpc3RDb250ZW50Lmxlbmd0aCA+IDEgJiYgJGV2ZW50LmtleUNvZGUgPT0gNDAgJiYgISRldmVudC5jdHJsS2V5ICYmICEkZXZlbnQuc2hpZnRLZXkpIHsgIC8vIGluc2VydFxuICAgICAgICAgICAgICAgIGlmICgkZXZlbnQpIHsgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyB9XG4gICAgICAgICAgICAgICAgaWYgKCRldmVudCkgeyAkZXZlbnQucHJldmVudERlZmF1bHQoKTsgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBvc0NhcmV0ICE9PSB1bmRlZmluZWQgJiYgdGV4dGFyZWFMZW5ndGggIT09IHVuZGVmaW5lZCAmJiBwb3NDYXJldCA9PSB0ZXh0YXJlYUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIHRvIG5ldyBpdGVtXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkLmluZGV4ID49IHRoaXMuY2hlY2tsaXN0Q29udGVudC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXModGhpcy5zZWxlY3RlZC5pbmRleCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZvY3VzKHRoaXMuc2VsZWN0ZWQuaW5kZXgsIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbW92ZSBjYXJldCB0byB0ZXh0IGVuZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZvY3VzKHRoaXMuc2VsZWN0ZWQuaW5kZXgsIHRleHRhcmVhTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRlbGV0ZSBpdGVtXG4gICAgICAgICAgICBpZiAoIWl0ZW0uZW1wdHkgJiYgJGV2ZW50LmtleUNvZGUgPT0gNDYgJiYgJGV2ZW50LmN0cmxLZXkgJiYgISRldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGlmICgkZXZlbnQpIHsgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyB9XG4gICAgICAgICAgICAgICAgaWYgKCRldmVudCkgeyAkZXZlbnQucHJldmVudERlZmF1bHQoKTsgfVxuICAgICAgICAgICAgICAgIHRoaXMub25EZWxldGVJdGVtKGluZGV4LCBpdGVtKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2svdW5jaGVjayBpdGVtXG4gICAgICAgICAgICBpZiAoJGV2ZW50LmtleUNvZGUgPT0gMzIgJiYgJGV2ZW50LmN0cmxLZXkgJiYgISRldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGlmICgkZXZlbnQpIHsgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyB9XG4gICAgICAgICAgICAgICAgaWYgKCRldmVudCkgeyAkZXZlbnQucHJldmVudERlZmF1bHQoKTsgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hlY2tlZCA9ICFpdGVtLmNoZWNrZWRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVib3VuY2VDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBDaGVja2xpc3RFZGl0OiBuZy5JQ29tcG9uZW50T3B0aW9ucyA9IHtcbiAgICAgICAgYmluZGluZ3M6IENoZWNrbGlzdEVkaXRCaW5kaW5ncyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjaGVja2xpc3RfZWRpdC9DaGVja2xpc3RFZGl0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiBDaGVja2xpc3RFZGl0Q29udHJvbGxlclxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKFwicGlwQ2hlY2tsaXN0RWRpdFwiLCBbJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnLCAncGlwQmVoYXZpb3JzJ10pXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcENoZWNrbGlzdEVkaXQnLCBDaGVja2xpc3RFZGl0KTtcblxufVxuIiwiaW1wb3J0IHsgQ2hlY2tsaXN0SXRlbSB9IGZyb20gJy4uL2RhdGEnO1xue1xuXG4gICAgaW50ZXJmYWNlIElDaGVja2xpc3RWaWV3QmluZGluZ3Mge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBhbnk7XG5cbiAgICAgICAgbmdEaXNhYmxlZDogYW55O1xuICAgICAgICBwaXBDaGFuZ2VkOiBhbnk7XG4gICAgICAgIHBpcE9wdGlvbnM6IGFueTtcbiAgICAgICAgcGlwUmViaW5kOiBhbnk7XG4gICAgfVxuXG4gICAgY29uc3QgQ2hlY2tsaXN0Vmlld0JpbmRpbmdzOiBJQ2hlY2tsaXN0Vmlld0JpbmRpbmdzID0ge1xuICAgICAgICBuZ0Rpc2FibGVkOiAnPD8nLFxuICAgICAgICBwaXBDaGFuZ2VkOiAnPT8nLFxuICAgICAgICBwaXBPcHRpb25zOiAnPScsXG4gICAgICAgIHBpcFJlYmluZDogJzw/J1xuICAgIH1cblxuICAgIGNsYXNzIENoZWNrbGlzdFZpZXdCaW5kaW5nc0NoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJQ2hlY2tsaXN0Vmlld0JpbmRpbmdzIHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogbmcuSUNoYW5nZXNPYmplY3Q8YW55PjtcblxuICAgICAgICBuZ0Rpc2FibGVkOiBuZy5JQ2hhbmdlc09iamVjdDxib29sZWFuPjtcbiAgICAgICAgcGlwQ2hhbmdlZDogbmcuSUNoYW5nZXNPYmplY3Q8KGRhdGE6IENoZWNrbGlzdEl0ZW1bXSkgPT4gbmcuSVByb21pc2U8dm9pZD4+O1xuICAgICAgICBwaXBPcHRpb25zOiBuZy5JQ2hhbmdlc09iamVjdDxDaGVja2xpc3RJdGVtW10+O1xuICAgICAgICBwaXBSZWJpbmQ6IG5nLklDaGFuZ2VzT2JqZWN0PGJvb2xlYW4+O1xuICAgIH1cblxuICAgIGNsYXNzIENoZWNrbGlzdFZpZXdDb250cm9sbGVyIHtcbiAgICAgICAgcHVibGljIG5nRGlzYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBwaXBDaGFuZ2VkOiBGdW5jdGlvbjtcbiAgICAgICAgcHVibGljIHBpcE9wdGlvbnM6IENoZWNrbGlzdEl0ZW1bXTsgXG4gICAgICAgIHB1YmxpYyBwaXBSZWJpbmQ6IGJvb2xlYW47XG5cbiAgICAgICAgcHJpdmF0ZSBpc0NoYW5nZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeVxuICAgICAgICApIHtcbiAgICAgICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnBpcE9wdGlvbnMgfHwgIV8uaXNBcnJheSh0aGlzLnBpcE9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waXBPcHRpb25zID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdwaXAtY2hlY2tsaXN0LXZpZXcnKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljICRvbkNoYW5nZXMoY2hhbmdlczogQ2hlY2tsaXN0Vmlld0JpbmRpbmdzQ2hhbmdlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMudG9Cb29sZWFuKHRoaXMucGlwUmViaW5kKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VzLnBpcE9wdGlvbnMgJiYgY2hhbmdlcy5waXBPcHRpb25zLmN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHRoaXMucGlwT3B0aW9ucywgY2hhbmdlcy5waXBPcHRpb25zLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBpcE9wdGlvbnMgPSBjaGFuZ2VzLnBpcE9wdGlvbnMuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB0b0Jvb2xlYW4odmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gJzEnIHx8IHZhbHVlID09ICd0cnVlJztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkNoZWNrbGlzdENoYW5nZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBpcENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpcENoYW5nZWQodGhpcy5waXBPcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkNsaWNrKCRldmVudDogSlF1ZXJ5RXZlbnRPYmplY3QsIGl0ZW06IENoZWNrbGlzdEl0ZW0pOiB2b2lkIHsgXG4gICAgICAgICAgICBpZiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubmdEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5vbkNoZWNrbGlzdENoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgQ2hlY2tsaXN0VmlldzogbmcuSUNvbXBvbmVudE9wdGlvbnMgPSB7XG4gICAgICAgIGJpbmRpbmdzOiBDaGVja2xpc3RWaWV3QmluZGluZ3MsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY2hlY2tsaXN0X3ZpZXcvQ2hlY2tsaXN0Vmlldy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogQ2hlY2tsaXN0Vmlld0NvbnRyb2xsZXJcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcInBpcENoZWNrbGlzdFZpZXdcIiwgWydwaXBDb21wb3NpdGUuVGVtcGxhdGVzJ10pXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcENoZWNrbGlzdFZpZXcnLCBDaGVja2xpc3RWaWV3KTtcblxufVxuIiwiaW1wb3J0IHsgQ2hlY2tsaXN0RHJhZ2dFdmVudCB9IGZyb20gJy4uL2NoZWNrbGlzdF9lZGl0L0NoZWNrbGlzdEVkaXQnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRm9jdXNlZEV2ZW50IH0gZnJvbSAnLi4vdXRpbGl0aWVzL0NvbXBvc2l0ZUZvY3VzZWQnO1xuaW1wb3J0IHsgQ29udGVudEJsb2NrIH0gZnJvbSAnLi4vZGF0YSc7XG5cbmxldCBhc3luYyA9IHJlcXVpcmUoJ2FzeW5jJyk7XG5cbmV4cG9ydCBjb25zdCBDb21wb3NpdGVFbXB0eUV2ZW50OiBzdHJpbmcgPSAncGlwQ29tcG9zaXRlTm90RW1wdHknO1xuZXhwb3J0IGNvbnN0IENvbXBvc2l0ZUFkZEl0ZW1FdmVudDogc3RyaW5nID0gJ3BpcEFkZENvbnRlbnQnO1xuZXhwb3J0IGNvbnN0IENvbXBvc2l0ZU5vdEVtcHR5RXZlbnQ6IHN0cmluZyA9ICdwaXBDb21wb3NpdGVOb3RFbXB0eSc7XG5cbmV4cG9ydCBjbGFzcyBDb21wb3NpdGVBZGRJdGVtIHtcbiAgICBwdWJsaWMgaWQ6IG51bWJlcjtcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xufVxuXG5cbmNvbnN0IENvbmZpZ1RyYW5zbGF0aW9ucyA9IChwaXBUcmFuc2xhdGU6IHBpcC5zZXJ2aWNlcy5JVHJhbnNsYXRlU2VydmljZSkgPT4ge1xuICAgIGlmIChwaXBUcmFuc2xhdGUpIHtcbiAgICAgICAgKHBpcFRyYW5zbGF0ZSkuc2V0VHJhbnNsYXRpb25zKCdlbicsIHtcbiAgICAgICAgICAgICdDT01QT1NJVEVfVElUTEUnOiAnV2hhdFxcJ3Mgb24geW91ciBtaW5kPycsXG4gICAgICAgICAgICAnQ09NUE9TSVRFX1BMQUNFSE9MREVSJzogJ1R5cGUgdGV4dCAuLi4nLFxuICAgICAgICAgICAgJ0NPTVBPU0lURV9TVEFSVF9USU1FJzogJ1N0YXJ0IHRpbWUnLFxuICAgICAgICAgICAgJ0NPTVBPU0lURV9FTkRfVElNRSc6ICdFbmQgdGltZSdcbiAgICAgICAgfSk7XG4gICAgICAgIChwaXBUcmFuc2xhdGUpLnNldFRyYW5zbGF0aW9ucygncnUnLCB7XG4gICAgICAgICAgICAnQ09NUE9TSVRFX1RJVExFJzogJ9Cn0YLQviDRgyDQstCw0YEg0L3QsCDRg9C80LU/JyxcbiAgICAgICAgICAgICdDT01QT1NJVEVfUExBQ0VIT0xERVInOiAn0JLQstC10LTQuNGC0LUg0YLQtdC60YHRgiAuLi4nLFxuICAgICAgICAgICAgJ0NPTVBPU0lURV9TVEFSVF9USU1FJzogJ9CS0YDQtdC80Y8g0L3QsNGH0LDQu9CwJyxcbiAgICAgICAgICAgICdDT01QT1NJVEVfRU5EX1RJTUUnOiAn0JLRgNC10LzRjyDQvtC60L7QvdGH0LDQvdC40Y8nXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvc2l0ZUNvbnRyb2wge1xuICAgIHNhdmU6IChzdWNjZXNzQ2FsbGJhY2s/OiAoZGF0YTogQ29tcG9zaXRlQ29udGVudFtdKSA9PiB2b2lkLCBlcnJvckNhbGxiYWNrPzogKGVycm9yOiBhbnkpID0+IHZvaWQpID0+IHZvaWQ7XG4gICAgYWJvcnQ6ICgpID0+IHZvaWQ7XG4gICAgZXJyb3I/OiBhbnk7XG59XG5cbmNsYXNzIFNlbmRlckV2ZW50IHtcbiAgICBldmVudDogQ29tcG9zaXRlQ29udHJvbDtcbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvc2l0ZUNvbnRlbnQgZXh0ZW5kcyBDb250ZW50QmxvY2sge1xuICAgIHB1YmxpYyBlbXB0eT86IGJvb2xlYW47XG4gICAgcHVibGljIGRvY3VtZW50cz86IHBpcC5kb2N1bWVudHMuRG9jdW1lbnRMaXN0RWRpdENvbnRyb2w7XG4gICAgcHVibGljIHBpY3R1cmVzPzogcGlwLnBpY3R1cmVzLlBpY3R1cmVMaXN0RWRpdENvbnRyb2w7XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wb3NpdGVCbG9ja1R5cGVzIHtcbiAgICBzdGF0aWMgVGV4dDogc3RyaW5nID0gJ3RleHQnO1xuICAgIHN0YXRpYyBQaWN0dXJlczogc3RyaW5nID0gJ3BpY3R1cmVzJztcbiAgICBzdGF0aWMgQ2hlY2tsaXN0OiBzdHJpbmcgPSAnY2hlY2tsaXN0JztcbiAgICBzdGF0aWMgRG9jdW1lbnRzOiBzdHJpbmcgPSAnZG9jdW1lbnRzJztcbiAgICBzdGF0aWMgTG9jYXRpb246IHN0cmluZyA9ICdsb2NhdGlvbic7XG4gICAgc3RhdGljIFRpbWU6IHN0cmluZyA9ICd0aW1lJztcbiAgICBzdGF0aWMgU2Vjb25kYXJ5QmxvY2sgPSBbJ2NoZWNrbGlzdCcsICdkb2N1bWVudHMnLCAnbG9jYXRpb24nLCAndGltZSddXG4gICAgc3RhdGljIFByaW1hcnlCbG9jayA9IFsndGV4dCcsICdwaWN0dXJlcyddXG4gICAgc3RhdGljIEFsbCA9IFsndGV4dCcsICdwaWN0dXJlcycsICdjaGVja2xpc3QnLCAnZG9jdW1lbnRzJywgJ2xvY2F0aW9uJywgJ3RpbWUnXVxufVxuXG57XG5cbiAgICBjbGFzcyBDb21wb3NpdGVTZWxlY3RlZCB7XG4gICAgICAgIHB1YmxpYyBpbmRleDogbnVtYmVyID0gMDtcbiAgICAgICAgcHVibGljIGRyYWc6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgICBwdWJsaWMgZHJhZ0lkOiBudW1iZXIgPSAwO1xuICAgICAgICBwdWJsaWMgaWQ6IG51bWJlcjtcbiAgICAgICAgcHVibGljIGlzQ2hhbmdlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBwdWJsaWMgZXZlbnQ/OiBzdHJpbmc7XG4gICAgfVxuXG4gICAgaW50ZXJmYWNlIElDb21wb3NpdGVFZGl0QmluZGluZ3Mge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBhbnk7XG5cbiAgICAgICAgbmdEaXNhYmxlZDogYW55O1xuICAgICAgICBwaXBDaGFuZ2VkOiBhbnk7XG4gICAgICAgIHBpcENvbnRlbnRzOiBhbnk7XG4gICAgICAgIHBpcENyZWF0ZWQ6IGFueTtcbiAgICAgICAgY29tcG9zaXRlSWQ6IGFueTtcbiAgICAgICAgcGlwQ29tcG9zaXRlUGxhY2Vob2xkZXI6IGFueTtcbiAgICAgICAgcGlwU2Nyb2xsQ29udGFpbmVyOiBhbnk7XG4gICAgICAgIGFkZGVkQ29udGVudDogYW55O1xuICAgICAgICBwaXBSZWJpbmQ6IGFueTtcbiAgICB9XG5cbiAgICBjb25zdCBDb21wb3NpdGVFZGl0QmluZGluZ3M6IElDb21wb3NpdGVFZGl0QmluZGluZ3MgPSB7XG4gICAgICAgIG5nRGlzYWJsZWQ6ICc8PycsXG4gICAgICAgIHBpcENoYW5nZWQ6ICc9PycsXG4gICAgICAgIHBpcENyZWF0ZWQ6ICcmPycsXG4gICAgICAgIHBpcENvbnRlbnRzOiAnPT8nLFxuICAgICAgICBjb21wb3NpdGVJZDogJzw/cGlwQ29tcG9zaXRlSWQnLFxuICAgICAgICBwaXBDb21wb3NpdGVQbGFjZWhvbGRlcjogJzw/JyxcbiAgICAgICAgcGlwU2Nyb2xsQ29udGFpbmVyOiAnPD8nLFxuICAgICAgICBhZGRlZENvbnRlbnQ6ICc8P3BpcEFkZGVkQ29udGVudCcsXG4gICAgICAgIHBpcFJlYmluZDogJzw/J1xuICAgIH1cblxuICAgIGNsYXNzIENvbXBvc2l0ZUVkaXRCaW5kaW5nc0NoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJQ29tcG9zaXRlRWRpdEJpbmRpbmdzIHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogbmcuSUNoYW5nZXNPYmplY3Q8YW55PjtcblxuICAgICAgICBuZ0Rpc2FibGVkOiBuZy5JQ2hhbmdlc09iamVjdDxib29sZWFuPjtcbiAgICAgICAgcGlwQ2hhbmdlZDogbmcuSUNoYW5nZXNPYmplY3Q8KCkgPT4gbmcuSVByb21pc2U8dm9pZD4+O1xuICAgICAgICBwaXBDcmVhdGVkOiBuZy5JQ2hhbmdlc09iamVjdDwoZXZlbnQ6IFNlbmRlckV2ZW50KSA9PiBuZy5JUHJvbWlzZTx2b2lkPj47XG4gICAgICAgIHBpcENvbnRlbnRzOiBuZy5JQ2hhbmdlc09iamVjdDxDb21wb3NpdGVDb250ZW50W10+O1xuICAgICAgICBjb21wb3NpdGVJZDogbmcuSUNoYW5nZXNPYmplY3Q8bnVtYmVyPjtcbiAgICAgICAgcGlwQ29tcG9zaXRlUGxhY2Vob2xkZXI6IG5nLklDaGFuZ2VzT2JqZWN0PHN0cmluZz47XG4gICAgICAgIHBpcFNjcm9sbENvbnRhaW5lcjogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nPjtcbiAgICAgICAgYWRkZWRDb250ZW50OiBuZy5JQ2hhbmdlc09iamVjdDxib29sZWFuPjtcbiAgICAgICAgcGlwUmViaW5kOiBuZy5JQ2hhbmdlc09iamVjdDxib29sZWFuPjtcbiAgICB9XG5cbiAgICBjbGFzcyBDb21wb3NpdGVFZGl0Q29udHJvbGxlciBpbXBsZW1lbnRzIElDb21wb3NpdGVFZGl0QmluZGluZ3Mge1xuICAgICAgICBwcml2YXRlIGRlZmF1bHRQbGFjZWhvbGRlcjogc3RyaW5nID0gJ0NPTVBPU0lURV9QTEFDRUhPTERFUic7XG4gICAgICAgIHByaXZhdGUgQ09OVEVOVF9UWVBFUzogc3RyaW5nW10gPSBDb21wb3NpdGVCbG9ja1R5cGVzLkFsbDtcbiAgICAgICAgcHJpdmF0ZSBjbGVhbnVwQ29tcG9zaXRlRXZlbnQ6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBjbGVhbnVwQ29tcG9zaXRlRm9jdXNlZEV2ZW50OiBhbnk7XG4gICAgICAgIHByaXZhdGUgY2xlYW51cENoZWNrbGlzdERyYWdnRXZlbnQ6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBfZGVib3VuY2VDaGFuZ2U6IGFueTtcblxuICAgICAgICBwdWJsaWMgbmdEaXNhYmxlZDogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIHBpcENoYW5nZWQ6IEZ1bmN0aW9uO1xuICAgICAgICBwdWJsaWMgcGlwQ3JlYXRlZDogKGV2ZW50OiBTZW5kZXJFdmVudCkgPT4gdm9pZDtcbiAgICAgICAgcHVibGljIHBpcENvbnRlbnRzOiBDb21wb3NpdGVDb250ZW50W107XG4gICAgICAgIHB1YmxpYyBjb21wb3NpdGVJZDogbnVtYmVyO1xuICAgICAgICBwdWJsaWMgcGlwQ29tcG9zaXRlUGxhY2Vob2xkZXI6IHN0cmluZztcbiAgICAgICAgcHVibGljIHBpcFNjcm9sbENvbnRhaW5lcjogc3RyaW5nO1xuICAgICAgICBwdWJsaWMgYWRkZWRDb250ZW50OiBzdHJpbmc7XG4gICAgICAgIHB1YmxpYyBwaXBSZWJpbmQ6IGJvb2xlYW47XG5cbiAgICAgICAgcHVibGljIGNvbXBvc2l0ZUNvbnRlbnQ6IENvbXBvc2l0ZUNvbnRlbnRbXTtcbiAgICAgICAgcHVibGljIHNlbGVjdGVkOiBDb21wb3NpdGVTZWxlY3RlZDtcbiAgICAgICAgcHVibGljIGlzRmlyc3Q6IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBjb21wb3NpdGVQbGFjZWhvbGRlcjogc3RyaW5nO1xuXG4gICAgICAgIHB1YmxpYyBjb250cm9sOiBDb21wb3NpdGVDb250cm9sO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgcHJpdmF0ZSAkcSxcbiAgICAgICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgICAgIHByaXZhdGUgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJGRvY3VtZW50LFxuICAgICAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgcGlwVHJhbnNsYXRlOiBwaXAuc2VydmljZXMuSVRyYW5zbGF0ZVNlcnZpY2VcblxuICAgICAgICApIHtcbiAgICAgICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZCA9IG5ldyBDb21wb3NpdGVTZWxlY3RlZCgpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pZCA9IHRoaXMubm93KCk7XG5cbiAgICAgICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdwaXAtY29tcG9zaXRlLWVkaXQnKTtcblxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUxpc3QodGhpcy5waXBDb250ZW50cyk7XG4gICAgICAgICAgICB0aGlzLnNldFBsYWNlaG9sZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgc2F2ZTogKHN1Y2Nlc3NDYWxsYmFjaz86IChkYXRhOiBDb21wb3NpdGVDb250ZW50W10pID0+IHZvaWQsIGVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVDb250ZW50KHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhYm9ydDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0Q29udGVudCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmV4ZWN1dGVDYWxsYmFjaygpO1xuXG4gICAgICAgICAgICB0aGlzLmNsZWFudXBDb21wb3NpdGVFdmVudCA9IHRoaXMuJHJvb3RTY29wZS4kb24oQ29tcG9zaXRlQWRkSXRlbUV2ZW50LFxuICAgICAgICAgICAgICAgIChldmVudDogbmcuSUFuZ3VsYXJFdmVudCwgYXJnczogQ29tcG9zaXRlQWRkSXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21wb3NpdGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MuaWQgJiYgYXJncy5pZCA9PSB0aGlzLmNvbXBvc2l0ZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRJdGVtKGFyZ3MudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEl0ZW0oYXJncy50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmNsZWFudXBDaGVja2xpc3REcmFnZ0V2ZW50ID0gdGhpcy4kcm9vdFNjb3BlLiRvbihDaGVja2xpc3REcmFnZ0V2ZW50LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kcmFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuZHJhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuY2xlYW51cENvbXBvc2l0ZUZvY3VzZWRFdmVudCA9IHRoaXMuJHJvb3RTY29wZS4kb24oQ29tcG9zaXRlRm9jdXNlZEV2ZW50LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNGaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0RWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnI2NvbXBvc2l0ZS1pdGVtLXRleHQtJyArIHRoaXMuc2VsZWN0ZWQuaWQgKyAnLTAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RWxlbWVudCAmJiAhbmV4dEVsZW1lbnQuaXMoJzpmb2N1cycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9kZWJvdW5jZUNoYW5nZSA9IF8uZGVib3VuY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wb3NpdGVDaGFuZ2UoKTtcbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGFib3J0Q29udGVudCgpOiB2b2lkIHtcbiAgICAgICAgICAgIF8uZWFjaCh0aGlzLmNvbXBvc2l0ZUNvbnRlbnQsIChpdGVtOiBDb21wb3NpdGVDb250ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ucGljdHVyZXMgJiYgaXRlbS5waWN0dXJlcy5hYm9ydCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnBpY3R1cmVzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmRvY3VtZW50cyAmJiBpdGVtLmRvY3VtZW50cy5hYm9ydCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmRvY3VtZW50cy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRQaWNJZHNBcnJheShkYXRhOiBwaXAucGljdHVyZXMuQXR0YWNobWVudFtdKTogc3RyaW5nW10ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgICAgXy5lYWNoKGRhdGEsIChpdGVtOiBwaXAucGljdHVyZXMuQXR0YWNobWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzYXZlQ29udGVudChzdWNjZXNzQ2FsbGJhY2s/OiAoZGF0YTogQ29tcG9zaXRlQ29udGVudFtdKSA9PiB2b2lkLCBlcnJvckNhbGxiYWNrPzogKGVycm9yOiBhbnkpID0+IHZvaWQsIGFib3J0Rmlyc3RFcnJvcj86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCBjb250ZW50OiBDb21wb3NpdGVDb250ZW50W107XG4gICAgICAgICAgICBjb250ZW50ID0gXy5jbG9uZURlZXAodGhpcy5jb21wb3NpdGVDb250ZW50KTtcbiAgICAgICAgICAgIGxldCBzYXZlRmlyc3RFcnJvcjogYW55ID0gbnVsbDtcblxuICAgICAgICAgICAgYXN5bmMuZWFjaE9mKHRoaXMuY29tcG9zaXRlQ29udGVudCxcbiAgICAgICAgICAgICAgICAoaXRlbSwgaW5kZXgsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnBpY3R1cmVzICYmIGl0ZW0ucGljdHVyZXMuc2F2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5waWN0dXJlcy5zYXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkYXRhOiBwaXAucGljdHVyZXMuQXR0YWNobWVudFtdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpdGVtLnBpY0lkcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5waWNfaWRzID0gdGhpcy5nZXRQaWNJZHNBcnJheShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaXJzdEVycm9yID0gc2F2ZUZpcnN0RXJyb3IgPyBzYXZlRmlyc3RFcnJvciA6IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJvcnRGaXJzdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmRvY3VtZW50cyAmJiBpdGVtLmRvY3VtZW50cy5zYXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmRvY3VtZW50cy5zYXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkYXRhOiBwaXAuZG9jdW1lbnRzLkF0dGFjaG1lbnRbXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmRvY3MgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVycm9yOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpcnN0RXJyb3IgPSBzYXZlRmlyc3RFcnJvciA/IHNhdmVGaXJzdEVycm9yIDogZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYm9ydEZpcnN0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKGVycm9yLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIHx8IHNhdmVGaXJzdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWJvcnRGaXJzdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydENvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvc2l0ZUNvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIGVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBvc2l0ZUNoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDYWxsYmFjaykgc3VjY2Vzc0NhbGxiYWNrKHRoaXMucGlwQ29udGVudHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgJG9uRGVzdHJveSgpIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5jbGVhbnVwQ29tcG9zaXRlRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwQ29tcG9zaXRlRXZlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5jbGVhbnVwQ2hlY2tsaXN0RHJhZ2dFdmVudCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBDaGVja2xpc3REcmFnZ0V2ZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMuY2xlYW51cENvbXBvc2l0ZUZvY3VzZWRFdmVudCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBDb21wb3NpdGVGb2N1c2VkRXZlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyAkb25DaGFuZ2VzKGNoYW5nZXM6IENvbXBvc2l0ZUVkaXRCaW5kaW5nc0NoYW5nZXMpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzLnBpcFJlYmluZCAmJiBjaGFuZ2VzLnBpcFJlYmluZC5jdXJyZW50VmFsdWUgIT09IGNoYW5nZXMucGlwUmViaW5kLnByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpcFJlYmluZCA9IGNoYW5nZXMucGlwUmViaW5kLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5waXBSZWJpbmQgJiYgY2hhbmdlcy5waXBDb250ZW50cyAmJiBfLmlzQXJyYXkoY2hhbmdlcy5waXBDb250ZW50cy5jdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZC5pc0NoYW5nZWQgfHwgKHRoaXMucGlwQ29udGVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHRoaXMucGlwQ29udGVudHMubGVuZ3RoICE9IHRoaXMuY29tcG9zaXRlQ29udGVudC5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlTGlzdCh0aGlzLnBpcENvbnRlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2VzLm5nRGlzYWJsZWQgJiYgY2hhbmdlcy5uZ0Rpc2FibGVkLmN1cnJlbnRWYWx1ZSAhPT0gY2hhbmdlcy5uZ0Rpc2FibGVkLnByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5nRGlzYWJsZWQgPSBjaGFuZ2VzLm5nRGlzYWJsZWQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhbmdlcy5waXBDb21wb3NpdGVQbGFjZWhvbGRlciAmJiBjaGFuZ2VzLnBpcENvbXBvc2l0ZVBsYWNlaG9sZGVyLmN1cnJlbnRWYWx1ZSAhPT0gY2hhbmdlcy5waXBDb21wb3NpdGVQbGFjZWhvbGRlci5wcmV2aW91c1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5waXBDb21wb3NpdGVQbGFjZWhvbGRlciA9IGNoYW5nZXMucGlwQ29tcG9zaXRlUGxhY2Vob2xkZXIuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UGxhY2Vob2xkZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZXhlY3V0ZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgLy8gRXhlY3V0ZSBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHRoaXMucGlwQ3JlYXRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGlwQ3JlYXRlZCh7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiB0aGlzLmNvbnRyb2xcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdG9Cb29sZWFuKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gJzEnIHx8IHZhbHVlID09ICd0cnVlJztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZ2V0RW1wdHlJdGVtKCk6IENvbXBvc2l0ZUNvbnRlbnQge1xuICAgICAgICAgICAgbGV0IGVtcHR5SXRlbTogQ29tcG9zaXRlQ29udGVudCA9IHtcbiAgICAgICAgICAgICAgICBlbXB0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5nZXRJZCgpLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnJywgZG9jczogW10sIHBpY19pZHM6IFtdLCBsb2NfcG9zOiBudWxsLCBsb2NfbmFtZTogJycsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IG51bGwsIGVuZDogbnVsbCwgY2hlY2tsaXN0OiBbXVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZW1wdHlJdGVtO1xuICAgICAgICB9XG5cblxuICAgICAgICBwcml2YXRlIHNldFBsYWNlaG9sZGVyKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy5jb21wb3NpdGVQbGFjZWhvbGRlciA9XG4gICAgICAgICAgICAgICAgKHRoaXMucGlwQ29tcG9zaXRlUGxhY2Vob2xkZXIgPT09IHVuZGVmaW5lZCB8fCB0aGlzLnBpcENvbXBvc2l0ZVBsYWNlaG9sZGVyID09PSBudWxsKSA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGlwVHJhbnNsYXRlLnRyYW5zbGF0ZSh0aGlzLmRlZmF1bHRQbGFjZWhvbGRlcikgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpcFRyYW5zbGF0ZS50cmFuc2xhdGUodGhpcy5waXBDb21wb3NpdGVQbGFjZWhvbGRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGFkZEl0ZW0oY29udGVudFR5cGU6IHN0cmluZywgdmFsdWU/OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChfLmluZGV4T2YodGhpcy5DT05URU5UX1RZUEVTLCBjb250ZW50VHlwZSkgPCAwKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIG5ldyBpdGVtXG4gICAgICAgICAgICB2YXIgbmV3SXRlbTogQ29tcG9zaXRlQ29udGVudCA9IHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5nZXRJZCgpLFxuICAgICAgICAgICAgICAgIHR5cGU6IGNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgICAgIHRleHQ6IGNvbnRlbnRUeXBlID09ICd0ZXh0JyA/IHZhbHVlIDogJycsXG4gICAgICAgICAgICAgICAgZG9jczogY29udGVudFR5cGUgPT0gJ2RvY3VtZW50cycgJiYgdmFsdWUgPyB2YWx1ZSA6IFtdLFxuICAgICAgICAgICAgICAgIHBpY19pZHM6IGNvbnRlbnRUeXBlID09ICdwaWN0dXJlcycgJiYgdmFsdWUgPyB2YWx1ZSA6IFtdLFxuICAgICAgICAgICAgICAgIGxvY19wb3M6IGNvbnRlbnRUeXBlID09ICdsb2NhdGlvbicgJiYgdmFsdWUgPyB2YWx1ZS5sb2NfcG9zIDogbnVsbCxcbiAgICAgICAgICAgICAgICBsb2NfbmFtZTogY29udGVudFR5cGUgPT0gJ2xvY2F0aW9uJyAmJiB2YWx1ZSA/IHZhbHVlLmxvY19uYW1lIDogJycsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IGNvbnRlbnRUeXBlID09ICd0aW1lJyAmJiB2YWx1ZSA/IHZhbHVlLnN0YXJ0IDogbnVsbCxcbiAgICAgICAgICAgICAgICBlbmQ6IGNvbnRlbnRUeXBlID09ICd0aW1lJyAmJiB2YWx1ZSA/IHZhbHVlLmVuZCA6IG51bGwsXG4gICAgICAgICAgICAgICAgY2hlY2tsaXN0OiBjb250ZW50VHlwZSA9PSAnY2hlY2tsaXN0JyAmJiB2YWx1ZSA/IHZhbHVlIDogW11cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBjdXJyZW50IGluZGV4XG4gICAgICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IF8uZmluZEluZGV4KHRoaXMuY29tcG9zaXRlQ29udGVudCwgeyBpZDogdGhpcy5zZWxlY3RlZC5pbmRleCB9KTtcbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gMCA6IGluZGV4O1xuXG4gICAgICAgICAgICAvLyBpbnNlcnQgbmV3IGVsZW1lbnQgYW5kIHNlbGVjdCBpdFxuICAgICAgICAgICAgaWYgKHRoaXMuY29tcG9zaXRlQ29udGVudC5sZW5ndGggPT0gMSAmJiB0aGlzLmNvbXBvc2l0ZUNvbnRlbnRbMF0uZW1wdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvc2l0ZUNvbnRlbnRbMF0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvc2l0ZUNvbnRlbnQuc3BsaWNlKGluZGV4ICsgMSwgMCwgbmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5zZXJ0IG5ldyBlbGVtZW50IGFuZCBzZWxlY3QgaXRcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggPSBuZXdJdGVtLmlkO1xuICAgICAgICAgICAgdGhpcy5vblNlbGVjdCgpO1xuXG4gICAgICAgICAgICAvLyBmb2N1cyB0byBuZXcgZWxlbWVudFxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLnNjcm9sbFRvKHRoaXMucGlwU2Nyb2xsQ29udGFpbmVyLCAnI2NvbXBvc2l0ZS1pdGVtLScgKyB0aGlzLnNlbGVjdGVkLmlkICsgJy0nICsgaW5kZXgpLCAxMDAwKTtcblxuICAgICAgICAgICAgLy8gc2V0IHRvb2xiYXJcbiAgICAgICAgICAgIHRoaXMuaXNGaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRUb29sYmFyKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWJvdW5jZUNoYW5nZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRJZCgpOiBudW1iZXIge1xuICAgICAgICAgICAgbGV0IGlkOiBudW1iZXIgPSAtMTtcbiAgICAgICAgICAgIF8uZWFjaCh0aGlzLmNvbXBvc2l0ZUNvbnRlbnQsIChpdGVtOiBDb21wb3NpdGVDb250ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlkIDwgaXRlbS5pZCkgaWQgPSBpdGVtLmlkO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBpZCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHNjcm9sbFRvKHBhcmVudEVsZW1lbnQ6IGFueSwgY2hpbGRFbGVtZW50OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICghcGFyZW50RWxlbWVudCB8fCAhY2hpbGRFbGVtZW50KSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoISQoY2hpbGRFbGVtZW50KS5wb3NpdGlvbigpKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICAgICAgbGV0IG1vZERpZmY6IG51bWJlciA9IE1hdGguYWJzKCQocGFyZW50RWxlbWVudCkuc2Nyb2xsVG9wKCkgLSAkKGNoaWxkRWxlbWVudCkucG9zaXRpb24oKS50b3ApO1xuICAgICAgICAgICAgICAgIGlmIChtb2REaWZmIDwgMjApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsVG86IG51bWJlciA9ICQocGFyZW50RWxlbWVudCkuc2Nyb2xsVG9wKCkgKyAoJChjaGlsZEVsZW1lbnQpLnBvc2l0aW9uKCkudG9wIC0gMjApO1xuICAgICAgICAgICAgICAgICQocGFyZW50RWxlbWVudCkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG8gKyAncHgnXG4gICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGdldFBpY0lkcyhpZHM6IHN0cmluZ1tdKTogcGlwLnBpY3R1cmVzLkF0dGFjaG1lbnRbXSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBwaXAucGljdHVyZXMuQXR0YWNobWVudFtdID0gW107XG5cbiAgICAgICAgICAgIF8uZWFjaChpZHMsIChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW06IHBpcC5waWN0dXJlcy5BdHRhY2htZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGdlbmVyYXRlTGlzdChjb250ZW50OiBDb21wb3NpdGVDb250ZW50W10pOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICghY29udGVudCB8fCBjb250ZW50Lmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyTGlzdCgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvc2l0ZUNvbnRlbnQgPSBbXTtcbiAgICAgICAgICAgICAgICBfLmVhY2goY29udGVudCwgKGl0ZW06IENvbXBvc2l0ZUNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5pZCA9IHRoaXMuZ2V0SWQoKTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5waWNJZHMgPSBpdGVtLnBpY19pZHMgPyB0aGlzLmdldFBpY0lkcyhpdGVtLnBpY19pZHMpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb3NpdGVDb250ZW50LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2V0VG9vbGJhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzZXRUb29sYmFyKCk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tcG9zaXRlQ29udGVudC5sZW5ndGggPiAyKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuJGVtaXQoQ29tcG9zaXRlTm90RW1wdHlFdmVudCwgIXRoaXMuaXNGaXJzdCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGNsZWFyTGlzdCgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9zaXRlQ29udGVudCA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXBvc2l0ZUNvbnRlbnQucHVzaCh0aGlzLmdldEVtcHR5SXRlbSgpKTtcbiAgICAgICAgICAgIHRoaXMuaXNGaXJzdCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG5vdygpOiBudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuICtuZXcgRGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ29udGVudHMoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmlzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBpcENvbnRlbnRzID0gdGhpcy5jb21wb3NpdGVDb250ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRQYXJlbnRJbmRleChlbDogYW55KTogbnVtYmVyIHtcbiAgICAgICAgICAgIGlmIChlbC5sZW5ndGggPCAxKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGxldCBlbFBhcmVudCA9IGVsLnBhcmVudCgpO1xuICAgICAgICAgICAgaWYgKGVsUGFyZW50WzBdICYmIGVsUGFyZW50WzBdLmlkICYmIGVsUGFyZW50WzBdLmlkLmluZGV4T2YoJ2NvbXBvc2l0ZS1pdGVtLScgKyB0aGlzLnNlbGVjdGVkLmlkKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0cnMgPSBlbFBhcmVudFswXS5pZC5zcGxpdCgnLScpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudEluZGV4OiBudW1iZXIgPSBwYXJzZUludChzdHJzW3N0cnMubGVuZ3RoIC0gMV0sIDEwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50SW5kZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFBhcmVudEluZGV4KGVsUGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0gcHVibGljXG5cbiAgICAgICAgcHVibGljIGlzQWN0aXZlQ2hlY2tsaXN0KG9iajogQ29tcG9zaXRlQ29udGVudCk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgLy8gcmV0dXJuIG9iai5pZCA9PSB0aGlzLnNlbGVjdGVkLmluZGV4O1xuICAgICAgICAgICAgcmV0dXJuIG9iai5pZCA9PSB0aGlzLnNlbGVjdGVkLmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uS2V5VXAoJGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoJGV2ZW50LmtleUNvZGUgPT0gOSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm9jdXNlZEVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQodGhpcy4kZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRJbmRleDogbnVtYmVyID0gdGhpcy5nZXRQYXJlbnRJbmRleChmb2N1c2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRJbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gPz8/IGluZGV4ID0gaWRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pbmRleCA9IHRoaXMuY29tcG9zaXRlQ29udGVudFtwYXJlbnRJbmRleF0uaWQ7XG4gICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uS2V5RG93bigkZXZlbnQ6IEtleWJvYXJkRXZlbnQsIGluZGV4OiBudW1iZXIsIGl0ZW06IENvbXBvc2l0ZUNvbnRlbnQpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5nRGlzYWJsZWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICAvLyBkZWxldGUgaXRlbVxuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uZW1wdHkgJiYgJGV2ZW50LmtleUNvZGUgPT0gNDYgJiYgISRldmVudC5jdHJsS2V5ICYmICRldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGlmICgkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRlbGV0ZUl0ZW0oaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkNvbXBvc2l0ZUNoYW5nZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGVudHMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBpcENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpcENoYW5nZWQodGhpcy5waXBDb250ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25EZWxldGVJdGVtKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDAgfHwgdGhpcy5jb21wb3NpdGVDb250ZW50Lmxlbmd0aCA9PSAwKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIGRlbGV0ZSBsYXN0IGVsZW1lbnQgaW4gY29tcG9zaXRlXG4gICAgICAgICAgICBpZiAodGhpcy5jb21wb3NpdGVDb250ZW50Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb3NpdGVDb250ZW50WzBdID0gdGhpcy5nZXRFbXB0eUl0ZW0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gdGhpcy5jb21wb3NpdGVDb250ZW50WzBdLmlkO1xuICAgICAgICAgICAgICAgIHRoaXMub25TZWxlY3QoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRvb2xiYXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLmNvbXBvc2l0ZUNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaXRlQ29udGVudC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gdGhpcy5jb21wb3NpdGVDb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gdGhpcy5jb21wb3NpdGVDb250ZW50W3RoaXMuY29tcG9zaXRlQ29udGVudC5sZW5ndGggLSAxXS5pZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gdGhpcy5jb21wb3NpdGVDb250ZW50W2luZGV4XS5pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5vblNlbGVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldFRvb2xiYXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYm91bmNlQ2hhbmdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25Db250ZW50Q2hhbmdlKG9iajogYW55KTogdm9pZCB7IC8vQ29tcG9zaXRlQ29udGVudFxuICAgICAgICAgICAgaWYgKG9iaiAmJiBvYmouZW1wdHkgJiYgb2JqLnRleHQpIHtcbiAgICAgICAgICAgICAgICBvYmouZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRvb2xiYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5uZ0Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVib3VuY2VDaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBpc1NlbGVjdGVkU2VjdGlvbihpbmRleDogbnVtYmVyLCBvYmo6IENvbXBvc2l0ZUNvbnRlbnQpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkLmluZGV4ID09IG9iai5pZCAmJiAhb2JqLmVtcHR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uRHJhZ2dFbmQoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmRyYWcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uU3RhcnQoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKGlkICYmIGlkICE9IHRoaXMuc2VsZWN0ZWQuZHJhZ0lkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kcmFnID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25TdG9wKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuZHJhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kcmFnSWQgPSAwO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkRvd25EcmFnZygkZXZlbnQ6IG5nLklBbmd1bGFyRXZlbnQsIG9iajogQ29tcG9zaXRlQ29udGVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubmdEaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kcmFnSWQgPSB0aGlzLnNlbGVjdGVkLmlkO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5kcmFnID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggPSBvYmouaWQ7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25DbGljaygkZXZlbnQ6IEpRdWVyeUV2ZW50T2JqZWN0LCBpbmRleDogbnVtYmVyLCBvYmo6IENvbXBvc2l0ZUNvbnRlbnQpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5nRGlzYWJsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuZXZlbnQgPSAnb25DbGljayc7XG4gICAgICAgICAgICBpZiAoJGV2ZW50ICYmICRldmVudC50YXJnZXQgJiYgJGV2ZW50LnRhcmdldC50YWdOYW1lICYmXG4gICAgICAgICAgICAgICAgKCRldmVudC50YXJnZXQudGFnTmFtZSA9PSAnSU5QVVQnIHx8ICRldmVudC50YXJnZXQudGFnTmFtZSA9PSAnVEVYVEFSRUEnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggPSBvYmouaWQ7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgodGhpcy5zZWxlY3RlZC5pbmRleCA9PSBvYmouaWQgJiYgb2JqLnR5cGUgPT0gJ2NoZWNrbGlzdCcgJiYgb2JqLmNoZWNrbGlzdC5sZW5ndGggPiAwKSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLnNlbGVjdGVkLmluZGV4ID09IG9iai5pZCAmJiBvYmoudHlwZSA9PSAnbG9jYXRpb24nKSkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pbmRleCA9IG9iai5pZDtcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkRyb3BDb21wbGV0ZShwbGFjZUluZGV4OiBudW1iZXIsIG9iajogQ29tcG9zaXRlQ29udGVudCwgZXZlbnQ6IEpRdWVyeUV2ZW50T2JqZWN0LCBjb21wb25lbnRJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50SWQgIT0gdGhpcy5zZWxlY3RlZC5pZCB8fCAhb2JqIHx8ICFvYmoudHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaXRlQ29udGVudCA9IF8uY2xvbmVEZWVwKHRoaXMucGlwQ29udGVudHMpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IHBsYWNlSW5kZXg7XG4gICAgICAgICAgICBsZXQgdG1wSW5kZXg6IG51bWJlciA9IF8uZmluZEluZGV4KHRoaXMuY29tcG9zaXRlQ29udGVudCwgeyBpZDogb2JqLmlkIH0pOyAvL3RoaXMuc2VsZWN0ZWQuaW5kZXh9KTtcbiAgICAgICAgICAgIGxldCBpOiBudW1iZXI7XG5cbiAgICAgICAgICAgIGlmICghKHRtcEluZGV4ID09IDAgJiYgcGxhY2VJbmRleCA9PSAxKSkge1xuICAgICAgICAgICAgICAgIGlmICh0bXBJbmRleCA+IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IHRoaXMuY29tcG9zaXRlQ29udGVudC5sZW5ndGggLSAxKSBpbmRleCA9IHRoaXMuY29tcG9zaXRlQ29udGVudC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIHVwXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0bXBJbmRleCAtIGluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaXRlQ29udGVudFt0bXBJbmRleCAtIGldID0gdGhpcy5jb21wb3NpdGVDb250ZW50W3RtcEluZGV4IC0gaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaXRlQ29udGVudFtpbmRleF0gPSBvYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0bXBJbmRleCA8IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4IC09IDE7XG4gICAgICAgICAgICAgICAgICAgIC8vbW92ZSBkb3duXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbmRleCAtIHRtcEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaXRlQ29udGVudFt0bXBJbmRleCArIGldID0gdGhpcy5jb21wb3NpdGVDb250ZW50W3RtcEluZGV4ICsgaSArIDFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaXRlQ29udGVudFtpbmRleF0gPSBvYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaW5kZXggPSB0aGlzLmNvbXBvc2l0ZUNvbnRlbnRbaW5kZXhdLmlkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0KCk7XG4gICAgICAgICAgICB0aGlzLl9kZWJvdW5jZUNoYW5nZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uU2VsZWN0KGluZGV4PzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoIWluZGV4KSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBfLmZpbmRJbmRleCh0aGlzLmNvbXBvc2l0ZUNvbnRlbnQsIHsgaWQ6IHRoaXMuc2VsZWN0ZWQuaW5kZXggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICBsZXQgaXRlbTogQ29tcG9zaXRlQ29udGVudCA9IHRoaXMuY29tcG9zaXRlQ29udGVudFtpbmRleF07XG4gICAgICAgICAgICBpZiAoXy5pc0VtcHR5KGl0ZW0pKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICBsZXQgbmV4dEVsZW1lbnQ7XG4gICAgICAgICAgICBzd2l0Y2ggKGl0ZW0udHlwZSkge1xuICAgICAgICAgICAgICAgIC8vY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIG5leHRFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCcjY29tcG9zaXRlLWl0ZW0tdGV4dC0nICsgdGhpcy5zZWxlY3RlZC5pZCArICctJyArIGluZGV4KTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIC8vdmFyIG5leHRFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCcjY29tcG9zaXRlLWl0ZW0tdGV4dC0nICsgdGhpcy5zZWxlY3RlZC5pZCArICctJyArIHRoaXMuc2VsZWN0ZWQuaW5kZXgpO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgaWYgKG5leHRFbGVtZW50ICYmICFuZXh0RWxlbWVudC5pcygnOmZvY3VzJykpIG5leHRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAvL3RoaXMuc2VsZWN0ZWQuc3RvcEtleSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICB9LCAgNTApO1xuICAgICAgICAgICAgICAgIC8vICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3BpY3R1cmVzJzpcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnI2NvbXBvc2l0ZS1pdGVtLScgKyB0aGlzLnNlbGVjdGVkLmlkICsgJy0nICsgaW5kZXggKyAnIGJ1dHRvbi5waXAtcGljdHVyZS11cGxvYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RWxlbWVudCAmJiAhbmV4dEVsZW1lbnQuaXMoJzpmb2N1cycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkb2N1bWVudHMnOlxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcjY29tcG9zaXRlLWl0ZW0tJyArIHRoaXMuc2VsZWN0ZWQuaWQgKyAnLScgKyBpbmRleCArICcgYnV0dG9uLnBpcC1kb2N1bWVudC11cGxvYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RWxlbWVudCAmJiAhbmV4dEVsZW1lbnQuaXMoJzpmb2N1cycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvL2Nhc2UgJ2NoZWNrbGlzdCc6XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIG5leHRFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICcjY29tcG9zaXRlLWl0ZW0tJyArIHRoaXMuc2VsZWN0ZWQuaWQgKyAnLScgKyBpbmRleCArICcgdGV4dGFyZWFbaWRePVxcJ2VtcHR5LWl0ZW0tXFwnJyk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBpZiAobmV4dEVsZW1lbnQgJiYgIW5leHRFbGVtZW50LmlzKCc6Zm9jdXMnKSkgbmV4dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIC8vdGhpcy5zZWxlY3RlZC5zdG9wS2V5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIH0sICA1MCk7XG4gICAgICAgICAgICAgICAgLy8gICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbG9jYXRpb24nOlxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcjY29tcG9zaXRlLWl0ZW0tJyArIHRoaXMuc2VsZWN0ZWQuaWQgKyAnLScgKyBpbmRleCArICcgLnBpcC1sb2NhdGlvbi1lbXB0eSAgYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEVsZW1lbnQgJiYgIW5leHRFbGVtZW50LmlzKCc6Zm9jdXMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGVsZW1lbnQgcmVzcG9uc2l2ZSB3aWR0aCB3aGVuIGVsZW1lbnQgcGxhY2VzXG4gICAgICAgIC8vcHVibGljIHNldFdpZHRoMTAwKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gICAgbGV0IGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJyNjb21wb3NpdGUtaXRlbS0nICsgdGhpcy5zZWxlY3RlZC5pZCArICctJyArIGluZGV4KTtcbiAgICAgICAgLy8gICAgZWxlbWVudC5jc3MoIFwid2lkdGhcIiwgJ25vbmUnKTtcbiAgICAgICAgLy8gICAgZWxlbWVudC5jc3MoIFwibWF4LXdpZHRoXCIsICdub25lJyk7XG4gICAgICAgIC8vfTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8vLyBzZXQgZHJhZ2dhYmxlIGVsZW1lbnQgd2lkdGggd2hlbiB5b3VyIGRyYWdnXG4gICAgICAgIC8vcHVibGljIHNldFdpZHRoKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gICAgaWYgKHRoaXMuc2VsZWN0ZWQuaXNXaWR0aCkgcmV0dXJuO1xuICAgICAgICAvLyAgICBsZXQgZWxlbWVudEV0YWxvbiA9IGFuZ3VsYXIuZWxlbWVudCgnI3BpcC1jb21wb3NpdGUtbGFzdC0nICsgKyB0aGlzLnNlbGVjdGVkLmlkKTtcbiAgICAgICAgLy8gICAgbGV0IHZhbHVlID0gZWxlbWVudEV0YWxvbi53aWR0aCgpO1xuICAgICAgICAvLyAgICBsZXQgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnI2NvbXBvc2l0ZS1pdGVtLScgKyB0aGlzLnNlbGVjdGVkLmlkICsgJy0nICsgaW5kZXgpO1xuICAgICAgICAvLyAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAvLyAgICAgICAgZWxlbWVudC5jc3MoXCJ3aWR0aFwiLCB2YWx1ZSArICdweCcpO1xuICAgICAgICAvLyAgICAgICAgZWxlbWVudC5jc3MoXCJtYXgtd2lkdGhcIiwgdmFsdWUgKyAncHgnKTtcbiAgICAgICAgLy8gICAgfVxuICAgICAgICAvL307XG5cbiAgICB9XG5cbiAgICBjb25zdCBDb21wb3NpdGVFZGl0OiBuZy5JQ29tcG9uZW50T3B0aW9ucyA9IHtcbiAgICAgICAgYmluZGluZ3M6IENvbXBvc2l0ZUVkaXRCaW5kaW5ncyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb3NpdGVfZWRpdC9Db21wb3NpdGVFZGl0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiBDb21wb3NpdGVFZGl0Q29udHJvbGxlclxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKFwicGlwQ29tcG9zaXRlRWRpdFwiLCBbJ3BpcERvY3VtZW50cycsICdwaXBMb2NhdGlvbnMnLCAncGlwUGljdHVyZXMnLCAncGlwRGF0ZXMnLCAncGlwQ29tcG9zaXRlLlRlbXBsYXRlcyddKVxuICAgICAgICAucnVuKENvbmZpZ1RyYW5zbGF0aW9ucylcbiAgICAgICAgLmNvbXBvbmVudCgncGlwQ29tcG9zaXRlRWRpdCcsIENvbXBvc2l0ZUVkaXQpO1xuXG59XG5cblxuIiwiaW1wb3J0IHsgQ29tcG9zaXRlQmxvY2tUeXBlcyB9IGZyb20gJy4uL2NvbXBvc2l0ZV9lZGl0L0NvbXBvc2l0ZUVkaXQnO1xuaW1wb3J0IHsgQ29udGVudEJsb2NrLCBDaGVja2xpc3RJdGVtIH0gZnJvbSAnLi4vZGF0YSc7XG57XG5cbiAgICBpbnRlcmZhY2UgSUNvbXBvc2l0ZVN1bW1hcnlCaW5kaW5ncyB7XG4gICAgICAgIFtrZXk6IHN0cmluZ106IGFueTtcblxuICAgICAgICBwaXBDb250ZW50czogYW55O1xuICAgICAgICBwaXBDaGVja2xpc3RTaXplOiBhbnk7XG4gICAgICAgIHBpcFRleHRTaXplOiBhbnk7XG4gICAgICAgIHBpcFByaW1hcnlCbG9ja0xpbWl0OiBhbnk7XG4gICAgICAgIHBpcFNlY29uZGFyeUJsb2NrTGltaXQ6IGFueTtcbiAgICAgICAgcGlwU2Vjb25kYXJ5QmxvY2tUeXBlczogYW55O1xuICAgICAgICBwaXBSZWJpbmQ6IGFueTtcbiAgICB9XG5cbiAgICBjb25zdCBDb21wb3NpdGVTdW1tYXJ5QmluZGluZ3M6IElDb21wb3NpdGVTdW1tYXJ5QmluZGluZ3MgPSB7XG5cbiAgICAgICAgcGlwQ29udGVudHM6ICc8PycsXG4gICAgICAgIHBpcENoZWNrbGlzdFNpemU6ICc8PycsXG4gICAgICAgIHBpcFRleHRTaXplOiAnPD8nLFxuICAgICAgICBwaXBQcmltYXJ5QmxvY2tMaW1pdDogJzw/JyxcbiAgICAgICAgcGlwU2Vjb25kYXJ5QmxvY2tMaW1pdDogJzw/JyxcbiAgICAgICAgcGlwU2Vjb25kYXJ5QmxvY2tUeXBlczogJzw/JyxcbiAgICAgICAgcGlwUmViaW5kOiAnPD8nXG4gICAgfVxuXG4gICAgY2xhc3MgQ29tcG9zaXRlU3VtbWFyeUJpbmRpbmdzQ2hhbmdlcyBpbXBsZW1lbnRzIG5nLklPbkNoYW5nZXNPYmplY3QsIElDb21wb3NpdGVTdW1tYXJ5QmluZGluZ3Mge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBuZy5JQ2hhbmdlc09iamVjdDxhbnk+O1xuXG4gICAgICAgIHBpcENvbnRlbnRzOiBuZy5JQ2hhbmdlc09iamVjdDxDb250ZW50QmxvY2tbXT47XG4gICAgICAgIHBpcENoZWNrbGlzdFNpemU6IG5nLklDaGFuZ2VzT2JqZWN0PG51bWJlcj47XG4gICAgICAgIHBpcFRleHRTaXplOiBuZy5JQ2hhbmdlc09iamVjdDxudW1iZXI+O1xuICAgICAgICBwaXBQcmltYXJ5QmxvY2tMaW1pdDogbmcuSUNoYW5nZXNPYmplY3Q8bnVtYmVyPjtcbiAgICAgICAgcGlwU2Vjb25kYXJ5QmxvY2tMaW1pdDogbmcuSUNoYW5nZXNPYmplY3Q8bnVtYmVyPjtcbiAgICAgICAgcGlwU2Vjb25kYXJ5QmxvY2tUeXBlczogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nW10+O1xuICAgICAgICBwaXBSZWJpbmQ6IG5nLklDaGFuZ2VzT2JqZWN0PGJvb2xlYW4+O1xuICAgIH1cblxuICAgIGNsYXNzIENvbXBvc2l0ZVN1bW1hcnlDb250cm9sbGVyIHtcbiAgICAgICAgcHVibGljIHBpcENvbnRlbnRzOiBDb250ZW50QmxvY2tbXTtcbiAgICAgICAgcHVibGljIHBpcENoZWNrbGlzdFNpemU6IG51bWJlcjtcbiAgICAgICAgcHVibGljIHBpcFRleHRTaXplOiBudW1iZXI7XG4gICAgICAgIHB1YmxpYyBwaXBQcmltYXJ5QmxvY2tMaW1pdDogbnVtYmVyO1xuICAgICAgICBwdWJsaWMgcGlwU2Vjb25kYXJ5QmxvY2tMaW1pdDogbnVtYmVyO1xuICAgICAgICBwdWJsaWMgcGlwU2Vjb25kYXJ5QmxvY2tUeXBlczogc3RyaW5nW107XG4gICAgICAgIHB1YmxpYyBwaXBSZWJpbmQ6IGJvb2xlYW47XG5cbiAgICAgICAgcHVibGljIGNvbXBvc2l0ZUNvbnRlbnQ6IENvbnRlbnRCbG9ja1tdO1xuXG4gICAgICAgIHB1YmxpYyBkaXNhYmxlQ29udHJvbDogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIHB1YmxpYyBkaXNhYmxlZENoZWNrbGlzdDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgY29uc3RydWN0b3IoXG4gICAgICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdwaXAtY29tcG9zaXRlLXN1bW1hcnknKTtcblxuICAgICAgICAgICAgdGhpcy5waXBDaGVja2xpc3RTaXplID0gdGhpcy5waXBDaGVja2xpc3RTaXplID8gdGhpcy5waXBDaGVja2xpc3RTaXplIDogMDtcbiAgICAgICAgICAgIHRoaXMucGlwVGV4dFNpemUgPSB0aGlzLnBpcFRleHRTaXplID8gdGhpcy5waXBUZXh0U2l6ZSA6IDA7XG4gICAgICAgICAgICB0aGlzLnBpcFByaW1hcnlCbG9ja0xpbWl0ID0gdGhpcy5waXBQcmltYXJ5QmxvY2tMaW1pdCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMucGlwUHJpbWFyeUJsb2NrTGltaXQgPT09IG51bGwgPyAtMSA6IHRoaXMucGlwUHJpbWFyeUJsb2NrTGltaXQ7XG4gICAgICAgICAgICB0aGlzLnBpcFNlY29uZGFyeUJsb2NrTGltaXQgPSB0aGlzLnBpcFNlY29uZGFyeUJsb2NrTGltaXQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLnBpcFNlY29uZGFyeUJsb2NrTGltaXQgPT09IG51bGwgPyAtMSA6IHRoaXMucGlwU2Vjb25kYXJ5QmxvY2tMaW1pdDtcbiAgICAgICAgICAgIHRoaXMucGlwU2Vjb25kYXJ5QmxvY2tUeXBlcyA9IHRoaXMucGlwU2Vjb25kYXJ5QmxvY2tUeXBlcyAmJiBfLmlzQXJyYXkodGhpcy5waXBTZWNvbmRhcnlCbG9ja1R5cGVzKSA/IHRoaXMucGlwU2Vjb25kYXJ5QmxvY2tUeXBlcyA6IENvbXBvc2l0ZUJsb2NrVHlwZXMuU2Vjb25kYXJ5QmxvY2s7XG5cbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVMaXN0KHRoaXMucGlwQ29udGVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljICRvbkNoYW5nZXMoY2hhbmdlczogQ29tcG9zaXRlU3VtbWFyeUJpbmRpbmdzQ2hhbmdlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMudG9Cb29sZWFuKHRoaXMucGlwUmViaW5kKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VzLnBpcENvbnRlbnRzICYmIGNoYW5nZXMucGlwQ29udGVudHMuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHModGhpcy5waXBDb250ZW50cywgY2hhbmdlcy5waXBDb250ZW50cy5jdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlTGlzdCh0aGlzLnBpcENvbnRlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZ2V0UGljSWRzKGlkczogc3RyaW5nW10pOiBwaXAucGljdHVyZXMuQXR0YWNobWVudFtdIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IHBpcC5waWN0dXJlcy5BdHRhY2htZW50W10gPSBbXTtcblxuICAgICAgICAgICAgXy5lYWNoKGlkcywgKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbTogcGlwLnBpY3R1cmVzLkF0dGFjaG1lbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdG9Cb29sZWFuKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09ICcxJyB8fCB2YWx1ZSA9PSAndHJ1ZSc7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIGxpbWl0IGNhY2tsaXN0IHBvc2l0aW9uXG4gICAgICAgIHB1YmxpYyBsaW1pdENoZWNrbGlzdChjb250ZW50OiBDb250ZW50QmxvY2tbXSwgdmFsOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICghdmFsKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgZWxsYXBzZWQ6IENoZWNrbGlzdEl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgdGV4dDogJy4uLicsXG4gICAgICAgICAgICAgICAgY2hlY2tlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfLmVhY2goY29udGVudCwgKGl0ZW06IENvbnRlbnRCbG9jaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0udHlwZSA9PSBDb21wb3NpdGVCbG9ja1R5cGVzLkNoZWNrbGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tsaXN0TGVuZ3RoOiBudW1iZXIgPSBpdGVtLmNoZWNrbGlzdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2hlY2tsaXN0ID0gXy50YWtlKGl0ZW0uY2hlY2tsaXN0LCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tsaXN0TGVuZ3RoID4gdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNoZWNrbGlzdC5wdXNoKGVsbGFwc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGNob29zZSBwcmltYXJ5IGJsb2NrcyAodGV4dCBhbmQgcGljdHVyZSlcbiAgICAgICAgcHVibGljIHNlbGVjdFN1bW1hcnkoY29udGVudDogQ29udGVudEJsb2NrW10pOiBDb250ZW50QmxvY2tbXSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBDb250ZW50QmxvY2tbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IGk6IG51bWJlcjtcblxuICAgICAgICAgICAgXy5lYWNoKGNvbnRlbnQsIChpdGVtOiBDb250ZW50QmxvY2spID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5waXBQcmltYXJ5QmxvY2tMaW1pdCA+PSAwICYmIGkgPj0gdGhpcy5waXBQcmltYXJ5QmxvY2tMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL2lmIChpdGVtLnR5cGUgPT0gJ3RleHQnIHx8IGl0ZW0udHlwZSA9PSAncGljdHVyZXMnICkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpcFNlY29uZGFyeUJsb2NrVHlwZXMuaW5kZXhPZihpdGVtLnR5cGUpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g0L7RgtCx0LjRgNCw0LXQvCDQvtGB0YLQsNC70YzQvdGL0LUg0LHQu9C+0LrQuCDQtdGB0LvQuCDQvtC90Lgg0LXRgdGC0YxcbiAgICAgICAgcHVibGljIHNlbGVjdFN1bW1hcnlTZWNvbmRhcnkoY29udGVudDogQ29udGVudEJsb2NrW10sIHR5cGVzOiBzdHJpbmdbXSk6IENvbnRlbnRCbG9ja1tdIHtcbiAgICAgICAgICAgIGxldCBpOiBudW1iZXI7XG4gICAgICAgICAgICBsZXQgbGltaXQ6IG51bWJlciA9IHRoaXMucGlwU2Vjb25kYXJ5QmxvY2tMaW1pdCA8IDAgPyBjb250ZW50Lmxlbmd0aCA6IHRoaXMucGlwU2Vjb25kYXJ5QmxvY2tMaW1pdDtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IENvbnRlbnRCbG9ja1tdID0gW107XG5cbiAgICAgICAgICAgIGZvciAoaTsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZXMuaW5kZXhPZihjb250ZW50W2ldLnR5cGUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY29udGVudFtpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID49IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBnZW5lcmF0ZUxpc3QoY29udGVudDogQ29udGVudEJsb2NrW10pOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICghY29udGVudCB8fCBjb250ZW50Lmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyTGlzdCgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgc3VtbWFyeUNvbnRlbnQ6IENvbnRlbnRCbG9ja1tdID0gXy5jbG9uZURlZXAoY29udGVudCk7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdDogQ29udGVudEJsb2NrW10gPSB0aGlzLnNlbGVjdFN1bW1hcnkoc3VtbWFyeUNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zZWxlY3RTdW1tYXJ5U2Vjb25kYXJ5KHN1bW1hcnlDb250ZW50LCB0aGlzLnBpcFNlY29uZGFyeUJsb2NrVHlwZXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubGltaXRDaGVja2xpc3QocmVzdWx0LCB0aGlzLnBpcENoZWNrbGlzdFNpemUpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGlkOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgXy5lYWNoKHJlc3VsdCwgKGl0ZW06IENvbnRlbnRCbG9jaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmlkID0gaWQ7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucGljSWRzID0gaXRlbS5waWNfaWRzID8gdGhpcy5nZXRQaWNJZHMoaXRlbS5waWNfaWRzKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlkKys7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb3NpdGVDb250ZW50ID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGNsZWFyTGlzdCgpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9zaXRlQ29udGVudCA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgQ29tcG9zaXRlU3VtbWFyeTogbmcuSUNvbXBvbmVudE9wdGlvbnMgPSB7XG4gICAgICAgIGJpbmRpbmdzOiBDb21wb3NpdGVTdW1tYXJ5QmluZGluZ3MsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9zaXRlX3N1bW1hcnkvQ29tcG9zaXRlU3VtbWFyeS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogQ29tcG9zaXRlU3VtbWFyeUNvbnRyb2xsZXJcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcInBpcENvbXBvc2l0ZVN1bW1hcnlcIiwgWydwaXBEb2N1bWVudHMnLCAncGlwTG9jYXRpb25zJywgJ3BpcFBpY3R1cmVzJywgJ3BpcERhdGVzJywgJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnXSlcbiAgICAgICAgLmNvbXBvbmVudCgncGlwQ29tcG9zaXRlU3VtbWFyeScsIENvbXBvc2l0ZVN1bW1hcnkpO1xuXG59XG5cbiIsImltcG9ydCB7IENvbXBvc2l0ZUVtcHR5RXZlbnQsIENvbXBvc2l0ZUFkZEl0ZW1FdmVudCB9IGZyb20gJy4uL2NvbXBvc2l0ZV9lZGl0L0NvbXBvc2l0ZUVkaXQnO1xuXG5leHBvcnQgY2xhc3MgQ29tcG9zaXRlQWRkSXRlbUV2ZW50UGFyYW1zIHtcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQ29tcG9zaXRlVG9vbGJhckJ1dHRvbiB7XG4gICAgcHVibGljIHBpY3R1cmU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHB1YmxpYyBkb2N1bWVudDogYm9vbGVhbiA9IHRydWU7XG4gICAgcHVibGljIGxvY2F0aW9uOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwdWJsaWMgZXZlbnQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHB1YmxpYyBjaGVja2xpc3Q6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHB1YmxpYyB0ZXh0OiBib29sZWFuID0gdHJ1ZTtcbn1cblxue1xuICAgIGNvbnN0IHRyYW5zbGF0ZUNvbmZpZyA9IGZ1bmN0aW9uIChwaXBUcmFuc2xhdGVQcm92aWRlcikge1xuICAgICAgICBwaXBUcmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuICAgICAgICAgICAgJ1RFWFQnOiAnVGV4dCcsXG4gICAgICAgICAgICAnQ0hFQ0tMSVNUJzogJ0NoZWNrbGlzdCcsXG4gICAgICAgICAgICAnTE9DQVRJT04nOiAnTG9jYXRpb24nLFxuICAgICAgICAgICAgJ1BJQ1RVUkUnOiAnUGljdHVyZScsXG4gICAgICAgICAgICAnVElNRSc6ICdUaW1lJyxcbiAgICAgICAgICAgICdET0NVTUVOVCc6ICdEb2N1bWVudCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGlwVHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdydScsIHtcbiAgICAgICAgICAgICdURVhUJzogJ9Ci0LXQutGB0YInLFxuICAgICAgICAgICAgJ0NIRUNLTElTVCc6ICfQodC/0LjRgdC+0LonLFxuICAgICAgICAgICAgJ0xPQ0FUSU9OJzogJ9Cb0L7QutCw0YbQuNGPJyxcbiAgICAgICAgICAgICdQSUNUVVJFJzogJ9CY0LfQvtCx0YDQsNC20LXQvdC40LUnLFxuICAgICAgICAgICAgJ1RJTUUnOiAn0JLRgNC10LzRjycsXG4gICAgICAgICAgICAnRE9DVU1FTlQnOiAnRG9jdW1lbnQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGludGVyZmFjZSBJQ29tcG9zaXRlVG9vbGJhckJpbmRpbmdzIHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xuXG4gICAgICAgIG5nRGlzYWJsZWQ6IGFueTtcbiAgICAgICAgZW1wdHlTdGF0ZTogYW55O1xuICAgICAgICBwaXBUb29sYmFyQnV0dG9uOiBhbnk7XG4gICAgICAgIGNvbXBvc2l0ZUlkOiBhbnk7XG4gICAgfVxuXG4gICAgY29uc3QgQ29tcG9zaXRlVG9vbGJhckJpbmRpbmdzOiBJQ29tcG9zaXRlVG9vbGJhckJpbmRpbmdzID0ge1xuICAgICAgICBuZ0Rpc2FibGVkOiAnPD8nLFxuICAgICAgICBlbXB0eVN0YXRlOiAnPD9waXBDb21wb3NpdGVFbXB0eScsIC8vIFNldCBpbml0IHN0YXRlIG9mIHRvb2xiYXJcbiAgICAgICAgcGlwVG9vbGJhckJ1dHRvbjogJz0/JywgLy8gU2V0IHZpc2liaWxpdHkgb2YgdG9vbGJhciBidXR0b24sIHRydWUgYnkgZGVmYXVsdFxuICAgICAgICBjb21wb3NpdGVJZDogJz0/cGlwQ29tcG9zaXRlSWQnLCAvLyBTZXQgcGlwLWNvbXBvc2l0ZS1pZCwgZm9yIHNldmVyYWwgY29tcG9zaXRlIGNvbXBvbmVudHMgaW4gb25lIHNjb3BlXG4gICAgfVxuXG4gICAgY2xhc3MgQ29tcG9zaXRlVG9vbGJhckJpbmRpbmdzQ2hhbmdlcyBpbXBsZW1lbnRzIG5nLklPbkNoYW5nZXNPYmplY3QsIElDb21wb3NpdGVUb29sYmFyQmluZGluZ3Mge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBuZy5JQ2hhbmdlc09iamVjdDxhbnk+O1xuXG4gICAgICAgIG5nRGlzYWJsZWQ6IG5nLklDaGFuZ2VzT2JqZWN0PCBib29sZWFuID47XG4gICAgICAgIGVtcHR5U3RhdGU6IG5nLklDaGFuZ2VzT2JqZWN0PCBib29sZWFuID47XG4gICAgICAgIHBpcFRvb2xiYXJCdXR0b246IG5nLklDaGFuZ2VzT2JqZWN0PENvbXBvc2l0ZVRvb2xiYXJCdXR0b24+OztcbiAgICAgICAgY29tcG9zaXRlSWQ6IG5nLklDaGFuZ2VzT2JqZWN0PHN0cmluZz47XG4gICAgfVxuXG4gICAgY2xhc3MgQ29tcG9zaXRlVG9vbGJhckNvbnRyb2xsZXIge1xuICAgICAgICBwcml2YXRlIGNsZWFudXBDb21wb3NpdGVFdmVudDogYW55O1xuXG4gICAgICAgIHB1YmxpYyB0b29sYmFyQnV0dG9uOiBDb21wb3NpdGVUb29sYmFyQnV0dG9uO1xuXG4gICAgICAgIHB1YmxpYyBuZ0Rpc2FibGVkOiBib29sZWFuO1xuICAgICAgICBwdWJsaWMgZW1wdHlTdGF0ZTogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIHBpcFRvb2xiYXJCdXR0b246IENvbXBvc2l0ZVRvb2xiYXJCdXR0b247XG4gICAgICAgIHB1YmxpYyBjb21wb3NpdGVJZDogc3RyaW5nO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeVxuICAgICAgICApIHtcblwibmdJbmplY3RcIjtcblxuICAgICAgICAgICAgdGhpcy50b29sYmFyQnV0dG9uID0gbmV3IENvbXBvc2l0ZVRvb2xiYXJCdXR0b24oKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb24oKTtcblxuICAgICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1jb21wb3NpdGUtdG9vbGJhcicpO1xuXG4gICAgICAgICAgICB0aGlzLmNsZWFudXBDb21wb3NpdGVFdmVudCA9IHRoaXMuJHJvb3RTY29wZS4kb24oQ29tcG9zaXRlRW1wdHlFdmVudCwgKGV2ZW50OiBuZy5JQW5ndWxhckV2ZW50LCB2YWx1ZTogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1wdHlTdGF0ZSA9ICF2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljICRvbkRlc3Ryb3koKSB7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoaXMuY2xlYW51cENvbXBvc2l0ZUV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW51cENvbXBvc2l0ZUV2ZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgJG9uQ2hhbmdlcyhjaGFuZ2VzOiBDb21wb3NpdGVUb29sYmFyQmluZGluZ3NDaGFuZ2VzKSB7XG4gICAgICAgICAgICBpZiAoY2hhbmdlcy5waXBUb29sYmFyQnV0dG9uICYmIGNoYW5nZXMucGlwVG9vbGJhckJ1dHRvbi5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9wdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHRvQm9vbGVhbih2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSAnMScgfHwgdmFsdWUgPT0gJ3RydWUnO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG9uQWRkSXRlbShjb250ZW50VHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgcGFyYW1zOiBDb21wb3NpdGVBZGRJdGVtRXZlbnRQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogY29udGVudFR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuY29tcG9zaXRlSWRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS4kZW1pdChDb21wb3NpdGVBZGRJdGVtRXZlbnQsIHBhcmFtcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIHNldE9wdGlvbigpOiB2b2lkIHtcbiAgICAgICAgICAgIF8uYXNzaWduKHRoaXMucGlwVG9vbGJhckJ1dHRvbiwgdGhpcy5waXBUb29sYmFyQnV0dG9uKTtcbiAgICAgICAgICAgIHRoaXMudG9vbGJhckJ1dHRvbi50ZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLnBpcFRvb2xiYXJCdXR0b24gIT09IG51bGwgJiYgdGhpcy5waXBUb29sYmFyQnV0dG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnRvb2xiYXJCdXR0b24ucGljdHVyZSA9IHRoaXMucGlwVG9vbGJhckJ1dHRvbi5waWN0dXJlID09PSBmYWxzZSA/IHRoaXMucGlwVG9vbGJhckJ1dHRvbi5waWN0dXJlIDogdHJ1ZTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnRvb2xiYXJCdXR0b24uZG9jdW1lbnQgPSB0aGlzLnBpcFRvb2xiYXJCdXR0b24uZG9jdW1lbnQgPT09IGZhbHNlID8gdGhpcy5waXBUb29sYmFyQnV0dG9uLmRvY3VtZW50IDogdHJ1ZTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnRvb2xiYXJCdXR0b24ubG9jYXRpb24gPSB0aGlzLnBpcFRvb2xiYXJCdXR0b24ubG9jYXRpb24gPT09IGZhbHNlID8gdGhpcy5waXBUb29sYmFyQnV0dG9uLmxvY2F0aW9uIDogdHJ1ZTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnRvb2xiYXJCdXR0b24uZXZlbnQgPSB0aGlzLnBpcFRvb2xiYXJCdXR0b24uZXZlbnQgPT09IGZhbHNlID8gdGhpcy5waXBUb29sYmFyQnV0dG9uLmV2ZW50IDogdHJ1ZTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnRvb2xiYXJCdXR0b24uY2hlY2tsaXN0ID0gdGhpcy5waXBUb29sYmFyQnV0dG9uLmNoZWNrbGlzdCA9PT0gZmFsc2UgPyB0aGlzLnBpcFRvb2xiYXJCdXR0b24uY2hlY2tsaXN0IDogdHJ1ZTtcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy50b29sYmFyQnV0dG9uLnBpY3R1cmUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gICAgIHRoaXMudG9vbGJhckJ1dHRvbi5kb2N1bWVudCA9IHRydWU7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy50b29sYmFyQnV0dG9uLmxvY2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnRvb2xiYXJCdXR0b24uZXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gICAgIHRoaXMudG9vbGJhckJ1dHRvbi5jaGVja2xpc3QgPSB0cnVlO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gdGhpcy50b29sYmFyQnV0dG9uLnRleHQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgY29uc3QgQ29tcG9zaXRlVG9vbGJhcjogbmcuSUNvbXBvbmVudE9wdGlvbnMgPSB7XG4gICAgICAgIGJpbmRpbmdzOiBDb21wb3NpdGVUb29sYmFyQmluZGluZ3MsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9zaXRlX3Rvb2xiYXIvQ29tcG9zaXRlVG9vbGJhci5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogQ29tcG9zaXRlVG9vbGJhckNvbnRyb2xsZXJcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcInBpcENvbXBvc2l0ZVRvb2xiYXJcIiwgWydwaXBDb21wb3NpdGUuVGVtcGxhdGVzJ10pXG4gICAgICAgIC5jb25maWcodHJhbnNsYXRlQ29uZmlnKVxuICAgICAgICAuY29tcG9uZW50KCdwaXBDb21wb3NpdGVUb29sYmFyJywgQ29tcG9zaXRlVG9vbGJhcik7XG5cbn0iLCJpbXBvcnQgeyBDb250ZW50QmxvY2sgfSBmcm9tICcuLi9kYXRhJztcbntcbiAgICBpbnRlcmZhY2UgSUNvbXBvc2l0ZVZpZXdCaW5kaW5ncyB7XG4gICAgICAgIFtrZXk6IHN0cmluZ106IGFueTtcblxuICAgICAgICBuZ0Rpc2FibGVkOiBhbnk7XG4gICAgICAgIHBpcERpc2FibGVkQ2hlY2tsaXN0OiBhbnk7XG4gICAgICAgIHBpcENoYW5nZWQ6IGFueTtcbiAgICAgICAgcGlwQ29udGVudHM6IGFueTtcbiAgICAgICAgcGlwUmViaW5kOiBhbnk7XG4gICAgfVxuXG4gICAgY29uc3QgQ29tcG9zaXRlVmlld0JpbmRpbmdzOiBJQ29tcG9zaXRlVmlld0JpbmRpbmdzID0ge1xuICAgICAgICBuZ0Rpc2FibGVkOiAnPD8nLFxuICAgICAgICBwaXBEaXNhYmxlZENoZWNrbGlzdDogJzw/JyxcbiAgICAgICAgcGlwQ2hhbmdlZDogJz0/JyxcbiAgICAgICAgcGlwQ29udGVudHM6ICc9PycsXG4gICAgICAgIHBpcFJlYmluZDogJzw/J1xuICAgIH1cblxuICAgIGNsYXNzIENvbXBvc2l0ZVZpZXdCaW5kaW5nc0NoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJQ29tcG9zaXRlVmlld0JpbmRpbmdzIHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogbmcuSUNoYW5nZXNPYmplY3Q8YW55PjtcblxuICAgICAgICBuZ0Rpc2FibGVkOiBuZy5JQ2hhbmdlc09iamVjdDxib29sZWFuPjtcbiAgICAgICAgcGlwRGlzYWJsZWRDaGVja2xpc3Q6IG5nLklDaGFuZ2VzT2JqZWN0PGJvb2xlYW4+O1xuICAgICAgICBwaXBDaGFuZ2VkOiBuZy5JQ2hhbmdlc09iamVjdDwoKSA9PiBuZy5JUHJvbWlzZTx2b2lkPj47XG4gICAgICAgIHBpcENvbnRlbnRzOiBuZy5JQ2hhbmdlc09iamVjdDxDb250ZW50QmxvY2tbXT47XG4gICAgICAgIHBpcFJlYmluZDogbmcuSUNoYW5nZXNPYmplY3Q8Ym9vbGVhbj47XG4gICAgfVxuXG4gICAgY2xhc3MgQ29tcG9zaXRlVmlld0NvbnRyb2xsZXIgaW1wbGVtZW50cyBJQ29tcG9zaXRlVmlld0JpbmRpbmdzIHtcbiAgICAgICAgcHVibGljIG5nRGlzYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIHB1YmxpYyBwaXBEaXNhYmxlZENoZWNrbGlzdDogYm9vbGVhbjtcbiAgICAgICAgcHVibGljIHBpcENoYW5nZWQ6IEZ1bmN0aW9uO1xuICAgICAgICBwdWJsaWMgcGlwQ29udGVudHM6IENvbnRlbnRCbG9ja1tdO1xuICAgICAgICBwdWJsaWMgcGlwUmViaW5kOiBib29sZWFuO1xuXG4gICAgICAgIHB1YmxpYyBjb21wb3NpdGVDb250ZW50OiBDb250ZW50QmxvY2tbXTtcblxuICAgICAgICBwcml2YXRlIHNlbGVjdGVkOiBhbnkgPSB7fTtcblxuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgICAgIHByaXZhdGUgJGF0dHJzOiBuZy5JQXR0cmlidXRlc1xuICAgICAgICApIHtcbiAgICAgICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1jb21wb3NpdGUtdmlldycpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucGlwQ29udGVudHMgPSBfLmlzQXJyYXkodGhpcy5waXBDb250ZW50cykgPyB0aGlzLnBpcENvbnRlbnRzIDogW107XG5cbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVMaXN0KHRoaXMucGlwQ29udGVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljICRvbkNoYW5nZXMoY2hhbmdlczogQ29tcG9zaXRlVmlld0JpbmRpbmdzQ2hhbmdlcyk6IHZvaWQge1xuICAgICAgICAgICAgaWYgKGNoYW5nZXMucGlwUmViaW5kICYmIGNoYW5nZXMucGlwUmViaW5kLmN1cnJlbnRWYWx1ZSAhPT0gY2hhbmdlcy5waXBSZWJpbmQucHJldmlvdXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGlwUmViaW5kID0gY2hhbmdlcy5waXBSZWJpbmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpcFJlYmluZCAmJiBjaGFuZ2VzLnBpcENvbnRlbnRzICYmIF8uaXNBcnJheShjaGFuZ2VzLnBpcENvbnRlbnRzLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pc0NoYW5nZWQgPT09IHRydWUgPyB0aGlzLnNlbGVjdGVkLmlzQ2hhbmdlZCA9IGZhbHNlIDogdGhpcy5nZW5lcmF0ZUxpc3QoY2hhbmdlcy5waXBDb250ZW50cy5jdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoYW5nZXMubmdEaXNhYmxlZCAmJiBjaGFuZ2VzLm5nRGlzYWJsZWQuY3VycmVudFZhbHVlICE9PSBjaGFuZ2VzLm5nRGlzYWJsZWQucHJldmlvdXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubmdEaXNhYmxlZCA9IGNoYW5nZXMubmdEaXNhYmxlZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2VzLnBpcERpc2FibGVkQ2hlY2tsaXN0ICYmIGNoYW5nZXMucGlwRGlzYWJsZWRDaGVja2xpc3QuY3VycmVudFZhbHVlICE9PSBjaGFuZ2VzLnBpcERpc2FibGVkQ2hlY2tsaXN0LnByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpcERpc2FibGVkQ2hlY2tsaXN0ID0gY2hhbmdlcy5waXBEaXNhYmxlZENoZWNrbGlzdC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHByaXZhdGUgZ2V0UGljSWRzKGlkczogc3RyaW5nW10pOiBwaXAucGljdHVyZXMuQXR0YWNobWVudFtdIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IHBpcC5waWN0dXJlcy5BdHRhY2htZW50W10gPSBbXTtcblxuICAgICAgICAgICAgXy5lYWNoKGlkcywgKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbTogcGlwLnBpY3R1cmVzLkF0dGFjaG1lbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlQ29udGVudHMoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmlzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBpcENvbnRlbnRzID0gdGhpcy5jb21wb3NpdGVDb250ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGlzRGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5waXBEaXNhYmxlZENoZWNrbGlzdCA9PT0gdHJ1ZSB8fCB0aGlzLm5nRGlzYWJsZWQgPT09IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgb25Db250ZW50Q2hhbmdlKCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDb250ZW50cygpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGlwQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGlwQ2hhbmdlZCh0aGlzLnBpcENvbnRlbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBvbkNvbXBvc2l0ZUNoYW5nZSgpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGVudHMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBpcENoYW5nZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5waXBDaGFuZ2VkKHRoaXMucGlwQ29udGVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZW5lcmF0ZUxpc3QoY29udGVudDogQ29udGVudEJsb2NrW10pOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICghY29udGVudCB8fCBjb250ZW50Lmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyTGlzdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb3NpdGVDb250ZW50ID0gW107XG4gICAgICAgICAgICAgICAgbGV0IGlkOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgIF8uZWFjaChjb250ZW50LCAoaXRlbTogQ29udGVudEJsb2NrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGl0ZW0pICE9ICdvYmplY3QnIHx8IGl0ZW0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvcjogY29udGVudCBlcnJvciEnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpdGVtLmlkID0gaWQ7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucGljSWRzID0gaXRlbS5waWNfaWRzID8gdGhpcy5nZXRQaWNJZHMoaXRlbS5waWNfaWRzKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlkKys7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaXRlQ29udGVudC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjbGVhckxpc3QoKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2l0ZUNvbnRlbnQgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IENvbXBvc2l0ZVZpZXc6IG5nLklDb21wb25lbnRPcHRpb25zID0ge1xuICAgICAgICBiaW5kaW5nczogQ29tcG9zaXRlVmlld0JpbmRpbmdzLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvc2l0ZV92aWV3L0NvbXBvc2l0ZVZpZXcuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6IENvbXBvc2l0ZVZpZXdDb250cm9sbGVyXG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJwaXBDb21wb3NpdGVWaWV3XCIsIFsncGlwRG9jdW1lbnRzJywgJ3BpcExvY2F0aW9ucycsICdwaXBQaWN0dXJlcycsICdwaXBEYXRlcycsICdwaXBDb21wb3NpdGUuVGVtcGxhdGVzJywgJ3BpcEVtYmVkZGVkVmlldyddKVxuICAgICAgICAuY29tcG9uZW50KCdwaXBDb21wb3NpdGVWaWV3JywgQ29tcG9zaXRlVmlldyk7XG5cbn0iLCJ7XG4gICAgaW50ZXJmYWNlIElDb250ZW50U3dpdGNoQXR0cmlidXRlcyBleHRlbmRzIGFuZ3VsYXIuSUF0dHJpYnV0ZXMge1xuICAgICAgICBwaXBQYXJlbnRFbGVtZW50TmFtZTogYW55O1xuICAgIH1cblxuICAgIGludGVyZmFjZSBJQ29udGVudFN3aXRjaFNjb3BlIGV4dGVuZHMgYW5ndWxhci5JU2NvcGUge1xuICAgICAgICBvbkJ1dHRvbkNsaWNrOiBhbnk7XG4gICAgICAgIGNvbnRlbnRTd2l0Y2hPcHRpb246IGFueTtcbiAgICAgICAgc2hvd0ljb25QaWN0dXJlOiBhbnk7XG4gICAgICAgIHNob3dJY29uRG9jdW1lbnQ6IGFueTtcbiAgICAgICAgc2hvd0ljb25FdmVudDogYW55O1xuICAgICAgICBzaG93SWNvbkxvY2F0aW9uOiBhbnk7XG4gICAgICAgIHNob3dFdmVudDogYW55O1xuICAgICAgICBzaG93RG9jdW1lbnRzOiBhbnk7XG4gICAgICAgIHNob3dMb2NhdGlvbjogYW55O1xuICAgICAgICBzaG93UGljdHVyZXM6IGFueTtcbiAgICB9XG5cbiAgICBjbGFzcyBDb250ZW50U3dpdGNoTGluayB7XG4gICAgICAgIHByaXZhdGUgcGFyZW50RWxlbWVudE5hbWVHZXR0ZXI6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBhbnk7XG5cbiAgICAgICAgY29uc3RydWN0b3IoXG4gICAgICAgICAgICBwcml2YXRlICRwYXJzZTogbmcuSVBhcnNlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHNjb3BlOiBJQ29udGVudFN3aXRjaFNjb3BlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgcHJpdmF0ZSAkYXR0cnM6IElDb250ZW50U3dpdGNoQXR0cmlidXRlc1xuICAgICAgICApIHtcbiAgICAgICAgICAgIFwibmdJbmplY3RcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50TmFtZUdldHRlciA9ICRwYXJzZSgkYXR0cnMucGlwUGFyZW50RWxlbWVudE5hbWUpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gdGhpcy5wYXJlbnRFbGVtZW50TmFtZUdldHRlcigkc2NvcGUpO1xuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc2Nyb2xsVG8oY2hpbGRFbGVtZW50KTogdm9pZCB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbW9kRGlmZjogbnVtYmVyID0gTWF0aC5hYnMoJCh0aGlzLnBhcmVudEVsZW1lbnQpLnNjcm9sbFRvcCgpIC0gJChjaGlsZEVsZW1lbnQpLnBvc2l0aW9uKCkudG9wKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kRGlmZiA8IDIwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHNjcm9sbFRvID0gJCh0aGlzLnBhcmVudEVsZW1lbnQpLnNjcm9sbFRvcCgpICsgKCQoY2hpbGRFbGVtZW50KS5wb3NpdGlvbigpLnRvcCAtIDIwKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMucGFyZW50RWxlbWVudCkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG8gKyAncHgnXG4gICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSBzZXRPcHRpb24oKTogdm9pZCB7XG4gICAgICAgICAgICAvLyB0b2RvXG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuY29udGVudFN3aXRjaE9wdGlvbiAhPT0gbnVsbCAmJiB0aGlzLiRzY29wZS5jb250ZW50U3dpdGNoT3B0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5zaG93SWNvblBpY3R1cmUgPSB0aGlzLiRzY29wZS5jb250ZW50U3dpdGNoT3B0aW9uLnBpY3R1cmUgPyB0aGlzLiRzY29wZS5jb250ZW50U3dpdGNoT3B0aW9uLnBpY3R1cmUgOiB0aGlzLiRzY29wZS5zaG93SWNvblBpY3R1cmU7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuc2hvd0ljb25Eb2N1bWVudCA9IHRoaXMuJHNjb3BlLmNvbnRlbnRTd2l0Y2hPcHRpb24uZG9jdW1lbnQgPyB0aGlzLiRzY29wZS5jb250ZW50U3dpdGNoT3B0aW9uLmRvY3VtZW50IDogdGhpcy4kc2NvcGUuc2hvd0ljb25Eb2N1bWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5zaG93SWNvbkxvY2F0aW9uID0gdGhpcy4kc2NvcGUuY29udGVudFN3aXRjaE9wdGlvbi5sb2NhdGlvbiA/IHRoaXMuJHNjb3BlLmNvbnRlbnRTd2l0Y2hPcHRpb24ubG9jYXRpb24gOiB0aGlzLiRzY29wZS5zaG93SWNvbkxvY2F0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnNob3dJY29uRXZlbnQgPSB0aGlzLiRzY29wZS5jb250ZW50U3dpdGNoT3B0aW9uLmV2ZW50ID8gdGhpcy4kc2NvcGUuY29udGVudFN3aXRjaE9wdGlvbi5ldmVudCA6IHRoaXMuJHNjb3BlLnNob3dJY29uRXZlbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLnNob3dJY29uUGljdHVyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuc2hvd0ljb25Eb2N1bWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuc2hvd0ljb25Mb2NhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuc2hvd0ljb25FdmVudCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcHVibGljIG9uQnV0dG9uQ2xpY2sodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50RWxlbWVudCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdldmVudCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIE9uIEV2ZW50IGNsaWNrIGFjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuc2hvd0V2ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG8oJy5ldmVudC1lZGl0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RvY3VtZW50cyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIE9uIERvY3VtZW50cyBjbGljayBhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlLnNob3dEb2N1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUbygnLnBpcC1kb2N1bWVudC1saXN0LWVkaXQnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGljdHVyZXMnOlxuICAgICAgICAgICAgICAgICAgICAvLyBPbiBQaWN0dXJlcyBjbGljayBhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlLnNob3dQaWN0dXJlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvKCcucGlwLXBpY3R1cmUtbGlzdC1lZGl0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xvY2F0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gT24gTG9jYXRpb24gY2xpY2sgYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRzY29wZS5zaG93TG9jYXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUbygnLnBpcC1sb2NhdGlvbi1lZGl0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuXG4gICAgfVxuXG4gICAgY29uc3QgQ29udGVudFN3aXRjaCA9IGZ1bmN0aW9uICgkcGFyc2U6IG5nLklQYXJzZVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb250ZW50X3N3aXRjaC9Db250ZW50U3dpdGNoLmh0bWwnLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKFxuICAgICAgICAgICAgICAgICRzY29wZTogSUNvbnRlbnRTd2l0Y2hTY29wZSxcbiAgICAgICAgICAgICAgICAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgICAgICRhdHRyczogSUNvbnRlbnRTd2l0Y2hBdHRyaWJ1dGVzXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBuZXcgQ29udGVudFN3aXRjaExpbmsoJHBhcnNlLCAkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJwaXBDb250ZW50U3dpdGNoXCIsIFsncGlwQ29tcG9zaXRlLlRlbXBsYXRlcyddKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBDb250ZW50U3dpdGNoJywgQ29udGVudFN3aXRjaCk7XG5cbn0iLCJleHBvcnQgY2xhc3MgQ2hlY2tsaXN0SXRlbSB7XG4gICAgY2hlY2tlZDogYm9vbGVhbjtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgZW1wdHk/OiBib29sZWFuO1xufSIsImltcG9ydCB7IENoZWNrbGlzdEl0ZW0gfSBmcm9tICcuL0NoZWNrbGlzdEl0ZW0nO1xuXG5leHBvcnQgY2xhc3MgQ29udGVudEJsb2NrIHtcbiAgICBwdWJsaWMgaWQ/OiBudW1iZXI7XG4gICAgcHVibGljIHR5cGU6IHN0cmluZztcbiAgICBwdWJsaWMgdGV4dD86IHN0cmluZztcbiAgICBwdWJsaWMgZG9jcz86IHBpcC5kb2N1bWVudHMuQXR0YWNobWVudFtdO1xuICAgIHB1YmxpYyBwaWNJZHM/OiBwaXAuZG9jdW1lbnRzLkF0dGFjaG1lbnRbXTtcbiAgICBwdWJsaWMgcGljX2lkcz86IHN0cmluZ1tdO1xuICAgIHB1YmxpYyBsb2NfcG9zPzogYW55OyBcbiAgICBwdWJsaWMgbG9jX25hbWU/OiBzdHJpbmc7XG4gICAgcHVibGljIHN0YXJ0Pzogc3RyaW5nO1xuICAgIHB1YmxpYyBlbmQ/OiBzdHJpbmc7XG4gICAgcHVibGljIGFsbF9kYXk/OiBib29sZWFuO1xuICAgIHB1YmxpYyBjaGVja2xpc3Q/OiBDaGVja2xpc3RJdGVtW107XG4gICAgcHVibGljIGVtYmVkX3R5cGU/OiBzdHJpbmc7XG4gICAgcHVibGljIGVtYmVkX3VyaT86IHN0cmluZztcbiAgICBwdWJsaWMgY3VzdG9tPzogYW55O1xufSIsImV4cG9ydCBjbGFzcyBDb250ZW50QmxvY2tUeXBlIHtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFRleHQ6IHN0cmluZyA9IFwidGV4dFwiO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ2hlY2tsaXN0OiBzdHJpbmcgPSBcImNoZWNrbGlzdFwiO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTG9jYXRpb246IHN0cmluZyA9IFwibG9jYXRpb25cIjtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFRpbWU6IHN0cmluZyA9IFwidGltZVwiO1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUGljdHVyZXM6IHN0cmluZyA9IFwicGljdHVyZXNcIjtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERvY3VtZW50czogc3RyaW5nID0gXCJkb2N1bWVudHNcIjtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVtYmVkZGVkOiBzdHJpbmcgPSBcImVtYmVkZGVkXCI7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBDdXN0b206IHN0cmluZyA9IFwiY3VzdG9tXCI7XG59IiwiZXhwb3J0IGNsYXNzIEVtYmVkZGVkVHlwZSB7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBZb3V0dWJlOiBzdHJpbmcgPSBcInlvdXR1YmVcIjtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEN1c3RvbTogc3RyaW5nID0gXCJjdXN0b21cIjtcbn0iLCJpbXBvcnQgJy4vQ29udGVudCc7XG5pbXBvcnQgJy4vQ2hlY2tsaXN0SXRlbSc7XG5pbXBvcnQgJy4vQ29udGVudEJsb2NrVHlwZSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vQ29udGVudCc7XG5leHBvcnQgKiBmcm9tICcuL0NoZWNrbGlzdEl0ZW0nO1xuZXhwb3J0ICogZnJvbSAnLi9Db250ZW50QmxvY2tUeXBlJzsiLCJpbXBvcnQgeyBFbWJlZGRlZFR5cGUgfSBmcm9tICcuLi9kYXRhL0VtYmVkZGVkVHlwZSc7XG5cbmludGVyZmFjZSBJRW1iZWRkZWRFZGl0QmluZGluZ3Mge1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcblxuICAgIGVtYmVkX3R5cGU6IGFueTtcbiAgICBlbWJlZF91cmk6IGFueTtcbiAgICBvbkNoYW5nZTogYW55O1xuICAgIG5nRGlzYWJsZWQ6IGFueTtcbn1cblxuY29uc3QgRW1iZWRkZWRFZGl0QmluZGluZ3M6IElFbWJlZGRlZEVkaXRCaW5kaW5ncyA9IHtcbiAgICBlbWJlZF90eXBlOiAnPT9waXBFbWJlZGRlZFR5cGUnLFxuICAgIGVtYmVkX3VyaTogJz0/cGlwRW1iZWRkZWRVcmknLFxuICAgIG9uQ2hhbmdlOiAnPXBpcENoYW5nZWQnLFxuICAgIG5nRGlzYWJsZWQ6ICcmP25nRGlzYWJsZWQnXG59XG5cbmNsYXNzIEVtYmVkZGVkRWRpdENoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJRW1iZWRkZWRFZGl0QmluZGluZ3Mge1xuICAgIFtrZXk6IHN0cmluZ106IG5nLklDaGFuZ2VzT2JqZWN0PGFueT47XG5cbiAgICBlbWJlZF90eXBlOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xuICAgIGVtYmVkX3VyaTogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nPjtcbiAgICBuZ0Rpc2FibGVkOiBuZy5JQ2hhbmdlc09iamVjdDwoKSA9PiBuZy5JUHJvbWlzZTx2b2lkPj47XG4gICAgb25DaGFuZ2U6IG5nLklDaGFuZ2VzT2JqZWN0PCgpID0+IG5nLklQcm9taXNlPHZvaWQ+Pjtcbn1cblxuLy8gY2xhc3MgRW1iZWRkZU9iaiB7XG4vLyAgICAgcHVibGljIGVtYmVkX3R5cGU6IHN0cmluZztcbi8vICAgICBwdWJsaWMgZW1iZWRfdXJpOiBzdHJpbmc7XG4vLyB9XG5cbmNsYXNzIEVtYmVkZGVkRWRpdENvbnRyb2xsZXIgaW1wbGVtZW50cyBuZy5JQ29udHJvbGxlciB7ICAgICAgICAgIHB1YmxpYyAkb25Jbml0KCkge31cbiAgICBwdWJsaWMgZm9ybTogYW55O1xuICAgIHB1YmxpYyB0b3VjaGVkRXJyb3JzV2l0aEhpbnQ6IEZ1bmN0aW9uO1xuXG4gICAgcHVibGljIGVtYmVkX3R5cGU6IHN0cmluZztcbiAgICBwdWJsaWMgZW1iZWRfdXJpOiBzdHJpbmc7XG4gICAgLy8gcHVibGljIG9uQ2hhbmdlOiAocGFyYW1zOiBFbWJlZGRlT2JqKSA9PiB2b2lkO1xuICAgIHB1YmxpYyBvbkNoYW5nZTogKGVtYmVkVHlwZTogc3RyaW5nLCBlbWJlZFVyaTogc3RyaW5nKSA9PiB2b2lkO1xuICAgIHB1YmxpYyBuZ0Rpc2FibGVkOiAoKSA9PiBib29sZWFuO1xuXG4gICAgcHVibGljIGVtYmVkZGVkVHlwZUNvbGxlY3Rpb24gPSBbXG4gICAgICAgIHsgdGl0bGU6ICdFTUJFRERFRF9UWVBFX0NVU1RPTScsIHNob3J0VGl0bGU6ICdFTUJFRERFRF9UWVBFX0NVU1RPTV9TSE9SVCcsaWQ6IEVtYmVkZGVkVHlwZS5DdXN0b20gfSxcbiAgICAgICAgeyB0aXRsZTogJ0VNQkVEREVEX1RZUEVfWU9VVFVCRScsIHNob3J0VGl0bGU6ICdFTUJFRERFRF9UWVBFX1lPVVRVQkVfU0hPUlQnLGlkOiBFbWJlZGRlZFR5cGUuWW91dHViZSB9XG4gICAgXTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgIHByaXZhdGUgJHNjb3BlOiBuZy5JU2NvcGUsXG4gICAgICAgIHByaXZhdGUgJHN0YXRlOiBuZy51aS5JU3RhdGVTZXJ2aWNlLFxuICAgICAgICBwdWJsaWMgcGlwTWVkaWE6IHBpcC5sYXlvdXRzLklNZWRpYVNlcnZpY2VcbiAgICApIHtcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1lbWJlZGRlZC1lZGl0Jyk7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgcHVibGljICRvbkNoYW5nZXMoY2hhbmdlczogRW1iZWRkZWRFZGl0Q2hhbmdlcyk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmxvZygnJG9uQ2hhbmdlcycpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgJHBvc3RMaW5rKCkge1xuICAgICAgICBjb25zb2xlLmxvZygncG9zdGxpbmsnLCB0aGlzLiRzY29wZSlcbiAgICAgICAgdGhpcy5mb3JtID0gdGhpcy4kc2NvcGUuZW1iZWRkZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZW1iZWRfdHlwZSkge1xuICAgICAgICAgICAgdGhpcy5lbWJlZF90eXBlID0gRW1iZWRkZWRUeXBlLkN1c3RvbTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbkNoYW5nZVR5cGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdvbkNoYW5nZVR5cGUnKTtcbiAgICAgICAgaWYgKCF0aGlzLmZvcm0udXJsLiRlcnJvcilcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5lbWJlZF90eXBlLCB0aGlzLmVtYmVkX3VyaSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uQ2hhbmdlVXJsKCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLmxvZygnb25DaGFuZ2VVcmwnKTtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzLmVtYmVkX3R5cGUsIHRoaXMuZW1iZWRfdXJpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNEaXNhYmxlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMubmdEaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmdEaXNhYmxlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5cbigoKSA9PiB7XG5cbiAgICBmdW5jdGlvbiBkZWNsYXJlZEVtYmVkZGVkRWRpdFJlc291cmNlcyhwaXBUcmFuc2xhdGVQcm92aWRlcjogcGlwLnNlcnZpY2VzLklUcmFuc2xhdGVQcm92aWRlcikge1xuICAgICAgICBwaXBUcmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuICAgICAgICAgICAgRU1CRURERURfVFlQRV9MQUJFTDogJ0VtYmVkZGVkIHR5cGUnLFxuICAgICAgICAgICAgRU1CRURERURfVVJMX0xBQkVMOiAnRW1iZWRkZWQgdXJpJyxcbiAgICAgICAgICAgIEVNQkVEREVEX1RZUEVfSElOVDogJ0VudGVyIHVyaSBvZiBlbWJlZGRlZCByZXNvdXJjZScsXG4gICAgICAgICAgICBFTUJFRERFRF9VUkxfRVJST1I6ICdVcmkgZXJyb3InLFxuICAgICAgICAgICAgRU1CRURERURfVFlQRV9DVVNUT006ICdDdXN0b20nLFxuICAgICAgICAgICAgRU1CRURERURfVFlQRV9ZT1VUVUJFOiAnWW91dHViZScsXG4gICAgICAgICAgICBFTUJFRERFRF9UWVBFX0NVU1RPTV9TSE9SVDogJ0N1c3RvbScsXG4gICAgICAgICAgICBFTUJFRERFRF9UWVBFX1lPVVRVQkVfU0hPUlQ6ICdZb3V0dWJlJ1xuICAgICAgICB9KTtcbiAgICAgICAgcGlwVHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdydScsIHtcbiAgICAgICAgICAgIEVNQkVEREVEX1RZUEVfTEFCRUw6ICfQotC40L8g0LLRgdGC0YDQvtC10L3QvdC+0LPQviDRgNC10YHRg9GA0YHQsCcsXG4gICAgICAgICAgICBFTUJFRERFRF9VUkxfTEFCRUw6ICdVcmkg0LLRgdGC0YDQvtC10L3QvdC+0LPQviDRgNC10YHRg9GA0YHQsCcsXG4gICAgICAgICAgICBFTUJFRERFRF9UWVBFX0hJTlQ6ICfQktCy0LXQtNC40YLQtSB1cmkg0LLRgdGC0YDQvtC10L3QvdC+0LPQviDRgNC10YHRg9GA0YHQsCcsXG4gICAgICAgICAgICBFTUJFRERFRF9VUkxfRVJST1I6ICfQndC10LLQtdGA0L3Ri9C5IHVyaScsXG4gICAgICAgICAgICBFTUJFRERFRF9UWVBFX0NVU1RPTTogJ9CU0YDRg9Cz0L7QuScsXG4gICAgICAgICAgICBFTUJFRERFRF9UWVBFX1lPVVRVQkU6ICdZb3V0dWJlJyxcbiAgICAgICAgICAgIEVNQkVEREVEX1RZUEVfQ1VTVE9NX1NIT1JUOiAn0JTRgNGD0LPQvtC5JyxcbiAgICAgICAgICAgIEVNQkVEREVEX1RZUEVfWU9VVFVCRV9TSE9SVDogJ1lvdXR1YmUnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgncGlwRW1iZWRkZWRFZGl0JywgW10pXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcEVtYmVkZGVkRWRpdCcsIHtcbiAgICAgICAgICAgIGJpbmRpbmdzOiBFbWJlZGRlZEVkaXRCaW5kaW5ncyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZW1iZWRkZWRfZWRpdC9FbWJlZGRlZEVkaXQuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBFbWJlZGRlZEVkaXRDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnJGN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC5jb25maWcoZGVjbGFyZWRFbWJlZGRlZEVkaXRSZXNvdXJjZXMpO1xufSkoKTtcbiIsImltcG9ydCB7IEVtYmVkZGVkVHlwZSB9IGZyb20gJy4uL2RhdGEvRW1iZWRkZWRUeXBlJztcblxuaW50ZXJmYWNlIElFbWJlZGRlZFZpZXdCaW5kaW5ncyB7XG4gICAgW2tleTogc3RyaW5nXTogYW55O1xuXG4gICAgZW1iZWRfdHlwZTogYW55O1xuICAgIGVtYmVkX3VyaTogYW55O1xufVxuXG5jb25zdCBFbWJlZGRlZFZpZXdCaW5kaW5nczogSUVtYmVkZGVkVmlld0JpbmRpbmdzID0ge1xuICAgIGVtYmVkX3R5cGU6ICc9P3BpcEVtYmVkZGVkVHlwZScsXG4gICAgZW1iZWRfdXJpOiAnPT9waXBFbWJlZGRlZFVyaScsXG59XG5cbmNsYXNzIEVtYmVkZGVkVmlld0NoYW5nZXMgaW1wbGVtZW50cyBuZy5JT25DaGFuZ2VzT2JqZWN0LCBJRW1iZWRkZWRWaWV3QmluZGluZ3Mge1xuICAgIFtrZXk6IHN0cmluZ106IG5nLklDaGFuZ2VzT2JqZWN0PGFueT47XG5cbiAgICBlbWJlZF90eXBlOiBuZy5JQ2hhbmdlc09iamVjdDxzdHJpbmc+O1xuICAgIGVtYmVkX3VyaTogbmcuSUNoYW5nZXNPYmplY3Q8c3RyaW5nPjtcbn1cblxuY2xhc3MgRW1iZWRkZWRWaWV3Q29udHJvbGxlciBpbXBsZW1lbnRzIG5nLklDb250cm9sbGVyIHtcbiAgICBwdWJsaWMgJG9uSW5pdCgpIHsgfVxuICAgIHB1YmxpYyBlbWJlZF90eXBlOiBzdHJpbmc7XG4gICAgcHVibGljIGVtYmVkX3VyaTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgcHVibGljIHBpcE1lZGlhOiBwaXAubGF5b3V0cy5JTWVkaWFTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdwaXAtZW1iZWRkZWQtdmlldycpO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyAkb25DaGFuZ2VzKGNoYW5nZXM6IEVtYmVkZGVkVmlld0NoYW5nZXMpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5sb2coJyRvbkNoYW5nZXMnKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xuXG4gICAgfVxuXG59XG5cbigoKSA9PiB7XG5cbiAgICBmdW5jdGlvbiBkZWNsYXJlZEVtYmVkZGVkVmlld1Jlc291cmNlcyhwaXBUcmFuc2xhdGVQcm92aWRlcjogcGlwLnNlcnZpY2VzLklUcmFuc2xhdGVQcm92aWRlcikge1xuICAgICAgICBwaXBUcmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuXG4gICAgICAgIH0pO1xuICAgICAgICBwaXBUcmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ3J1Jywge1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc291cmNlWW91dHViZUNvbmZpZygkc2NlRGVsZWdhdGVQcm92aWRlcikge1xuICAgICAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbXG4gICAgICAgICAgICAnc2VsZicsXG4gICAgICAgICAgICAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vKionXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgncGlwRW1iZWRkZWRWaWV3JywgW10pXG4gICAgICAgIC5jb21wb25lbnQoJ3BpcEVtYmVkZGVkVmlldycsIHtcbiAgICAgICAgICAgIGJpbmRpbmdzOiBFbWJlZGRlZFZpZXdCaW5kaW5ncyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZW1iZWRkZWRfdmlldy9FbWJlZGRlZFZpZXcuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBFbWJlZGRlZFZpZXdDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnJGN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC5jb25maWcocmVzb3VyY2VZb3V0dWJlQ29uZmlnKVxuICAgICAgICAuY29uZmlnKGRlY2xhcmVkRW1iZWRkZWRWaWV3UmVzb3VyY2VzKTtcbn0pKCk7XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG5cblxuaW1wb3J0ICcuL2NoZWNrbGlzdF9lZGl0L0NoZWNrbGlzdEVkaXQnO1xuaW1wb3J0ICcuL2NoZWNrbGlzdF92aWV3L0NoZWNrbGlzdFZpZXcnO1xuaW1wb3J0ICcuL2NvbXBvc2l0ZV9lZGl0L0NvbXBvc2l0ZUVkaXQnO1xuaW1wb3J0ICcuL2NvbXBvc2l0ZV9zdW1tYXJ5L0NvbXBvc2l0ZVN1bW1hcnknO1xuaW1wb3J0ICcuL2NvbXBvc2l0ZV90b29sYmFyL0NvbXBvc2l0ZVRvb2xiYXInO1xuaW1wb3J0ICcuL2NvbXBvc2l0ZV92aWV3L0NvbXBvc2l0ZVZpZXcnO1xuaW1wb3J0ICcuL3V0aWxpdGllcy9Db21wb3NpdGVGb2N1c2VkJztcbmltcG9ydCAnLi9tb2JpbGVfbW91c2UnO1xuaW1wb3J0ICcuL2NvbnRlbnRfc3dpdGNoL0NvbnRlbnRTd2l0Y2gnO1xuaW1wb3J0ICcuL2VtYmVkZGVkX2VkaXQvRW1iZWRkZWRFZGl0JztcbmltcG9ydCAnLi9lbWJlZGRlZF92aWV3L0VtYmVkZGVkVmlldyc7XG5pbXBvcnQgJy4vZGF0YSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwaXBDb21wb3NpdGUnLCBbXG4gICAgJ3BpcENvbnRlbnRTd2l0Y2gnLFxuICAgICdwaXBDaGVja2xpc3RFZGl0JyxcbiAgICAncGlwQ2hlY2tsaXN0VmlldycsXG4gICAgJ3BpcENvbXBvc2l0ZUVkaXQnLFxuICAgICdwaXBDb21wb3NpdGVWaWV3JyxcbiAgICAncGlwQ29tcG9zaXRlU3VtbWFyeScsXG4gICAgJ3BpcENvbXBvc2l0ZVRvb2xiYXInLFxuICAgICdwaXBDb21wb3NpdGVGb2N1c2VkJyxcbiAgICAncGlwTW9iaWxlTW91c2UnLFxuICAgICdwaXBFbWJlZGRlZEVkaXQnLFxuICAgICdwaXBFbWJlZGRlZFZpZXcnXG5dKTtcblxuZXhwb3J0ICogZnJvbSAnLi9kYXRhJzsiLCJ7XG4gICAgaW50ZXJmYWNlIElNb2JpbGVNb3VzZWRvd25BdHRyaWJ1dGVzIGV4dGVuZHMgbmcuSUF0dHJpYnV0ZXMge1xuICAgICAgICBwaXBNb2JpbGVNb3VzZWRvd246IGFueTtcbiAgICB9XG5cbiAgICBjb25zdCBNb2JpbGVNb3VzZWRvd24gPSAoc2NvcGU6IG5nLklTY29wZSwgZWxlbTogSlF1ZXJ5LCBhdHRyczogSU1vYmlsZU1vdXNlZG93bkF0dHJpYnV0ZXMpID0+IHtcbiAgICAgICAgZWxlbS5iaW5kKFwidG91Y2hzdGFydCBtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShhdHRycy5waXBNb2JpbGVNb3VzZWRvd24pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcInBpcE1vYmlsZU1vdXNlXCIpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcE1vYmlsZU1vdXNlZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBNb2JpbGVNb3VzZWRvd247XG4gICAgICAgIH0pO1xufSIsIntcbiAgICBpbnRlcmZhY2UgSU1vYmlsZU1vdXNldXBBdHRyaWJ1dGVzIGV4dGVuZHMgbmcuSUF0dHJpYnV0ZXMge1xuICAgICAgICBwaXBNb2JpbGVNb3VzZXVwOiBhbnk7XG4gICAgfVxuXG4gICAgY29uc3QgTW9iaWxlTW91c2V1cCA9IChzY29wZTogbmcuSVNjb3BlLCBlbGVtOiBKUXVlcnksIGF0dHJzOiBJTW9iaWxlTW91c2V1cEF0dHJpYnV0ZXMpID0+IHtcbiAgICAgICAgZWxlbS5iaW5kKFwidG91Y2hlbmQgbW91c2V1cFwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGF0dHJzLnBpcE1vYmlsZU1vdXNldXApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcInBpcE1vYmlsZU1vdXNlXCIpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcE1vYmlsZU1vdXNldXAnLCAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTW9iaWxlTW91c2V1cDtcbiAgICAgICAgfSk7XG59IiwiYW5ndWxhci5tb2R1bGUoJ3BpcE1vYmlsZU1vdXNlJywgW10pO1xuXG5pbXBvcnQgJy4vTW9iaWxlTW91c2Vkb3duJztcbmltcG9ydCAnLi9Nb2JpbGVNb3VzZXVwJzsiLCJleHBvcnQgY29uc3QgQ29tcG9zaXRlRm9jdXNlZEV2ZW50OiBzdHJpbmcgPSAnZm9jdXNlZENvbXBvc2l0ZSc7IFxuXG57XG4gICAgY2xhc3MgQ29tcG9zaXRlRm9jdXNlZENvbnRyb2xsZXIge1xuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICAkcm9vdFNjb3BlOiBhbmd1bGFyLklSb290U2NvcGVTZXJ2aWNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgJGVsZW1lbnQuYmluZChcInRvdWNoc3RhcnQgbW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KENvbXBvc2l0ZUZvY3VzZWRFdmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IENvbXBvc2l0ZUZvY3VzZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgICAgICAgY29udHJvbGxlcjogQ29tcG9zaXRlRm9jdXNlZENvbnRyb2xsZXJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKFwicGlwQ29tcG9zaXRlRm9jdXNlZFwiLCBbXSlcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwQ29tcG9zaXRlRm9jdXNlZCcsIENvbXBvc2l0ZUZvY3VzZWQpO1xuXG59IiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NoZWNrbGlzdF9lZGl0L0NoZWNrbGlzdEVkaXQuaHRtbCcsXG4gICAgJzxkaXYgbmctY2xhc3M9XCJ7XFwncGlwLWNoZWNrbGlzdC1kcmFnZ2FibGVcXCc6ICRjdHJsLnNlbGVjdGVkLmRyYWd9XCIgaWQ9XCJ7e1xcJ2NoZWNrbGlzdC1cXCcgKyAkY3RybC5zZWxlY3RlZC5pZH19XCI+PGRpdiBuZy1yZXBlYXQ9XCJpdGVtIGluICRjdHJsLmNoZWNrbGlzdENvbnRlbnRcIiBuZy1tb3VzZWRvd249XCIkY3RybC5vbkNsaWNrKCRldmVudCwgJGluZGV4KVwiIGNsYXNzPVwicGlwLWNoZWNrbGlzdC1pdGVtXCIgaWQ9XCJ7e1xcJ2NoZWNrLWl0ZW0tXFwnICsgJGN0cmwuc2VsZWN0ZWQuaWQgKyBcXCctXFwnICsgJGluZGV4fX1cIiBwaXAtZHJhZz1cIiRjdHJsLmNoZWNrbGlzdENvbnRlbnQubGVuZ3RoID4gMSAmJiAkY3RybC5zZWxlY3RlZC5kcmFnICYmICFpdGVtLmVtcHR5XCIgcGlwLWRyYWctZGF0YT1cIml0ZW1cIiBwaXAtZm9yY2UtdG91Y2g9XCJ0cnVlXCIgcGlwLXRvdWNoLWRlbGF5PVwiMzBcIiBwaXAtZHJvcD1cInRydWVcIiBwaXAtZHJhZy1zdG9wPVwiJGN0cmwub25TdG9wKHNlbGVjdGVkLmlkKVwiIHBpcC1kcmFnLXN0YXJ0PVwiJGN0cmwub25TdGFydChzZWxlY3RlZC5pZClcIiBwaXAtc2Nyb2xsLWNvbnRhaW5lcj1cIiRjdHJsLnBpcFNjcm9sbENvbnRhaW5lclwiIHBpcC1kcm9wLXN1Y2Nlc3M9XCIkY3RybC5vbkRyb3BDb21wbGV0ZSgkaW5kZXgsICRkYXRhLCAkZXZlbnQsICRjdHJsLnNlbGVjdGVkLmlkKVwiPjxkaXYgbmctY2xhc3M9XCJ7XFwncHV0X3BsYWNlXFwnOiAkY3RybC5zZWxlY3RlZC5kcmFnfVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtY2hlY2tsaXN0LWl0ZW0tYm9keSBsYXlvdXQtcm93IGxheW91dC1hbGlnbi1zdGFydC1zdGFydFwiIHBpcC1jYW5jZWwtZHJhZz1cInRydWVcIiBuZy1jbGFzcz1cInsgXFwnc2VsZWN0LWFjdGl2ZS1pdGVtXFwnOiAkY3RybC5pc1NlbGVjdGVkSXRlbSgkaW5kZXgpIH1cIj48ZGl2IGNsYXNzPVwicGlwLWNoZWNrbGlzdC1idXR0b25cIiBwaXAtY2FuY2VsLWRyYWc9XCJ0cnVlXCI+PG1kLWJ1dHRvbiBwaXAtZHJhZy1oYW5kbGU9XCJcIiBjbGFzcz1cInBpcC1pY29uLWNoZWNrbGlzdC1idXR0b24gbWQtaWNvbi1idXR0b24gbm8tcmlwcGxlLWNvbnRhaW5lclwiIGFyaWEtbGFiZWw9XCJSRUFSUkFOR0VcIiB0YWJpbmRleD1cIi0xXCIgcGlwLW1vYmlsZS1tb3VzZWRvd249XCIkY3RybC5vbkRvd25EcmFnZyhpdGVtKVwiIHBpcC1tb2JpbGUtbW91c2V1cD1cIiRjdHJsLm9uRHJhZ2dFbmQoKVwiIG5nLWlmPVwiJGN0cmwucGlwRHJhZ2dhYmxlICYmICRjdHJsLmNoZWNrbGlzdENvbnRlbnQubGVuZ3RoID4gMiAmJiAhaXRlbS5lbXB0eVwiIG5nLWNsYXNzPVwiJGN0cmwuY2hlY2tsaXN0Q29udGVudC5sZW5ndGggPiAxID8gXFwnY3Vyc29yLW1vdmVcXCcgOiBcXCdjdXJzb3ItZGVmYXVsdFxcJ1wiIG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZFwiPjxtZC1pY29uIGNsYXNzPVwidGV4dC1ncmV5XCIgbWQtc3ZnLWljb249XCJpY29uczp2aGFuZGxlXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtY2hlY2tsaXN0LWJ1dHRvblwiIHN0eWxlPVwib3ZlcmZsb3c6IGhpZGRlblwiIHBpcC1jYW5jZWwtZHJhZz1cInRydWVcIj48ZGl2IGNsYXNzPVwicGlwLWNoZWNrbGlzdC1idXR0b24tY29udGFpbmVyXCI+PG1kLWJ1dHRvbiBjbGFzcz1cInBpcC1pY29uLWNoZWNrbGlzdC1idXR0b24gbWQtaWNvbi1idXR0b25cIiBuZy1zaG93PVwiaXRlbS5lbXB0eVwiIG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZFwiIG1kLWluay1yaXBwbGU9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm9uQWRkSXRlbSgpXCIgdGFiaW5kZXg9XCItMVwiIGFyaWEtbGFiZWw9XCJQTFVTXCI+PG1kLWljb24gY2xhc3M9XCJ0ZXh0LWdyZXlcIiBtZC1zdmctaWNvbj1cImljb25zOnBsdXNcIj48L21kLWljb24+PC9tZC1idXR0b24+PG1kLWNoZWNrYm94IG5nLW1vZGVsPVwiaXRlbS5jaGVja2VkXCIgbmctc2hvdz1cIiFpdGVtLmVtcHR5XCIgYXJpYS1sYWJlbD1cIkNPTVBMRVRFXCIgcGlwLWNhbmNlbC1kcmFnPVwidHJ1ZVwiIG5nLWZvY3VzPVwiJGN0cmwub25JdGVtRm9jdXMoJGluZGV4KVwiIG5nLWNoYW5nZT1cIiRjdHJsLm9uQ2hlY2tlZChpdGVtKVwiIG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZFwiPjwvbWQtY2hlY2tib3g+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1jaGVja2xpc3QtdGV4dCBmbGV4XCIgcGlwLWNhbmNlbC1kcmFnPVwidHJ1ZVwiPjxtZC1pbnB1dC1jb250YWluZXIgbWQtbm8tZmxvYXQ9XCJcIiBjbGFzcz1cImZsZXhcIj48dGV4dGFyZWEgbmctbW9kZWw9XCJpdGVtLnRleHRcIiBuYW1lPVwie3tcXCd0ZXh0XFwnICsgJGluZGV4fX1cIiBhcmlhLWxhYmVsPVwiVEVYVFwiIGNsYXNzPVwicGlwLXRleHQtY2hlY2tib3hcIiBuZy1mb2N1cz1cIiRjdHJsLm9uSXRlbUZvY3VzKCRpbmRleClcIiBuZy1jaGFuZ2U9XCIkY3RybC5vbkNoYW5nZUl0ZW0oJGluZGV4KVwiIG5nLWtleWRvd249XCIkY3RybC5vblRleHRhcmVhS2V5RG93bigkZXZlbnQsICRpbmRleCwgaXRlbSlcIiBwbGFjZWhvbGRlcj1cInt7OjpcXCdURVhUXFwnIHwgdHJhbnNsYXRlfX1cIiBpZD1cInt7XFwnY2hlY2staXRlbS10ZXh0LVxcJyArIHNlbGVjdGVkLmlkICsgXFwnLVxcJyArICRpbmRleH19XCIgbmctZGlzYWJsZWQ9XCIkY3RybC5uZ0Rpc2FibGVkXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPC90ZXh0YXJlYT48L21kLWlucHV0LWNvbnRhaW5lcj48L2Rpdj48ZGl2IGNsYXNzPVwicGlwLWNoZWNrbGlzdC1idXR0b25cIiBwaXAtY2FuY2VsLWRyYWc9XCJ0cnVlXCI+PG1kLWJ1dHRvbiBjbGFzcz1cInBpcC1pY29uLWNoZWNrbGlzdC1idXR0b24gbWQtaWNvbi1idXR0b25cIiBtZC1pbmstcmlwcGxlPVwiXCIgbmctY2xpY2s9XCIkY3RybC5vbkRlbGV0ZUl0ZW0oJGluZGV4LCBpdGVtKVwiIG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZFwiIHRhYmluZGV4PVwiLTFcIiBuZy1mb2N1cz1cIiRjdHJsLm9uSXRlbUZvY3VzKCRpbmRleClcIiBuZy1zaG93PVwiJGN0cmwuaXNTZWxlY3RlZEl0ZW0oJGluZGV4KVwiIGFyaWEtbGFiZWw9XCJERUxFVEUtSVRFTVwiPjxtZC1pY29uIGNsYXNzPVwidGV4dC1ncmV5XCIgbWQtc3ZnLWljb249XCJpY29uczpjcm9zcy1jaXJjbGVcIj48L21kLWljb24+PC9tZC1idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBpZD1cInt7XFwnY2hlY2staXRlbS1lbXB0eS1cXCcgKyAkY3RybC5zZWxlY3RlZC5pZH19XCIgY2xhc3M9XCJwaXAtZW1wdHktdGV4dFwiIHBpcC1kcmFnPVwiZmFsc2VcIiBwaXAtZHJvcD1cInRydWVcIiBwaXAtZHJvcC1zdWNjZXNzPVwiJGN0cmwub25Ecm9wQ29tcGxldGUoJGN0cmwuY2hlY2tsaXN0Q29udGVudC5sZW5ndGgsICRkYXRhLCAkZXZlbnQsICRjdHJsLnNlbGVjdGVkLmlkKVwiPjxkaXYgbmctY2xhc3M9XCJ7XFwncHV0X3BsYWNlXFwnOiAkY3RybC5zZWxlY3RlZC5kcmFnfVwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NoZWNrbGlzdF92aWV3L0NoZWNrbGlzdFZpZXcuaHRtbCcsXG4gICAgJzxkaXYgbmctcmVwZWF0PVwiaXRlbSBpbiAkY3RybC5waXBPcHRpb25zIHRyYWNrIGJ5ICRpbmRleFwiPjxkaXYgY2xhc3M9XCJwaXAtY2hlY2tsaXN0LWl0ZW0gbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tc3RhcnQtc3RhcnRcIj48ZGl2IGNsYXNzPVwicGlwLWNoZWNrbGlzdC1pY29uXCI+PG1kLWNoZWNrYm94IG5nLW1vZGVsPVwiaXRlbS5jaGVja2VkXCIgbmctY2xpY2s9XCIkY3RybC5vbkNsaWNrKCRldmVudCwgaXRlbSlcIiBhcmlhLWxhYmVsPVwiQ09NUExFVEVcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWRcIj48L21kLWNoZWNrYm94PjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtY2hlY2tsaXN0LXRleHQgZmxleFwiPjxwaXAtbWFya2Rvd24gcGlwLXRleHQ9XCJpdGVtLnRleHRcIiBwaXAtcmViaW5kPVwidHJ1ZVwiIG5nLWRpc2FibGVkPVwidHJ1ZVwiPjwvcGlwLW1hcmtkb3duPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvc2l0ZV9lZGl0L0NvbXBvc2l0ZUVkaXQuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJkaXZpZGVyLXRvcFwiPjxkaXYgY2xhc3M9XCJwaXAtY29tcG9zaXRlLWJvZHlcIiBuZy1zaG93PVwiJGN0cmwuY29tcG9zaXRlQ29udGVudC5sZW5ndGggIT0gMFwiIG5nLWNsYXNzPVwie1xcJ2RyYWctYWN0aXZlXFwnOiAkY3RybC5zZWxlY3RlZC5kcmFnfVwiPjxkaXYgY2xhc3M9XCJwaXAtY29tcG9zaXRlLWl0ZW1cIiBuZy1yZXBlYXQ9XCJvYmogaW4gJGN0cmwuY29tcG9zaXRlQ29udGVudCB0cmFjayBieSBvYmouaWRcIiBuZy1tb3VzZWRvd249XCIkY3RybC5vbkNsaWNrKCRldmVudCwgJGluZGV4LCBvYmopXCIgbmctY2xhc3M9XCJ7XFwnc2VsZWN0ZWQtY29udGVudFxcJzogJGN0cmwuaXNTZWxlY3RlZFNlY3Rpb24oJGluZGV4LCBvYmopLCBcXCdjb21wb3NpdGUtYW5pbWF0ZVxcJzogIW9iai5lbXB0eSAmJiAkY3RybC5jb21wb3NpdGVDb250ZW50Lmxlbmd0aCA+IDF9XCIgbmcta2V5dXA9XCIkY3RybC5vbktleVVwKCRldmVudClcIiBuZy1rZXlkb3duPVwiJGN0cmwub25LZXlEb3duKCRldmVudCwgJGluZGV4LCBvYmopXCIgcGlwLWRyYWc9XCIkY3RybC5jb21wb3NpdGVDb250ZW50Lmxlbmd0aCA+IDEgJiYgJGN0cmwuc2VsZWN0ZWQuZHJhZ1wiIHBpcC10b3VjaC1kZWxheT1cIjEwXCIgcGlwLWRyYWctZGF0YT1cIm9ialwiIHBpcC1zY3JvbGwtY29udGFpbmVyPVwiJGN0cmwucGlwU2Nyb2xsQ29udGFpbmVyXCIgcGlwLWRyb3A9XCJ0cnVlXCIgcGlwLWZvcmNlLXRvdWNoPVwidHJ1ZVwiIHBpcC1kcmFnLXN0b3A9XCIkY3RybC5vblN0b3AoJGN0cmwuc2VsZWN0ZWQuaWQpXCIgcGlwLWRyYWctc3RhcnQ9XCIkY3RybC5vblN0YXJ0KCRjdHJsLnNlbGVjdGVkLmlkKVwiIHBpcC1kcm9wLXN1Y2Nlc3M9XCIkY3RybC5vbkRyb3BDb21wbGV0ZSgkaW5kZXgsICRkYXRhLCAkZXZlbnQsICRjdHJsLnNlbGVjdGVkLmlkKVwiIGlkPVwie3tcXCdjb21wb3NpdGUtaXRlbS1cXCcgKyAkY3RybC5zZWxlY3RlZC5pZCArIFxcJy1cXCcgKyAkaW5kZXh9fVwiPjxkaXYgY2xhc3M9XCJwdXR0X2JveFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtc2VjdGlvbi1oZWFkZXIgbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tc3RhcnQtY2VudGVyXCIgbmctaWY9XCIhb2JqLmVtcHR5XCI+PGRpdiBjbGFzcz1cInczOFwiPjwvZGl2PjxtZC1idXR0b24gY2xhc3M9XCJtZC1pY29uLWJ1dHRvbiBtZC1pY29uLWJ1dHRvbi1saXR0bGUgaWNvbi1yZWFycmFuZ2UtYnRuIG5vLXJpcHBsZS1jb250YWluZXIgcm04IGN1cnNvci1tb3ZlXCIgbmctaWY9XCIhJGN0cmwubmdEaXNhYmxlZCAmJiAkY3RybC5jb21wb3NpdGVDb250ZW50Lmxlbmd0aCA+IDFcIiBwaXAtZHJhZy1oYW5kbGU9XCJcIiBwaXAtbW9iaWxlLW1vdXNlZG93bj1cIiRjdHJsLm9uRG93bkRyYWdnKCRldmVudCwgb2JqKVwiIHBpcC1tb2JpbGUtbW91c2V1cD1cIiRjdHJsLm9uRHJhZ2dFbmQoKVwiIHRhYmluZGV4PVwiLTFcIiBhcmlhLWxhYmVsPVwiQ09NUE9TSVRFLURSQUdHXCIgbmctaGlkZT1cIiRjdHJsLmNvbXBvc2l0ZUNvbnRlbnQubGVuZ3RoID09IDFcIj48bWQtaWNvbiBjbGFzcz1cImNvbXBvc2l0ZS1pY29uIGN1cnNvci1tb3ZlXCIgbWQtc3ZnLWljb249XCJpY29uczpoYW5kbGVcIj48L21kLWljb24+PC9tZC1idXR0b24+PGRpdj48bWQtYnV0dG9uIGNsYXNzPVwibWQtaWNvbi1idXR0b24gbWQtaWNvbi1idXR0b24tbGl0dGxlIHJtOFwiIG5nLWNsaWNrPVwiJGN0cmwub25EZWxldGVJdGVtKCRpbmRleClcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWRcIiBhcmlhLWxhYmVsPVwiQ09NUE9TSVRFLURFTEVURVwiPjxtZC1pY29uIGNsYXNzPVwiY29tcG9zaXRlLWljb25cIiBtZC1zdmctaWNvbj1cImljb25zOmNyb3NzXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtc2VjdGlvbi1jb250ZW50IHJwMjQtZmxleCBscDI0LWZsZXggdHAxNiBicDE2XCIgbmctaWY9XCJvYmoudHlwZSA9PSBcXCd0ZXh0XFwnXCIgcGlwLWNhbmNlbC1kcmFnPVwidHJ1ZVwiPjxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJwMCBtMCB3LXN0cmV0Y2hcIiBtZC1uby1mbG9hdD1cIlwiPjx0ZXh0YXJlYSBuZy1tb2RlbD1cIm9iai50ZXh0XCIgYXJpYS1sYWJlbD1cInRleHRcIiBwbGFjZWhvbGRlcj1cInt7ICRjdHJsLmlzRmlyc3QgPyAkY3RybC5jb21wb3NpdGVQbGFjZWhvbGRlciA6IFxcJ1RFWFRcXCcgfCB0cmFuc2xhdGV9fVwiIGlkPVwie3tcXCdjb21wb3NpdGUtaXRlbS10ZXh0LVxcJyArICRjdHJsLnNlbGVjdGVkLmlkICsgXFwnLVxcJyArICRpbmRleH19XCIgbmctY2hhbmdlPVwiJGN0cmwub25Db250ZW50Q2hhbmdlKG9iailcIiBwaXAtY2FuY2VsLWRyYWc9XCJ0cnVlXCIgbmctZGlzYWJsZWQ9XCIkY3RybC5uZ0Rpc2FibGVkXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RleHRhcmVhPjwvbWQtaW5wdXQtY29udGFpbmVyPjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtc2VjdGlvbi1jb250ZW50IHJwMjQtZmxleCBscDI0LWZsZXggdnAyMFwiIG5nLWlmPVwib2JqLnR5cGUgPT0gXFwncGljdHVyZXNcXCdcIiBwaXAtY2FuY2VsLWRyYWc9XCJ0cnVlXCI+PHBpcC1waWN0dXJlLWxpc3QtZWRpdCBjbGFzcz1cInctc3RyZXRjaFwiIHBpcC1jYW5jZWwtZHJhZz1cInRydWVcIiBwaXAtcGljdHVyZXM9XCJvYmoucGljSWRzXCIgcGlwLWNoYW5nZWQ9XCIkY3RybC5vbkNvbnRlbnRDaGFuZ2Uob2JqKVwiIHBpcC1jcmVhdGVkPVwib2JqLnBpY3R1cmVzID0gJGV2ZW50LnNlbmRlclwiIHBpcC1hZGRlZC1waWN0dXJlPVwiJGN0cmwuYWRkZWRDb250ZW50XCIgbmctZGlzYWJsZWQ9XCIkY3RybC5uZ0Rpc2FibGVkXCI+PC9waXAtcGljdHVyZS1saXN0LWVkaXQ+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1zZWN0aW9uLWNvbnRlbnQgcnAyNC1mbGV4IGxwMjQtZmxleCB2cDIwXCIgbmctaWY9XCJvYmoudHlwZSA9PSBcXCdkb2N1bWVudHNcXCdcIiBwaXAtY2FuY2VsLWRyYWc9XCJ0cnVlXCI+PHBpcC1kb2N1bWVudC1saXN0LWVkaXQgY2xhc3M9XCJ3LXN0cmV0Y2hcIiBwaXAtZG9jdW1lbnRzPVwib2JqLmRvY3NcIiBwaXAtY2FuY2VsLWRyYWc9XCJ0cnVlXCIgcGlwLWNoYW5nZWQ9XCIkY3RybC5vbkNvbnRlbnRDaGFuZ2Uob2JqKVwiIHBpcC1jcmVhdGVkPVwib2JqLmRvY3VtZW50cyA9ICRldmVudC5zZW5kZXJcIiBwaXAtYWRkZWQtZG9jdW1lbnQ9XCIkY3RybC5hZGRlZENvbnRlbnRcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWRcIj48L3BpcC1kb2N1bWVudC1saXN0LWVkaXQ+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1zZWN0aW9uLWVtYmVkZGVkIHJwMjQtZmxleCBscDI0LWZsZXggdnAyMFwiIG5nLWlmPVwib2JqLnR5cGUgPT0gXFwnZW1iZWRkZWRcXCdcIiBwaXAtY2FuY2VsLWRyYWc9XCJ0cnVlXCI+PHBpcC1lbWJlZGRlZC1lZGl0IHBpcC1lbWJlZGRlZC10eXBlPVwib2JqLmVtYmVkX3R5cGVcIiBwaXAtZW1iZWRkZWRfdXJpPVwib2JqLmVtYmVkX3VyaVwiIHBpcC1jYW5jZWwtZHJhZz1cInRydWVcIiBwaXAtY2hhbmdlZD1cIiRjdHJsLm9uQ29udGVudENoYW5nZShvYmopXCIgbmctZGlzYWJsZWQ9XCIkY3RybC5uZ0Rpc2FibGVkXCI+PC9waXAtZW1iZWRkZWQtZWRpdD48L2Rpdj48ZGl2IGNsYXNzPVwicGlwLXNlY3Rpb24tY29udGVudCBsYXlvdXQtcm93IGxheW91dC1hbGlnbi1zdGFydC1jZW50ZXJcIiBuZy1pZj1cIm9iai50eXBlID09IFxcJ2NoZWNrbGlzdFxcJ1wiIHBpcC1jYW5jZWwtZHJhZz1cInRydWVcIj48cGlwLWNoZWNrbGlzdC1lZGl0IHBpcC1vcHRpb25zPVwib2JqLmNoZWNrbGlzdFwiIHBpcC1kcmFnZ2FibGU9XCIkY3RybC5pc0FjdGl2ZUNoZWNrbGlzdChvYmopXCIgcGlwLWNoYW5nZWQ9XCIkY3RybC5vbkNvbnRlbnRDaGFuZ2Uob2JqKVwiIG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZFwiIHBpcC1zY3JvbGwtY29udGFpbmVyPVwiJGN0cmwucGlwU2Nyb2xsQ29udGFpbmVyXCIgcGlwLXJlYmluZD1cInRydWVcIj48L3BpcC1jaGVja2xpc3QtZWRpdD48L2Rpdj48ZGl2IGNsYXNzPVwicGlwLXNlY3Rpb24tY29udGVudCB2cDIwIHJwMjQtZmxleCBscDI0LWZsZXhcIiBuZy1pZj1cIm9iai50eXBlID09IFxcJ2xvY2F0aW9uXFwnXCIgcGlwLWNhbmNlbC1kcmFnPVwidHJ1ZVwiPjxwaXAtbG9jYXRpb24tZWRpdCBjbGFzcz1cInBpcC1sb2NhdGlvbi1hdHRhY2htZW50cyB3LXN0cmV0Y2hcIiBwaXAtbG9jYXRpb24tbmFtZT1cIm9iai5sb2NfbmFtZVwiIHBpcC1sb2NhdGlvbi1wb3M9XCJvYmoubG9jX3Bvc1wiIHBpcC1jYW5jZWwtZHJhZz1cInRydWVcIiB4eHhwaXAtbG9jYXRpb24taG9sZGVyPVwiJGN0cmwucGlwTG9jYXRpb25Ib2xkZXJcIiBwaXAtY2hhbmdlZD1cIiRjdHJsLm9uQ29udGVudENoYW5nZShvYmopXCIgbmctZGlzYWJsZWQ9XCIkY3RybC5uZ0Rpc2FibGVkXCI+PC9waXAtbG9jYXRpb24tZWRpdD48L2Rpdj48ZGl2IGNsYXNzPVwicGlwLXNlY3Rpb24tY29udGVudCBicDE2LWZsZXggcnAyNC1mbGV4IGxwMjQtZmxleCB0cDIwXCIgbmctaWY9XCJvYmoudHlwZSA9PSBcXCd0aW1lXFwnXCIgcGlwLWNhbmNlbC1kcmFnPVwidHJ1ZVwiPjxwaXAtdGltZS1yYW5nZS1lZGl0IGNsYXNzPVwidy1zdHJldGNoXCIgcGlwLXN0YXJ0LWRhdGU9XCJvYmouc3RhcnRcIiBwaXAtZW5kLWRhdGU9XCJvYmouZW5kXCIgeHh4cGlwLXNpemU9XCIkc2l6ZUd0U21hbGxcIiBwaXAtY2hhbmdlZD1cIiRjdHJsLm9uQ29udGVudENoYW5nZShvYmopXCIgbmctZGlzYWJsZWQ9XCIkY3RybC5uZ0Rpc2FibGVkXCIgcGlwLXN0YXJ0LWxhYmVsPVwie3sgXFwnQ09NUE9TSVRFX1NUQVJUX1RJTUVcXCcgfCB0cmFuc2xhdGUgfX1cIiBwaXAtZW5kLWxhYmVsPVwie3sgXFwnQ09NUE9TSVRFX0VORF9USU1FXFwnIHwgdHJhbnNsYXRlIH19XCI+PC9waXAtdGltZS1yYW5nZS1lZGl0PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtY29tcG9zaXRlLWl0ZW0gdy1zdHJldGNoXCIgcGlwLWRyYWc9XCJmYWxzZVwiIHBpcC1kcm9wPVwidHJ1ZVwiIHBpcC1kcm9wLXN1Y2Nlc3M9XCIkY3RybC5vbkRyb3BDb21wbGV0ZSgkY3RybC5jb21wb3NpdGVDb250ZW50Lmxlbmd0aCwgJGRhdGEsICRldmVudCwgJGN0cmwuc2VsZWN0ZWQuaWQpXCIgcGlwLWRyYWctc3RvcD1cIiRjdHJsLm9uU3RvcCgkY3RybC5zZWxlY3RlZC5pZClcIiBwaXAtZHJhZy1zdGFydD1cIiRjdHJsLm9uU3RhcnQoJGN0cmwuc2VsZWN0ZWQuaWQpXCIgaWQ9XCJ7e1xcJ3BpcC1jb21wb3NpdGUtbGFzdC1cXCcgKyAkY3RybC5zZWxlY3RlZC5pZH19XCI+PGRpdiBjbGFzcz1cInB1dHRfYm94XCI+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1zZWN0aW9uLWNvbnRlbnQgaDI0XCIgc3R5bGU9XCJib3JkZXI6IDBweCFpbXBvcnRhbnQ7XCI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwQ29tcG9zaXRlLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwQ29tcG9zaXRlLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9zaXRlX3N1bW1hcnkvQ29tcG9zaXRlU3VtbWFyeS5odG1sJyxcbiAgICAnPGRpdiBuZy1yZXBlYXQ9XCJpdGVtIGluICRjdHJsLmNvbXBvc2l0ZUNvbnRlbnQgdHJhY2sgYnkgJGluZGV4XCI+PGRpdiBjbGFzcz1cInBpcC1jb21wb3NpdGUtdGV4dFwiIG5nLWlmPVwiaXRlbS50eXBlID09IFxcJ3RleHRcXCcgJiYgaXRlbS50ZXh0XCI+PHBpcC1tYXJrZG93biBwaXAtdGV4dD1cIml0ZW0udGV4dFwiIHBpcC1saW5lLWNvdW50PVwiJGN0cmwudGV4dFNpemVcIiBwaXAtcmViaW5kPVwidHJ1ZVwiIG5nLWRpc2FibGVkPVwidHJ1ZVwiPjwvcGlwLW1hcmtkb3duPjwvZGl2PjxkaXYgbmctaWY9XCJpdGVtLnR5cGUgPT0gXFwncGljdHVyZXNcXCcgJiYgaXRlbS5waWNJZHMgJiYgaXRlbS5waWNJZHMubGVuZ3RoID4gMFwiIG5nLWNsYXNzPVwiJGN0cmwuY29tcG9zaXRlQ29udGVudFskaW5kZXggLSAxXS50eXBlICE9IFxcJ3BpY3R1cmVzXFwnID8gJGN0cmwuY29tcG9zaXRlQ29udGVudFskaW5kZXggKyAxXS50eXBlICE9IFxcJ3BpY3R1cmVzXFwnID8gXFwndG0xNiBibTE2XFwnIDogXFwndG0xNiBibTBcXCcgOiAkY3RybC5jb21wb3NpdGVDb250ZW50WyRpbmRleCArIDFdLnR5cGUgIT0gXFwncGljdHVyZXNcXCcgPyBcXCd0bTggYm0xNlxcJyA6IFxcJ3RtOCBibTBcXCdcIiBjbGFzcz1cInBpcC1jb21wb3NpdGUtcGljdHVyZXNcIj48cGlwLWNvbGxhZ2UgcGlwLXBpY3R1cmVzPVwiaXRlbS5waWNJZHNcIiBwaXAtdW5pcXVlLWNvZGU9XCJpdGVtLmlkXCIgcGlwLW11bHRpcGxlPVwidHJ1ZVwiIHBpcC1vcGVuPVwiJGN0cmwuZGlzYWJsZUNvbnRyb2xcIiBwaXAtcmViaW5kPVwidHJ1ZVwiIG5nLWRpc2FibGVkPVwiJGN0cmwuZGlzYWJsZUNvbnRyb2xcIj48L3BpcC1jb2xsYWdlPjwvZGl2PjxkaXYgbmctaWY9XCJpdGVtLnR5cGUgPT0gXFwnZG9jdW1lbnRzXFwnICYmIGl0ZW0uZG9jcyAmJiBpdGVtLmRvY3MubGVuZ3RoID4gMFwiIGNsYXNzPVwicGlwLWNvbXBvc2l0ZS1kb2N1bWVudHMgbGF5b3V0LXJvdyBmbGV4XCI+PHBpcC1kb2N1bWVudC1saXN0IGNsYXNzPVwiZmxleFwiIHBpcC1kb2N1bWVudHM9XCJpdGVtLmRvY3NcIiBwaXAtcmViaW5kPVwidHJ1ZVwiIHBpcC1kb2N1bWVudC1pY29uPVwidHJ1ZVwiIHBpcC1jb2xsYXBzZT1cInRydWVcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLmRpc2FibGVDb250cm9sXCI+PC9waXAtZG9jdW1lbnQtbGlzdD48L2Rpdj48ZGl2IG5nLWlmPVwiaXRlbS50eXBlID09IFxcJ2NoZWNrbGlzdFxcJyAmJiBpdGVtLmNoZWNrbGlzdCAmJiBpdGVtLmNoZWNrbGlzdC5sZW5ndGggPiAwXCIgY2xhc3M9XCJwaXAtY29tcG9zaXRlLWNoZWNrbGlzdFwiPjxwaXAtY2hlY2tsaXN0LXZpZXcgcGlwLW9wdGlvbnM9XCJpdGVtLmNoZWNrbGlzdFwiIHBpcC1jaGFuZ2VkPVwiJGN0cmwub25Db250ZW50Q2hhbmdlKClcIiBwaXAtcmViaW5kPVwidHJ1ZVwiIHBpcC1jb2xsYXBzZT1cInRydWVcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLmRpc2FibGVkQ2hlY2tsaXN0XCI+PC9waXAtY2hlY2tsaXN0LXZpZXc+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1jb21wb3NpdGUtbG9jYXRpb24gbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tc3RhcnQtY2VudGVyIGZsZXhcIiBuZy1pZj1cIml0ZW0udHlwZSA9PSBcXCdsb2NhdGlvblxcJyAmJiAoaXRlbS5sb2NfcG9zIHx8IGl0ZW0ubG9jX25hbWUpXCI+PHBpcC1sb2NhdGlvbiBjbGFzcz1cImZsZXhcIiBwaXAtbG9jYXRpb24tbmFtZT1cIml0ZW0ubG9jX25hbWVcIiBwaXAtbG9jYXRpb24tcG9zPVwiaXRlbS5sb2NfcG9zXCIgcGlwLWNvbGxhcHNlPVwidHJ1ZVwiIHBpcC1zaG93LWxvY2F0aW9uLWljb249XCJ0cnVlXCIgbmctZGlzYWJsZWQ9XCIkY3RybC5kaXNhYmxlQ29udHJvbFwiIHBpcC1yZWJpbmQ9XCJ0cnVlXCI+PC9waXAtbG9jYXRpb24+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1jb21wb3NpdGUtdGltZSBsYXlvdXQtcm93IGxheW91dC1hbGlnbi1zdGFydC1jZW50ZXIgZmxleFwiIG5nLWlmPVwiaXRlbS50eXBlID09IFxcJ3RpbWVcXCcgJiYgKGl0ZW0uc3RhcnQgfHwgaXRlbS5lbmQpXCI+PG1kLWljb24gbWQtc3ZnLWljb249XCJpY29uczp0aW1lXCIgY2xhc3M9XCJybTI0IGxtMFwiPjwvbWQtaWNvbj48cGlwLXRpbWUtcmFuZ2UgcGlwLXN0YXJ0LWRhdGU9XCJpdGVtLnN0YXJ0XCIgcGlwLWVuZC1kYXRlPVwiaXRlbS5lbmRcIiBwaXAtcmViaW5kPVwidHJ1ZVwiIG5nLWRpc2FibGVkPVwiJGN0cmwuZGlzYWJsZUNvbnRyb2xcIj48L3BpcC10aW1lLXJhbmdlPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvc2l0ZV90b29sYmFyL0NvbXBvc2l0ZVRvb2xiYXIuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJsYXlvdXQtcm93IGxheW91dC1hbGlnbi1zdGFydC1zdGFydCBmbGV4XCI+PG1kLWJ1dHRvbiBjbGFzcz1cInBpcC1jb21wb3NpdGUtYnV0dG9uXCIgbmctaWY9XCIhJGN0cmwuZW1wdHlTdGF0ZVwiIG5nLWNsYXNzPVwieyBcXCdyZW1vdmUtaXRlbVxcJzogISRjdHJsLmVtcHR5U3RhdGUgLCBcXCduZXctaXRlbVxcJzogISRjdHJsLmVtcHR5U3RhdGUgfVwiIG5nLWNsaWNrPVwiJGN0cmwub25BZGRJdGVtKFxcJ3RleHRcXCcpO1wiIGFyaWEtbGFiZWw9XCJDT01QT1NJVEUtQlVUVE9OLVRFWFRcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWRcIj48bWQtaWNvbiBjbGFzcz1cImljb24tdGV4dC1ibG9ja1wiIG1kLXN2Zy1pY29uPVwiaWNvbnM6dGV4dFwiPjwvbWQtaWNvbj48bWQtdG9vbHRpcD57ezo6XFwnVEVYVFxcJ3wgdHJhbnNsYXRlfX08L21kLXRvb2x0aXA+PC9tZC1idXR0b24+PG1kLWJ1dHRvbiBuZy1pZj1cIiRjdHJsLnRvb2xiYXJCdXR0b24uY2hlY2tsaXN0XCIgbmctY2xpY2s9XCIkY3RybC5vbkFkZEl0ZW0oXFwnY2hlY2tsaXN0XFwnKVwiIG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZFwiIGNsYXNzPVwicGlwLWNvbXBvc2l0ZS1idXR0b25cIiBhcmlhLWxhYmVsPVwiQ09NUE9TSVRFLUJVVFRPTi1DSEVDS0xJU1RcIj48bWQtaWNvbiBjbGFzcz1cImljb24tY2hlY2tib3gtb25cIiBtZC1zdmctaWNvbj1cImljb25zOmNoZWNrYm94LW9uXCI+PC9tZC1pY29uPjxtZC10b29sdGlwPnt7OjpcXCdDSEVDS0xJU1RcXCd8IHRyYW5zbGF0ZX19PC9tZC10b29sdGlwPjwvbWQtYnV0dG9uPjxtZC1idXR0b24gbmctaWY9XCIkY3RybC50b29sYmFyQnV0dG9uLnBpY3R1cmVcIiBuZy1jbGljaz1cIiRjdHJsLm9uQWRkSXRlbShcXCdwaWN0dXJlc1xcJylcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWRcIiBjbGFzcz1cInBpcC1jb21wb3NpdGUtYnV0dG9uXCIgYXJpYS1sYWJlbD1cIkNPTVBPU0lURS1CVVRUT04tUElDVFVSRVNcIj48bWQtaWNvbiBjbGFzcz1cImljb24tY2FtZXJhXCIgbWQtc3ZnLWljb249XCJpY29uczpjYW1lcmFcIj48L21kLWljb24+PG1kLXRvb2x0aXA+e3s6OlxcJ1BJQ1RVUkVcXCd8IHRyYW5zbGF0ZX19PC9tZC10b29sdGlwPjwvbWQtYnV0dG9uPjxtZC1idXR0b24gbmctY2xpY2s9XCIkY3RybC5vbkFkZEl0ZW0oXFwnZG9jdW1lbnRzXFwnKVwiIG5nLWlmPVwiJGN0cmwudG9vbGJhckJ1dHRvbi5kb2N1bWVudFwiIG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZFwiIGNsYXNzPVwicGlwLWNvbXBvc2l0ZS1idXR0b25cIiBhcmlhLWxhYmVsPVwiQ09NUE9TSVRFLUJVVFRPTi1ET0NVTUVOVFNcIj48bWQtaWNvbiBjbGFzcz1cImljb24tZG9jdW1lbnRcIiBtZC1zdmctaWNvbj1cImljb25zOmRvY3VtZW50XCI+PC9tZC1pY29uPjxtZC10b29sdGlwPnt7OjpcXCdET0NVTUVOVFxcJ3wgdHJhbnNsYXRlfX08L21kLXRvb2x0aXA+PC9tZC1idXR0b24+PG1kLWJ1dHRvbiBuZy1jbGljaz1cIiRjdHJsLm9uQWRkSXRlbShcXCdsb2NhdGlvblxcJylcIiBuZy1pZj1cIiRjdHJsLnRvb2xiYXJCdXR0b24ubG9jYXRpb25cIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWRcIiBjbGFzcz1cInBpcC1jb21wb3NpdGUtYnV0dG9uXCIgYXJpYS1sYWJlbD1cIkNPTVBPU0lURS1CVVRUT04tTE9DQVRJT05TXCI+PG1kLWljb24gY2xhc3M9XCJpY29uLWxvY2F0aW9uXCIgbWQtc3ZnLWljb249XCJpY29uczpsb2NhdGlvblwiPjwvbWQtaWNvbj48bWQtdG9vbHRpcD57ezo6XFwnTE9DQVRJT05cXCd8IHRyYW5zbGF0ZX19PC9tZC10b29sdGlwPjwvbWQtYnV0dG9uPjxtZC1idXR0b24gbmctY2xpY2s9XCIkY3RybC5vbkFkZEl0ZW0oXFwndGltZVxcJylcIiBuZy1pZj1cIiRjdHJsLnRvb2xiYXJCdXR0b24uZXZlbnRcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWRcIiBjbGFzcz1cInBpcC1jb21wb3NpdGUtYnV0dG9uXCIgYXJpYS1sYWJlbD1cIkNPTVBPU0lURS1CVVRUT04tVElNRVwiPjxtZC1pY29uIGNsYXNzPVwiaWNvbi10aW1lXCIgbWQtc3ZnLWljb249XCJpY29uczp0aW1lXCI+PC9tZC1pY29uPjxtZC10b29sdGlwPnt7OjpcXCdUSU1FXFwnfCB0cmFuc2xhdGV9fTwvbWQtdG9vbHRpcD48L21kLWJ1dHRvbj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBDb21wb3NpdGUuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBDb21wb3NpdGUuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb3NpdGVfdmlldy9Db21wb3NpdGVWaWV3Lmh0bWwnLFxuICAgICc8ZGl2IG5nLXJlcGVhdD1cIml0ZW0gaW4gJGN0cmwuY29tcG9zaXRlQ29udGVudCB0cmFjayBieSAkaW5kZXhcIj48ZGl2IGNsYXNzPVwicGlwLWNvbXBvc2l0ZS10ZXh0IGxwMjQtZmxleCBycDI0LWZsZXhcIiBuZy1pZj1cIml0ZW0udHlwZSA9PSBcXCd0ZXh0XFwnICYmIGl0ZW0udGV4dFwiIG5nLWNsYXNzPVwie1xcJ2JtMTZcXCc6ICRsYXN0fVwiPjxwaXAtbWFya2Rvd24gcGlwLXRleHQ9XCJpdGVtLnRleHRcIiBwaXAtcmViaW5kPVwidHJ1ZVwiIG5nLWRpc2FibGVkPVwidHJ1ZVwiPjwvcGlwLW1hcmtkb3duPjwvZGl2PjxkaXYgbmctaWY9XCJpdGVtLnR5cGUgPT0gXFwncGljdHVyZXNcXCcgJiYgaXRlbS5waWNJZHMgJiYgaXRlbS5waWNJZHMubGVuZ3RoID4gMFwiIG5nLWNsYXNzPVwiJGN0cmwuY29tcG9zaXRlQ29udGVudFskaW5kZXggLSAxXS50eXBlICE9IFxcJ3BpY3R1cmVzXFwnID8gJGN0cmwuY29tcG9zaXRlQ29udGVudFskaW5kZXggKyAxXS50eXBlICE9IFxcJ3BpY3R1cmVzXFwnID8gXFwndG0xNiBibTE2XFwnIDogXFwndG0xNiBibTBcXCcgOiAkY3RybC5jb21wb3NpdGVDb250ZW50WyRpbmRleCArIDFdLnR5cGUgIT0gXFwncGljdHVyZXNcXCcgPyBcXCd0bTggYm0xNlxcJyA6IFxcJ3RtOCBibTBcXCdcIiBjbGFzcz1cInBpcC1jb21wb3NpdGUtcGljdHVyZXMgbHAyNC1mbGV4IHJwMjQtZmxleFwiPjxwaXAtY29sbGFnZSBwaXAtcGljdHVyZXM9XCJpdGVtLnBpY0lkc1wiIHBpcC11bmlxdWUtY29kZT1cIml0ZW0uaWRcIiBwaXAtbXVsdGlwbGU9XCJ0cnVlXCIgcGlwLW9wZW49XCJ0cnVlXCIgcGlwLXJlYmluZD1cInRydWVcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWRcIj48L3BpcC1jb2xsYWdlPjwvZGl2PjxkaXYgbmctaWY9XCJpdGVtLnR5cGUgPT0gXFwnZG9jdW1lbnRzXFwnICYmIGl0ZW0uZG9jcyAmJiBpdGVtLmRvY3MubGVuZ3RoID4gMFwiIGNsYXNzPVwicGlwLWNvbXBvc2l0ZS1kb2N1bWVudHMgbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tc3RhcnQtc3RhcnQgZmxleFwiPjxwaXAtZG9jdW1lbnQtbGlzdCBwaXAtZG9jdW1lbnRzPVwiaXRlbS5kb2NzXCIgcGlwLWRvY3VtZW50LWljb249XCJ0cnVlXCIgcGlwLXJlYmluZD1cInRydWVcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLm5nRGlzYWJsZWRcIj48L3BpcC1kb2N1bWVudC1saXN0PjwvZGl2PjxkaXYgbmctaWY9XCJpdGVtLnR5cGUgPT0gXFwnY2hlY2tsaXN0XFwnICYmIGl0ZW0uY2hlY2tsaXN0ICYmIGl0ZW0uY2hlY2tsaXN0Lmxlbmd0aCA+IDBcIiBjbGFzcz1cInBpcC1jb21wb3NpdGUtY2hlY2tsaXN0IGxwMjQtZmxleCBycDI0LWZsZXhcIj48cGlwLWNoZWNrbGlzdC12aWV3IHBpcC1vcHRpb25zPVwiaXRlbS5jaGVja2xpc3RcIiBwaXAtY2hhbmdlZD1cIiRjdHJsLm9uQ29udGVudENoYW5nZSgpXCIgcGlwLXJlYmluZD1cInRydWVcIiBuZy1kaXNhYmxlZD1cIiRjdHJsLmlzRGlzYWJsZWQoKVwiPjwvcGlwLWNoZWNrbGlzdC12aWV3PjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtY29tcG9zaXRlLWxvY2F0aW9uIGxheW91dC1yb3cgbGF5b3V0LWFsaWduLXN0YXJ0LXN0YXJ0IGZsZXhcIiBuZy1pZj1cIml0ZW0udHlwZSA9PSBcXCdsb2NhdGlvblxcJyAmJiAoaXRlbS5sb2NfcG9zIHx8IGl0ZW0ubG9jX25hbWUpXCI+PHBpcC1sb2NhdGlvbiBjbGFzcz1cImZsZXhcIiBwaXAtbG9jYXRpb24tbmFtZT1cIml0ZW0ubG9jX25hbWVcIiBwaXAtbG9jYXRpb24tcG9zPVwiaXRlbS5sb2NfcG9zXCIgcGlwLXNob3ctbG9jYXRpb24taWNvbj1cInRydWVcIiBwaXAtY29sbGFwc2U9XCJmYWxzZVwiIG5nLWRpc2FibGVkPVwiJGN0cmwubmdEaXNhYmxlZFwiIHBpcC1yZWJpbmQ9XCJ0cnVlXCI+PC9waXAtbG9jYXRpb24+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1jb21wb3NpdGUtdGltZSBscDI0LWZsZXggcnAyNC1mbGV4IGxheW91dC1yb3cgbGF5b3V0LWFsaWduLXN0YXJ0LWNlbnRlciBmbGV4XCIgbmctaWY9XCJpdGVtLnR5cGUgPT0gXFwndGltZVxcJ1wiPjxtZC1pY29uIG1kLXN2Zy1pY29uPVwiaWNvbnM6dGltZVwiIGNsYXNzPVwibG0wXCI+PC9tZC1pY29uPjxwaXAtdGltZS1yYW5nZSBwaXAtc3RhcnQtZGF0ZT1cIml0ZW0uc3RhcnRcIiBwaXAtZW5kLWRhdGU9XCJpdGVtLmVuZFwiIHBpcC1yZWJpbmQ9XCJ0cnVlXCIgbmctZGlzYWJsZWQ9XCJuZ0Rpc2FibGVkKClcIj48L3BpcC10aW1lLXJhbmdlPjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtY29tcG9zaXRlLWVtYmVkZGVkIGxwMjQtZmxleCBycDI0LWZsZXggbGF5b3V0LXJvdyBsYXlvdXQtYWxpZ24tc3RhcnQtY2VudGVyIGZsZXhcIiBuZy1pZj1cIml0ZW0udHlwZSA9PSBcXCdlbWJlZGRlZFxcJyAmJiBpdGVtLmVtYmVkX3VyaVwiPjxwaXAtZW1iZWRkZWQtdmlldyBjbGFzcz1cImJtOFwiIHBpcC1lbWJlZGRlZC10eXBlPVwiaXRlbS5lbWJlZF90eXBlXCIgcGlwLWVtYmVkZGVkLXVyaT1cIml0ZW0uZW1iZWRfdXJpXCI+PC9waXAtZW1iZWRkZWQtdmlldz48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBDb21wb3NpdGUuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBDb21wb3NpdGUuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb250ZW50X3N3aXRjaC9Db250ZW50U3dpdGNoLmh0bWwnLFxuICAgICc8bWQtYnV0dG9uIG5nLWNsaWNrPVwic2hvd1BpY3R1cmVzID0gIXNob3dQaWN0dXJlczsgb25CdXR0b25DbGljayhcXCdwaWN0dXJlc1xcJylcIiBhcmlhLWxhYmVsPVwic2hvd1BpY3R1cmVzXCIgY2xhc3M9XCJtZC1pY29uLWJ1dHRvblwiIG5nLXNob3c9XCJzaG93SWNvblBpY3R1cmVcIiBuZy1kaXNhYmxlZD1cInRyYW5zYWN0aW9uLmJ1c3koKVwiPjxtZC1pY29uIGNsYXNzPVwiYWN0aXZlLWNhbWVyYVwiIG5nLWNsYXNzPVwieyBcXCdhY3RpdmUtY2FtZXJhXFwnOiBzaG93UGljdHVyZXMgfVwiIG1kLXN2Zy1pY29uPVwiaWNvbnM6Y2FtZXJhXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjxtZC1idXR0b24gbmctY2xpY2s9XCJzaG93RG9jdW1lbnRzID0gIXNob3dEb2N1bWVudHM7IG9uQnV0dG9uQ2xpY2soXFwnZG9jdW1lbnRzXFwnKVwiIGFyaWEtbGFiZWw9XCJzaG93RG9jdW1lbnRzXCIgY2xhc3M9XCJtZC1pY29uLWJ1dHRvblwiIG5nLXNob3c9XCJzaG93SWNvbkRvY3VtZW50XCIgbmctZGlzYWJsZWQ9XCJ0cmFuc2FjdGlvbi5idXN5KClcIj48bWQtaWNvbiBuZy1jbGFzcz1cInsgXFwnYWN0aXZlLWRvY3VtZW50XFwnOiBzaG93RG9jdW1lbnRzIH1cIiBtZC1zdmctaWNvbj1cImljb25zOmRvY3VtZW50XCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjxtZC1idXR0b24gbmctY2xpY2s9XCJzaG93RXZlbnQgPSAhc2hvd0V2ZW50OyBvbkJ1dHRvbkNsaWNrKFxcJ2V2ZW50XFwnKVwiIGFyaWEtbGFiZWw9XCJzaG93RXZlbnRcIiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCIgbmctc2hvdz1cInNob3dJY29uRXZlbnRcIiBuZy1kaXNhYmxlZD1cInRyYW5zYWN0aW9uLmJ1c3koKVwiPjxtZC1pY29uIG5nLWNsYXNzPVwieyBcXCdhY3RpdmUtdGltZVxcJzogc2hvd0V2ZW50IH1cIiBtZC1zdmctaWNvbj1cImljb25zOnRpbWVcIj48L21kLWljb24+PC9tZC1idXR0b24+PG1kLWJ1dHRvbiBuZy1jbGljaz1cInNob3dMb2NhdGlvbiA9ICFzaG93TG9jYXRpb247IG9uQnV0dG9uQ2xpY2soXFwnbG9jYXRpb25cXCcpXCIgYXJpYS1sYWJlbD1cInNob3dMb2NhdGlvblwiIGNsYXNzPVwibWQtaWNvbi1idXR0b25cIiBuZy1zaG93PVwic2hvd0ljb25Mb2NhdGlvblwiIG5nLWRpc2FibGVkPVwidHJhbnNhY3Rpb24uYnVzeSgpXCI+PG1kLWljb24gbmctY2xhc3M9XCJ7IFxcJ2FjdGl2ZS1sb2NhdGlvblxcJzogc2hvd0xvY2F0aW9uIH1cIiBtZC1zdmctaWNvbj1cImljb25zOmxvY2F0aW9uXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbXBvc2l0ZS5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2VtYmVkZGVkX2VkaXQvRW1iZWRkZWRFZGl0Lmh0bWwnLFxuICAgICc8Zm9ybSBuYW1lPVwiZW1iZWRkZWRcIj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2sgZmxleCBibTI0XCI+PGxhYmVsPnt7IDo6XFwnRU1CRURERURfVFlQRV9MQUJFTFxcJ3wgdHJhbnNsYXRlIH19PC9sYWJlbD48bWQtc2VsZWN0IG5nLW1vZGVsPVwiJGN0cmwuZW1iZWRfdHlwZVwiIG5nLWNoYW5nZT1cIiRjdHJsLm9uQ2hhbmdlVHlwZSgpXCIgbmctZGlzYWJsZWQ9XCIkY3RybC5pc0Rpc2FibGVkKClcIj48bWQtb3B0aW9uIG5nLXJlcGVhdD1cInQgaW4gJGN0cmwuZW1iZWRkZWRUeXBlQ29sbGVjdGlvbiB0cmFjayBieSAkaW5kZXhcIiBuZy12YWx1ZT1cInQuaWRcIj57eyA6OnQudGl0bGUgfCB0cmFuc2xhdGUgfX08L21kLW9wdGlvbj48L21kLXNlbGVjdD48L21kLWlucHV0LWNvbnRhaW5lcj48bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVwibWQtYmxvY2sgZmxleFwiPjxsYWJlbD57ezo6XFwnRU1CRURERURfVVJMX0xBQkVMXFwnIHwgdHJhbnNsYXRlfX08L2xhYmVsPiA8aW5wdXQgbmctbW9kZWw9XCIkY3RybC5lbWJlZF91cmlcIiBuZy1yZXF1aXJlZD1cIiRjdHJsLmVtYmVkX3VyaVwiIHR5cGU9XCJ1cmxcIiBuYW1lPVwidXJsXCIgbmctY2hhbmdlPVwiJGN0cmwub25DaGFuZ2VVcmwoKVwiIG5nLWRpc2FibGVkPVwiJGN0cmwuaXNEaXNhYmxlZCgpXCIgbmctbW9kZWwtb3B0aW9ucz1cInsgZGVsYXk6IDUwMCB9XCI+PGRpdiBjbGFzcz1cImhpbnRcIiBuZy1pZj1cIiFlbWJlZGRlZC51cmwuJGVycm9yXCI+e3s6OlxcJ0VNQkVEREVEX1RZUEVfSElOVFxcJyB8IHRyYW5zbGF0ZX19PC9kaXY+PGRpdiBuZy1tZXNzYWdlcz1cImVtYmVkZGVkLnVybC4kZXJyb3JcIiByb2xlPVwiYWxlcnRcIj48ZGl2IG5nLW1lc3NhZ2U9XCJ1cmxcIj57eyBcXCdFTUJFRERFRF9VUkxfRVJST1JcXCcgfCB0cmFuc2xhdGUgfX08L2Rpdj48L2Rpdj48L21kLWlucHV0LWNvbnRhaW5lcj48L2Zvcm0+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwQ29tcG9zaXRlLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwQ29tcG9zaXRlLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnZW1iZWRkZWRfdmlldy9FbWJlZGRlZFZpZXcuaHRtbCcsXG4gICAgJzxpZnJhbWUgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTcwXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPVwiXCIgbmctaWY9XCIkY3RybC5lbWJlZF90eXBlID09IFxcJ3lvdXR1YmVcXCdcIiBuZy1zcmM9XCJ7eyAkY3RybC5lbWJlZF91cmkgfX1cIiBzdHlsZT1cIm1hcmdpbjogMCBhdXRvO1wiPjwvaWZyYW1lPjxpZnJhbWUgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTcwXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPVwiXCIgc3R5bGU9XCJtYXJnaW46IDAgYXV0bztcIiBuZy1zcmM9XCJ7eyAkY3RybC5lbWJlZF91cmkgfX1cIiBuZy1pZj1cIiRjdHJsLmVtYmVkX3R5cGUgPT0gXFwnY3VzdG9tXFwnXCI+PHA+PGEgaHJlZj1cInt7ICRjdHJsLmVtYmVkX3VyaSB9fVwiPnt7ICRjdHJsLmVtYmVkX3VyaSB9fTwvYT48L3A+PC9pZnJhbWU+Jyk7XG59XSk7XG59KSgpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXAtc3VpdGUtY29tcG9zaXRlLWh0bWwubWluLmpzLm1hcFxuIl19"}