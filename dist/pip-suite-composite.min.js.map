{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","../node_modules/async/lib/async.js","../node_modules/process/browser.js","../node_modules/timers-browserify/main.js","src/checklist_edit/ChecklistEdit.ts","src/checklist_view/ChecklistView.ts","src/composite_edit/CompositeEdit.ts","src/composite_summary/CompositeSummary.ts","src/composite_toolbar/CompositeToolbar.ts","src/composite_view/CompositeView.ts","src/content_switch/ContentSwitch.ts","src/data/ChecklistItem.ts","src/data/Content.ts","src/data/ContentBlockType.ts","src/data/EmbeddedType.ts","src/data/index.ts","src/embedded_edit/EmbeddedEdit.ts","src/embedded_view/EmbeddedView.ts","src/index.ts","src/mobile_mouse/MobileMousedown.ts","src/mobile_mouse/MobileMouseup.ts","src/mobile_mouse/index.ts","src/utilities/CompositeFocused.ts","temp/pip-suite-composite-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","standalone","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","previous_async","async","noop","identity","v","toBool","notId","root","only_once","fn","apply","arguments","_once","noConflict","_toString","Object","prototype","toString","_isArray","Array","isArray","obj","_isArrayLike","arr","_arrayEach","iterator","index","_map","result","_range","count","_indexOf","item","_keys","keys","k","hasOwnProperty","push","_keyIterator","coll","len","_restParam","func","startIndex","Math","max","rest","_withoutIndex","value","callback","_setImmediate","setImmediate","_delay","setTimeout","_eachOfLimit","limit","nextKey","done","running","errored","replenish","key","err","doParallel","eachOf","doParallelLimit","doSeries","eachOfSeries","_asyncMap","eachfn","results","_filter","x","sort","b","_reject","cb","_createTester","check","getResult","iteratee","_","_findGetResult","_parallel","tasks","task","args","_concat","y","concat","_queue","worker","concurrency","payload","_insert","q","data","pos","started","idle","drain","unshift","saturated","process","_next","workers","removed","workersList","splice","empty","paused","kill","pause","resume","resumeCount","min","w","_console_fn","name","console","error","_times","mapper","_applyEach","fns","go","that","pop","ensureAsync","innerArgs","sync","nextTick","forEach","each","forEachSeries","eachSeries","forEachLimit","eachLimit","forEachOf","object","iter","completed","forEachOfSeries","iterate","forEachOfLimit","eachOfLimit","map","mapSeries","mapLimit","inject","foldl","reduce","memo","foldr","reduceRight","reversed","reverse","transform","select","filter","selectLimit","filterLimit","selectSeries","filterSeries","reject","rejectLimit","rejectSeries","any","some","someLimit","all","every","everyLimit","detect","detectSeries","detectLimit","sortBy","comparator","left","right","criteria","auto","remainingTasks","runningTasks","hasError","listeners","addListener","taskComplete","slice","dep","taskCallback","safeResults","val","rkey","requires","join","ready","listener","idx","retry","times","attempts","opts","interval","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","retryInterval","series","acc","parseInt","parseTimes","waterfall","wrapIterator","next","parallel","parallelLimit","makeCallback","callArgs","concatSeries","whilst","test","doWhilst","calls","until","doUntil","during","truth","doDuring","queue","items","priorityQueue","_compareTasks","priority","sequence","compare","beg","end","mid","_binarySearch","cargo","log","dir","memoize","hasher","queues","has","memoized","l","unmemoized","unmemoize","timesSeries","timesLimit","seq","newargs","nextargs","compose","applyEach","applyEachSeries","forever","constant","values","wrapSync","asyncify","type","then","message","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","title","browser","env","argv","version","versions","on","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","umask","Function","immediateIds","nextImmediateId","Timeout","id","clearFn","_id","_clearFn","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","ChecklistDraggEvent","ChecklistSelected_1","dragId","isChanged","ChecklistEdit","bindings","ngDisabled","pipChanged","pipDraggable","pipOptions","pipScrollContainer","pipRebind","templateUrl","controller","ChecklistEditController","$inject","$onChanges","changes","toBoolean","currentValue","angular","equals","selected","generateList","toLowerCase","getCaret","el","selectionStart","$document","selection","focus","createRange","re","createTextRange","rc","duplicate","moveToBookmark","getBookmark","setEndPoint","text","setSelectionRange","input","selectionEnd","range","collapse","moveEnd","moveStart","setCaretToPos","addItem","newItem","getNewItem","checklistContent","setFocus","_debounceChange","updateContents","content","checked","toPos","_this","nextElement","element","undefined","isEmpty","now","Date","clearList","setWidth100","css","setWidth","isWidth","width","onItemFocus","isSelectedItem","onAddItem","onChangeItem","onClick","$event","onTextAreaClick","onDropComplete","placeIndex","componentId","drag","tmpIndex","checklist","cloneDeep","i_1","onMove","onStop","$timeout","dragInit","onStart","onDownDragg","$rootScope","$broadcast","onDeleteItem","onChecked","onChecklistChange","onTextareaKeyDown","textareaLength","posCaret","target","keyCode","ctrlKey","shiftKey","position","stopPropagation","preventDefault","valueCurrent","substring","$element","addClass","debounce","component","defineProperty","ChecklistView","ChecklistViewController","ChecklistEdit_1","CompositeFocused_1","data_1","CompositeEmptyEvent","CompositeAddItemEvent","CompositeNotEmptyEvent","CompositeAddItem","pipTranslate","setTranslations","COMPOSITE_TITLE","COMPOSITE_PLACEHOLDER","COMPOSITE_START_TIME","COMPOSITE_END_TIME","CompositeControl","ContentBlock","__extends","CompositeContent","_super","CompositeBlockTypes","Text","Pictures","Checklist","Documents","Location","Time","SecondaryBlock","PrimaryBlock","All","CompositeEdit","pipCreated","pipContents","compositeId","pipCompositePlaceholder","addedContent","abortContent","compositeContent","pictures","abort","documents","getPicIdsArray","saveContent","successCallback","errorCallback","abortFirstError","save","picIds","pic_ids","saveFirstError","docs","onCompositeChange","$onDestroy","isFunction","cleanupCompositeEvent","cleanupChecklistDraggEvent","cleanupCompositeFocusedEvent","previousValue","setPlaceholder","executeCallback","event","control","getEmptyItem","getId","loc_pos","loc_name","start","compositePlaceholder","translate","defaultPlaceholder","contentType","indexOf","CONTENT_TYPES","findIndex","onSelect","scrollTo","isFirst","setToolbar","parentElement","childElement","$","abs","scrollTop","top","animate","getPicIds","ids","$emit","CompositeEditController","getParentIndex","elParent","parent","strs","split","isActiveChecklist","onKeyUp","focusedElement","activeElement","parentIndex","onKeyDown","onContentChange","isSelectedSection","onDraggEnd","tagName","is","$q","CompositeSelected_1","$on","CompositeFocusedEvent","../checklist_edit/ChecklistEdit","../data","../utilities/CompositeFocused","7","CompositeSummary","pipChecklistSize","pipTextSize","pipPrimaryBlockLimit","pipSecondaryBlockLimit","pipSecondaryBlockTypes","limitChecklist","ellapsed","CompositeEdit_1","checklistLength","take","selectSummary","selectSummarySecondary","types","id_1","summaryContent","CompositeSummaryController","disableControl","disabledChecklist","8","CompositeAddItemEventParams","picture","document","location","CompositeToolbarButton","pipTranslateProvider","translations","TEXT","CHECKLIST","LOCATION","PICTURE","TIME","DOCUMENT","emptyState","pipToolbarButton","setOption","CompositeToolbarController","params","assign","toolbarButton","config","translateConfig","CompositeToolbar","9","pipDisabledChecklist","CompositeViewController","isDisabled","$attrs","CompositeView","ContentSwitch","$parse","restrict","scope","$scope","contentSwitchOption","showIconPicture","showIconDocument","showIconLocation","showIconEvent","onButtonClick","showEvent","showDocuments","showPictures","showLocation","ContentSwitchLink_1","pipParentElementName","parentElementNameGetter","directive","ChecklistItem","13","ContentBlockType","Embedded","Custom","14","EmbeddedType","Youtube","15","./ChecklistItem","./Content","./ContentBlockType","16","EmbeddedType_1","EmbeddedEditBindings","embed_type","embed_uri","$onInit","init","$postLink","form","embedded","onChangeType","url","$error","onChange","EmbeddedEditController","onChangeUrl","$state","pipMedia","embeddedTypeCollection","shortTitle","declaredEmbeddedEditResources","EMBEDDED_TYPE_LABEL","EMBEDDED_URL_LABEL","EMBEDDED_TYPE_HINT","EMBEDDED_URL_ERROR","EMBEDDED_TYPE_CUSTOM","EMBEDDED_TYPE_YOUTUBE","EMBEDDED_TYPE_CUSTOM_SHORT","EMBEDDED_TYPE_YOUTUBE_SHORT","controllerAs","../data/EmbeddedType","17","EmbeddedViewController","declaredEmbeddedViewResources","resourceYoutubeConfig","$sceDelegateProvider","resourceUrlWhitelist","EmbeddedViewBindings","18","m","./checklist_view/ChecklistView","./composite_edit/CompositeEdit","./composite_summary/CompositeSummary","./composite_toolbar/CompositeToolbar","./composite_view/CompositeView","./content_switch/ContentSwitch","./data","./embedded_edit/EmbeddedEdit","./embedded_view/EmbeddedView","./mobile_mouse","./utilities/CompositeFocused","19","MobileMousedown_1","elem","attrs","bind","$apply","pipMobileMousedown","20","MobileMouseup_1","./MobileMouseup","22","CompositeFocusedController_1","23","$templateCache","put"],"mappings":"CAAA,SAAAA,GAAA,GAAA,iBAAAC,SAAA,oBAAAC,OAAAA,OAAAD,QAAAD,SAAA,GAAA,mBAAAG,QAAAA,OAAAC,IAAAD,OAAA,GAAAH,OAAA,CAAA,IAAAK,IAAAA,EAAA,oBAAAC,OAAAA,OAAA,oBAAAC,OAAAA,OAAA,oBAAAC,KAAAA,KAAAC,MAAAC,MAAAL,EAAAK,IAAA,KAAAC,WAAAX,KAAA,CAAA,WAAA,OAAA,SAAAY,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAjB,GAAA,IAAAc,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAC,EAAA,mBAAAC,SAAAA,QAAA,IAAAnB,GAAAkB,EAAA,OAAAA,EAAAD,GAAA,GAAA,GAAAG,EAAA,OAAAA,EAAAH,GAAA,GAAA,IAAAI,EAAA,IAAAC,MAAA,uBAAAL,EAAA,KAAA,MAAAI,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAV,EAAAG,GAAA,CAAAhB,QAAA,IAAAY,EAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAhB,QAAA,IAAA,IAAAmB,EAAA,mBAAAD,SAAAA,QAAAF,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAW,EAAA,CAAA,SAAAR,EAAAjB,EAAAD,qBCOA,WAEA,IAaA2B,EAbAC,EAAA,GACA,SAAAC,KACA,SAAAC,EAAAC,GACA,OAAAA,EAEA,SAAAC,EAAAD,GACA,QAAAA,EAEA,SAAAE,EAAAF,GACA,OAAAA,EASA,IAAAG,EAAA,iBAAA3B,MAAAA,KAAAA,OAAAA,MAAAA,MACA,iBAAAD,GAAAA,EAAAA,SAAAA,GAAAA,GACAE,KAWA,SAAA2B,EAAAC,GACA,OAAA,WACA,GAAA,OAAAA,EAAA,MAAA,IAAAf,MAAA,gCACAe,EAAAC,MAAA7B,KAAA8B,WACAF,EAAA,MAIA,SAAAG,EAAAH,GACA,OAAA,WACA,OAAAA,IACAA,EAAAC,MAAA7B,KAAA8B,WACAF,EAAA,OArBA,MAAAF,IACAP,EAAAO,EAAAN,OAGAA,EAAAY,WAAA,WAEA,OADAN,EAAAN,MAAAD,EACAC,GAqBA,IAAAa,EAAAC,OAAAC,UAAAC,SAEAC,EAAAC,MAAAC,SAAA,SAAAC,GACA,MAAA,mBAAAP,EAAAjB,KAAAwB,IASA,SAAAC,EAAAC,GACA,OAAAL,EAAAK,IAEA,iBAAAA,EAAAzB,QACA,GAAAyB,EAAAzB,QACAyB,EAAAzB,OAAA,GAAA,EAIA,SAAA0B,EAAAD,EAAAE,GAIA,IAHA,IAAAC,GAAA,EACA5B,EAAAyB,EAAAzB,SAEA4B,EAAA5B,GACA2B,EAAAF,EAAAG,GAAAA,EAAAH,GAIA,SAAAI,EAAAJ,EAAAE,GAKA,IAJA,IAAAC,GAAA,EACA5B,EAAAyB,EAAAzB,OACA8B,EAAAT,MAAArB,KAEA4B,EAAA5B,GACA8B,EAAAF,GAAAD,EAAAF,EAAAG,GAAAA,EAAAH,GAEA,OAAAK,EAGA,SAAAC,EAAAC,GACA,OAAAH,EAAAR,MAAAW,GAAA,SAAA1B,EAAAf,GAAA,OAAAA,IAgBA,SAAA0C,EAAAR,EAAAS,GACA,IAAA,IAAA3C,EAAA,EAAAA,EAAAkC,EAAAzB,OAAAT,IACA,GAAAkC,EAAAlC,KAAA2C,EAAA,OAAA3C,EAEA,OAAA,EAGA,IAAA4C,EAAAlB,OAAAmB,MAAA,SAAAb,GACA,IAAAa,EAAA,GACA,IAAA,IAAAC,KAAAd,EACAA,EAAAe,eAAAD,IACAD,EAAAG,KAAAF,GAGA,OAAAD,GAGA,SAAAI,EAAAC,GACA,IACAC,EACAN,EAFA7C,GAAA,EAGA,OAAAiC,EAAAiB,IACAC,EAAAD,EAAAzC,OACA,WAEA,QADAT,EACAmD,EAAAnD,EAAA,QAGA6C,EAAAD,EAAAM,GACAC,EAAAN,EAAApC,OACA,WAEA,QADAT,EACAmD,EAAAN,EAAA7C,GAAA,OAQA,SAAAoD,EAAAC,EAAAC,GAEA,OADAA,EAAA,MAAAA,EAAAD,EAAA5C,OAAA,GAAA6C,EACA,WAGA,IAFA,IAAA7C,EAAA8C,KAAAC,IAAAlC,UAAAb,OAAA6C,EAAA,GACAG,EAAA3B,MAAArB,GACA4B,EAAA,EAAAA,EAAA5B,EAAA4B,IACAoB,EAAApB,GAAAf,UAAAe,EAAAiB,GAEA,OAAAA,GACA,KAAA,EAAA,OAAAD,EAAA7C,KAAAhB,KAAAiE,GACA,KAAA,EAAA,OAAAJ,EAAA7C,KAAAhB,KAAA8B,UAAA,GAAAmC,KAYA,SAAAC,EAAAtB,GACA,OAAA,SAAAuB,EAAAtB,EAAAuB,GACA,OAAAxB,EAAAuB,EAAAC,IASA,IAAAC,EAAA,mBAAAC,GAAAA,EAEAC,EAAAF,EAAA,SAAAzC,GAEAyC,EAAAzC,IACA,SAAAA,GACA4C,WAAA5C,EAAA,IA+FA,SAAA6C,EAAAC,GAEA,OAAA,SAAAlC,EAAAI,EAAAwB,GACAA,EAAArC,EAAAqC,GAAA/C,GAEA,IAAAsD,EAAAlB,EADAjB,EAAAA,GAAA,IAEA,GAAAkC,GAAA,EACA,OAAAN,EAAA,MAEA,IAAAQ,GAAA,EACAC,EAAA,EACAC,GAAA,GAEA,SAAAC,IACA,GAAAH,GAAAC,GAAA,EACA,OAAAT,EAAA,MAGA,KAAAS,EAAAH,IAAAI,GAAA,CACA,IAAAE,EAAAL,IACA,GAAA,OAAAK,EAKA,OAJAJ,GAAA,OACAC,GAAA,GACAT,EAAA,OAIAS,GAAA,EACAjC,EAAAJ,EAAAwC,GAAAA,EAAArD,EAAA,SAAAsD,KACAJ,EACAI,GACAb,EAAAa,GACAH,GAAA,GAGAC,QAtBA,IA+BA,SAAAG,EAAAtD,GACA,OAAA,SAAAY,EAAAI,EAAAwB,GACA,OAAAxC,EAAAR,EAAA+D,OAAA3C,EAAAI,EAAAwB,IAGA,SAAAgB,EAAAxD,GACA,OAAA,SAAAY,EAAAkC,EAAA9B,EAAAwB,GACA,OAAAxC,EAAA6C,EAAAC,GAAAlC,EAAAI,EAAAwB,IAGA,SAAAiB,EAAAzD,GACA,OAAA,SAAAY,EAAAI,EAAAwB,GACA,OAAAxC,EAAAR,EAAAkE,aAAA9C,EAAAI,EAAAwB,IAIA,SAAAmB,EAAAC,EAAA9C,EAAAE,EAAAwB,GACAA,EAAArC,EAAAqC,GAAA/C,GAEA,IAAAoE,EAAAhD,EADAC,EAAAA,GAAA,IACA,GAAA,GACA8C,EAAA9C,EAAA,SAAAyB,EAAAtB,EAAAuB,GACAxB,EAAAuB,EAAA,SAAAc,EAAA1D,GACAkE,EAAA5C,GAAAtB,EACA6C,EAAAa,MAEA,SAAAA,GACAb,EAAAa,EAAAQ,KA2CA,SAAAC,EAAAF,EAAA9C,EAAAE,EAAAwB,GACA,IAAAqB,EAAA,GACAD,EAAA9C,EAAA,SAAAiD,EAAA9C,EAAAuB,GACAxB,EAAA+C,EAAA,SAAApE,GACAA,GACAkE,EAAAjC,KAAA,CAAAX,MAAAA,EAAAsB,MAAAwB,IAEAvB,OAEA,WACAA,EAAAtB,EAAA2C,EAAAG,KAAA,SAAAhF,EAAAiF,GACA,OAAAjF,EAAAiC,MAAAgD,EAAAhD,QACA,SAAA8C,GACA,OAAAA,EAAAxB,WAcA,SAAA2B,EAAAN,EAAA9C,EAAAE,EAAAwB,GACAsB,EAAAF,EAAA9C,EAAA,SAAAyB,EAAA4B,GACAnD,EAAAuB,EAAA,SAAA5C,GACAwE,GAAAxE,MAEA6C,GAMA,SAAA4B,EAAAR,EAAAS,EAAAC,GACA,OAAA,SAAAxD,EAAAgC,EAAA9B,EAAAmD,GACA,SAAAnB,IACAmB,GAAAA,EAAAG,GAAA,OAAA,IAEA,SAAAC,EAAAR,EAAAS,EAAAhC,GACA,IAAA2B,EAAA,OAAA3B,IACAxB,EAAA+C,EAAA,SAAApE,GACAwE,GAAAE,EAAA1E,KACAwE,EAAAG,GAAA,EAAAP,IACAI,EAAAnD,GAAA,GAEAwB,MAGA,EAAAtC,UAAAb,OACAuE,EAAA9C,EAAAgC,EAAAyB,EAAAvB,IAEAmB,EAAAnD,EACAA,EAAA8B,EACAc,EAAA9C,EAAAyD,EAAAvB,KAeA,SAAAyB,EAAA9E,EAAAoE,GACA,OAAAA,EA2OA,SAAAW,EAAAd,EAAAe,EAAAnC,GACAA,EAAAA,GAAA/C,EACA,IAAAoE,EAAAhD,EAAA8D,GAAA,GAAA,GAEAf,EAAAe,EAAA,SAAAC,EAAAxB,EAAAZ,GACAoC,EAAA5C,EAAA,SAAAqB,EAAAwB,GACAA,EAAAxF,QAAA,IACAwF,EAAAA,EAAA,IAEAhB,EAAAT,GAAAyB,EACArC,EAAAa,OAEA,SAAAA,GACAb,EAAAa,EAAAQ,KAwCA,SAAAiB,EAAAlB,EAAA9C,EAAAd,EAAAwC,GACA,IAAArB,EAAA,GACAyC,EAAA9C,EAAA,SAAAiD,EAAA9C,EAAAkD,GACAnE,EAAA+D,EAAA,SAAAV,EAAA0B,GACA5D,EAAAA,EAAA6D,OAAAD,GAAA,IACAZ,EAAAd,MAEA,SAAAA,GACAb,EAAAa,EAAAlC,KA+EA,SAAA8D,EAAAC,EAAAC,EAAAC,GACA,GAAA,MAAAD,EACAA,EAAA,OAEA,GAAA,IAAAA,EACA,MAAA,IAAAlG,MAAA,gCAEA,SAAAoG,EAAAC,EAAAC,EAAAC,EAAAhD,GACA,GAAA,MAAAA,GAAA,mBAAAA,EACA,MAAA,IAAAvD,MAAA,oCAMA,GAJAqG,EAAAG,SAAA,EACAhF,EAAA8E,KACAA,EAAA,CAAAA,IAEA,IAAAA,EAAAlG,QAAAiG,EAAAI,OAEA,OAAAlG,EAAAkD,aAAA,WACA4C,EAAAK,UAGA5E,EAAAwE,EAAA,SAAAX,GACA,IAAArD,EAAA,CACAgE,KAAAX,EACApC,SAAAA,GAAA/C,GAGA+F,EACAF,EAAAX,MAAAiB,QAAArE,GAEA+D,EAAAX,MAAA/C,KAAAL,GAGA+D,EAAAX,MAAAtF,SAAAiG,EAAAH,aACAG,EAAAO,cAGArG,EAAAkD,aAAA4C,EAAAQ,SAEA,SAAAC,EAAAT,EAAAX,GACA,OAAA,aACAqB,EAEA,IAAAC,GAAA,EACApB,EAAA3E,UACAa,EAAA4D,EAAA,SAAAC,GACA7D,EAAAmF,EAAA,SAAAhB,EAAAjE,GACAiE,IAAAN,GAAAqB,IACAC,EAAAC,OAAAlF,EAAA,GACAgF,GAAA,KAIArB,EAAApC,SAAAvC,MAAA2E,EAAAC,KAEAS,EAAAX,MAAAtF,OAAA2G,IAAA,GACAV,EAAAK,QAEAL,EAAAQ,WAIA,IAAAE,EAAA,EACAE,EAAA,GACAZ,EAAA,CACAX,MAAA,GACAQ,YAAAA,EACAC,QAAAA,EACAS,UAAApG,EACA2G,MAAA3G,EACAkG,MAAAlG,EACAgG,SAAA,EACAY,QAAA,EACAzE,KAAA,SAAA2D,EAAA/C,GACA6C,EAAAC,EAAAC,GAAA,EAAA/C,IAEA8D,KAAA,WACAhB,EAAAK,MAAAlG,EACA6F,EAAAX,MAAA,IAEAiB,QAAA,SAAAL,EAAA/C,GACA6C,EAAAC,EAAAC,GAAA,EAAA/C,IAEAsD,QAAA,WACA,MAAAR,EAAAe,QAAAL,EAAAV,EAAAH,aAAAG,EAAAX,MAAAtF,QAAA,CAEA,IAAAsF,EAAAW,EAAAF,QACAE,EAAAX,MAAAwB,OAAA,EAAAb,EAAAF,SACAE,EAAAX,MAAAwB,OAAA,EAAAb,EAAAX,MAAAtF,QAEAkG,EAAArE,EAAAyD,EAAA,SAAAC,GACA,OAAAA,EAAAW,OAGA,IAAAD,EAAAX,MAAAtF,QACAiG,EAAAc,QAEAJ,GAAA,EACAE,EAAAtE,KAAA+C,EAAA,IACA,IAAAR,EAAApE,EAAAgG,EAAAT,EAAAX,IACAO,EAAAK,EAAApB,KAGA9E,OAAA,WACA,OAAAiG,EAAAX,MAAAtF,QAEA4D,QAAA,WACA,OAAA+C,GAEAE,YAAA,WACA,OAAAA,GAEAR,KAAA,WACA,OAAAJ,EAAAX,MAAAtF,OAAA2G,IAAA,GAEAO,MAAA,WACAjB,EAAAe,QAAA,GAEAG,OAAA,WACA,IAAA,IAAAlB,EAAAe,OAAA,CACAf,EAAAe,QAAA,EAIA,IAHA,IAAAI,EAAAtE,KAAAuE,IAAApB,EAAAH,YAAAG,EAAAX,MAAAtF,QAGAsH,EAAA,EAAAA,GAAAF,EAAAE,IACAnH,EAAAkD,aAAA4C,EAAAQ,YAIA,OAAAR,EA+EA,SAAAsB,EAAAC,GACA,OAAA7E,EAAA,SAAAhC,EAAA6E,GACA7E,EAAAC,MAAA,KAAA4E,EAAAG,OAAA,CAAAhD,EAAA,SAAAqB,EAAAwB,GACA,iBAAAiC,UACAzD,EACAyD,QAAAC,OACAD,QAAAC,MAAA1D,GAGAyD,QAAAD,IACA9F,EAAA8D,EAAA,SAAAd,GACA+C,QAAAD,GAAA9C,aAoDA,SAAAiD,EAAAC,GACA,OAAA,SAAA5F,EAAAL,EAAAwB,GACAyE,EAAA7F,EAAAC,GAAAL,EAAAwB,IAsCA,SAAA0E,EAAAtD,GACA,OAAA5B,EAAA,SAAAmF,EAAAtC,GACA,IAAAuC,EAAApF,EAAA,SAAA6C,GACA,IAAAwC,EAAAjJ,KACAoE,EAAAqC,EAAAyC,MACA,OAAA1D,EAAAuD,EAAA,SAAAnH,EAAAwE,EAAAL,GACAnE,EAAAC,MAAAoH,EAAAxC,EAAAG,OAAA,CAAAb,MAEA3B,KAEA,OAAAqC,EAAAxF,OACA+H,EAAAnH,MAAA7B,KAAAyG,GAGAuC,IAqBA,SAAAG,EAAAvH,GACA,OAAAgC,EAAA,SAAA6C,GACA,IAAArC,EAAAqC,EAAAyC,MACAzC,EAAAjD,KAAA,WACA,IAAA4F,EAAAtH,UACAuH,EACAjI,EAAAkD,aAAA,WACAF,EAAAvC,MAAA,KAAAuH,KAGAhF,EAAAvC,MAAA,KAAAuH,KAGA,IAAAC,GAAA,EACAzH,EAAAC,MAAA7B,KAAAyG,GACA4C,GAAA,IAv/BA,iBAAA3B,GAAA,mBAAAA,EAAA4B,SACAlI,EAAAkI,SAAA5B,EAAA4B,SAEAlI,EAAAkI,SAAA/E,EAEAnD,EAAAkD,aAAAD,EAAAE,EAAAnD,EAAAkI,SAGAlI,EAAAmI,QACAnI,EAAAoI,KAAA,SAAA9G,EAAAE,EAAAwB,GACA,OAAAhD,EAAA+D,OAAAzC,EAAAwB,EAAAtB,GAAAwB,IAGAhD,EAAAqI,cACArI,EAAAsI,WAAA,SAAAhH,EAAAE,EAAAwB,GACA,OAAAhD,EAAAkE,aAAA5C,EAAAwB,EAAAtB,GAAAwB,IAIAhD,EAAAuI,aACAvI,EAAAwI,UAAA,SAAAlH,EAAAgC,EAAA9B,EAAAwB,GACA,OAAAK,EAAAC,EAAAD,CAAA/B,EAAAwB,EAAAtB,GAAAwB,IAGAhD,EAAAyI,UACAzI,EAAA+D,OAAA,SAAA2E,EAAAlH,EAAAwB,GACAA,EAAArC,EAAAqC,GAAA/C,GAMA,IAHA,IACA2D,EADA+E,EAAAtG,EAFAqG,EAAAA,GAAA,IAGAE,EAAA,EAEA,OAAAhF,EAAA+E,MACAC,GAAA,EACApH,EAAAkH,EAAA9E,GAAAA,EAAArD,EAAAiD,IAKA,SAAAA,EAAAK,GACA+E,IACA/E,EACAb,EAAAa,GAIA,OAAAD,GAAAgF,GAAA,GACA5F,EAAA,MAVA,IAAA4F,GAAA5F,EAAA,OAeAhD,EAAA6I,gBACA7I,EAAAkE,aAAA,SAAA9C,EAAAI,EAAAwB,GACAA,EAAArC,EAAAqC,GAAA/C,GAEA,IAAAsD,EAAAlB,EADAjB,EAAAA,GAAA,IAEAwC,EAAAL,KACA,SAAAuF,IACA,IAAAb,GAAA,EACA,GAAA,OAAArE,EACA,OAAAZ,EAAA,MAEAxB,EAAAJ,EAAAwC,GAAAA,EAAArD,EAAA,SAAAsD,GACA,GAAAA,EACAb,EAAAa,OAEA,CAEA,GAAA,QADAD,EAAAL,KAEA,OAAAP,EAAA,MAEAiF,EACAjI,EAAAkD,aAAA4F,GAEAA,QAKAb,GAAA,EAEAa,IAKA9I,EAAA+I,eACA/I,EAAAgJ,YAAA,SAAA5H,EAAAkC,EAAA9B,EAAAwB,GACAK,EAAAC,EAAAD,CAAAjC,EAAAI,EAAAwB,IA6EAhD,EAAAiJ,IAAAnF,EAAAK,GACAnE,EAAAkJ,UAAAjF,EAAAE,GACAnE,EAAAmJ,SAAAnF,EAAAG,GAIAnE,EAAAoJ,OACApJ,EAAAqJ,MACArJ,EAAAsJ,OAAA,SAAAhI,EAAAiI,EAAA/H,EAAAwB,GACAhD,EAAAkE,aAAA5C,EAAA,SAAAiD,EAAAnF,EAAA4D,GACAxB,EAAA+H,EAAAhF,EAAA,SAAAV,EAAA1D,GACAoJ,EAAApJ,EACA6C,EAAAa,MAEA,SAAAA,GACAb,EAAAa,EAAA0F,MAIAvJ,EAAAwJ,MACAxJ,EAAAyJ,YAAA,SAAAnI,EAAAiI,EAAA/H,EAAAwB,GACA,IAAA0G,EAAAhI,EAAAJ,EAAApB,GAAAyJ,UACA3J,EAAAsJ,OAAAI,EAAAH,EAAA/H,EAAAwB,IAGAhD,EAAA4J,UAAA,SAAAtI,EAAAiI,EAAA/H,EAAAwB,GACA,IAAAtC,UAAAb,SACAmD,EAAAxB,EACAA,EAAA+H,EACAA,EAAAtI,EAAAK,GAAA,GAAA,IAGAtB,EAAA+D,OAAAzC,EAAA,SAAAnB,EAAA+B,EAAAyC,GACAnD,EAAA+H,EAAApJ,EAAA+B,EAAAyC,IACA,SAAAd,GACAb,EAAAa,EAAA0F,MAsBAvJ,EAAA6J,OACA7J,EAAA8J,OAAAhG,EAAAQ,GAEAtE,EAAA+J,YACA/J,EAAAgK,YAAAhG,EAAAM,GAEAtE,EAAAiK,aACAjK,EAAAkK,aAAAjG,EAAAK,GASAtE,EAAAmK,OAAArG,EAAAY,GACA1E,EAAAoK,YAAApG,EAAAU,GACA1E,EAAAqK,aAAApG,EAAAS,GA2BA1E,EAAAsK,IACAtK,EAAAuK,KAAA3F,EAAA5E,EAAA+D,OAAA3D,EAAAF,GAEAF,EAAAwK,UAAA5F,EAAA5E,EAAAgJ,YAAA5I,EAAAF,GAEAF,EAAAyK,IACAzK,EAAA0K,MAAA9F,EAAA5E,EAAA+D,OAAA1D,EAAAA,GAEAL,EAAA2K,WAAA/F,EAAA5E,EAAAgJ,YAAA3I,EAAAA,GAKAL,EAAA4K,OAAAhG,EAAA5E,EAAA+D,OAAA7D,EAAA+E,GACAjF,EAAA6K,aAAAjG,EAAA5E,EAAAkE,aAAAhE,EAAA+E,GACAjF,EAAA8K,YAAAlG,EAAA5E,EAAAgJ,YAAA9I,EAAA+E,GAEAjF,EAAA+K,OAAA,SAAAzJ,EAAAE,EAAAwB,GAsBA,SAAAgI,EAAAC,EAAAC,GACA,IAAA1L,EAAAyL,EAAAE,SAAA1G,EAAAyG,EAAAC,SACA,OAAA3L,EAAAiF,GAAA,EAAAA,EAAAjF,EAAA,EAAA,EAvBAQ,EAAAiJ,IAAA3H,EAAA,SAAAiD,EAAAvB,GACAxB,EAAA+C,EAAA,SAAAV,EAAAsH,GACAtH,EACAb,EAAAa,GAGAb,EAAA,KAAA,CAAAD,MAAAwB,EAAA4G,SAAAA,OAGA,SAAAtH,EAAAQ,GACA,GAAAR,EACA,OAAAb,EAAAa,GAGAb,EAAA,KAAAtB,EAAA2C,EAAAG,KAAAwG,GAAA,SAAAzG,GACA,OAAAA,EAAAxB,YAYA/C,EAAAoL,KAAA,SAAAjG,EAAAQ,EAAA3C,GACA,mBADA2C,IAGA3C,EAAA2C,EACAA,EAAA,MAEA3C,EAAArC,EAAAqC,GAAA/C,GACA,IAAAgC,EAAAD,EAAAmD,GACAkG,EAAApJ,EAAApC,OACA,IAAAwL,EACA,OAAArI,EAAA,MAGA2C,EADAA,GACA0F,EAGA,IAAAhH,EAAA,GACAiH,EAAA,EAEAC,GAAA,EAEAC,EAAA,GACA,SAAAC,EAAAjL,GACAgL,EAAApF,QAAA5F,GAMA,SAAAkL,IACAL,IACA9J,EAAAiK,EAAAG,MAAA,GAAA,SAAAnL,GACAA,MAIAiL,EAAA,WACAJ,GACArI,EAAA,KAAAqB,KAIA9C,EAAAU,EAAA,SAAAC,GACA,IAAAqJ,EAAA,CA0BA,IAzBA,IAwBAK,EAxBAxG,EAAAnE,EAAAkE,EAAAjD,IAAAiD,EAAAjD,GAAA,CAAAiD,EAAAjD,IACA2J,EAAArJ,EAAA,SAAAqB,EAAAwB,GAKA,GAJAiG,IACAjG,EAAAxF,QAAA,IACAwF,EAAAA,EAAA,IAEAxB,EAAA,CACA,IAAAiI,EAAA,GApcAtK,EAqcA,SAAAuK,EAAAC,GACAF,EAAAE,GAAAD,GArcAxK,EAAAS,EADA0G,EAqcArE,GApcA,SAAAT,GACApC,EAAAkH,EAAA9E,GAAAA,KAscAkI,EAAA5J,GAAAmD,EACAkG,GAAA,EAEAvI,EAAAa,EAAAiI,QAGAzH,EAAAnC,GAAAmD,EACArF,EAAAkD,aAAAwI,GA/cA,IAAAhD,EAAAlH,IAkdAyK,EAAA7G,EAAAuG,MAAA,EAAAvG,EAAAvF,OAAA,GAEA0C,EAAA0J,EAAApM,OAEA0C,KAAA,CACA,KAAAqJ,EAAAzG,EAAA8G,EAAA1J,KACA,MAAA,IAAA9C,MAAA,iCAAAwM,EAAAC,KAAA,OAEA,GAAAjL,EAAA2K,IAAA,GAAA9J,EAAA8J,EAAA1J,GACA,MAAA,IAAAzC,MAAA,2BAQA0M,KACAb,IACAlG,EAAAA,EAAAvF,OAAA,GAAAgM,EAAAxH,IAGAoH,EAEA,SAAAW,IACAD,MACAb,IAhEA,IADAe,EAAAvK,EAAA0J,EAkEAY,KAjEAZ,EAAA7E,OAAA0F,EAAA,GAkEAjH,EAAAA,EAAAvF,OAAA,GAAAgM,EAAAxH,IApEA,IACAgI,IAmDA,SAAAF,IACA,OAAAb,EAAA3F,IAteAnE,EAseA,SAAAhC,EAAA+E,GACA,OAAA/E,GAAA6E,EAAAlC,eAAAoC,IAveAgF,GAweA,EAveAhI,EAqeA0K,EAreA,SAAA1H,EAAAnF,EAAAI,GACA+J,EAAA/H,EAAA+H,EAAAhF,EAAAnF,EAAAI,KAEA+J,KAoeAlF,EAAAlC,eAAAD,GAxeA,IAAAV,EAAA+H,MA6fAvJ,EAAAsM,MAAA,SAAAC,EAAAnH,EAAApC,GACA,IAGAwJ,EAAA,GAEAC,EAAA,CACAF,MANA,EAOAG,SANA,GAoBA,IAAA7M,EAAAa,UAAAb,OACA,GAAAA,EAAA,GAAA,EAAAA,EACA,MAAA,IAAAJ,MAAA,yGAWA,SAAAkN,EAAAC,EAAAC,GACA,SAAAC,EAAA1H,EAAA2H,GACA,OAAA,SAAAC,GACA5H,EAAA,SAAAvB,EAAAlC,GACAqL,GAAAnJ,GAAAkJ,EAAA,CAAAlJ,IAAAA,EAAAlC,OAAAA,KACAkL,IAIA,SAAAI,EAAAP,GACA,OAAA,SAAAM,GACA5J,WAAA,WACA4J,EAAA,OACAN,IAIA,KAAAD,EAAAF,OAAA,CAEA,IAAAQ,KAAAN,EAAAF,MACAC,EAAApK,KAAA0K,EAAAL,EAAArH,KAAA2H,KACAA,GAAA,EAAAN,EAAAC,UACAF,EAAApK,KAAA6K,EAAAR,EAAAC,WAIA1M,EAAAkN,OAAAV,EAAA,SAAAhJ,EAAAuC,GACAA,EAAAA,EAAAA,EAAAlG,OAAA,IACA+M,GAAAH,EAAAzJ,UAAA+C,EAAAlC,IAAAkC,EAAApE,UAKA,OA3CA9B,GAAA,GAAA,mBAAA0M,IACAvJ,EAAAoC,EACAA,EAAAmH,GAEA,mBAAAA,GAlBA,SAAAY,EAAAjO,GACA,GAAA,iBAAAA,EACAiO,EAAAZ,MAAAa,SAAAlO,EAAA,KAZA,MAaA,CAAA,GAAA,iBAAAA,EAIA,MAAA,IAAAO,MAAA,iDAAAP,GAHAiO,EAAAZ,MAAAa,SAAAlO,EAAAqN,MAAA,KAdA,EAeAY,EAAAT,SAAAU,SAAAlO,EAAAwN,SAAA,KAdA,GA4BAW,CAAAZ,EAAAF,GAEAE,EAAAzJ,SAAAA,EACAyJ,EAAArH,KAAAA,EAmCAqH,EAAAzJ,SAAA2J,IAAAA,GAGA3M,EAAAsN,UAAA,SAAAnI,EAAAnC,GAEA,GADAA,EAAArC,EAAAqC,GAAA/C,IACAgB,EAAAkE,GAAA,CACA,IAAAtB,EAAA,IAAApE,MAAA,6DACA,OAAAuD,EAAAa,GAEA,IAAAsB,EAAAtF,OACA,OAAAmD,KAEA,SAAAuK,EAAA/L,GACA,OAAAgB,EAAA,SAAAqB,EAAAwB,GACA,GAAAxB,EACAb,EAAAvC,MAAA,KAAA,CAAAoD,GAAA2B,OAAAH,QAEA,CACA,IAAAmI,EAAAhM,EAAAgM,OACAA,EACAnI,EAAAjD,KAAAmL,EAAAC,IAGAnI,EAAAjD,KAAAY,GAEA+E,EAAAvG,GAAAf,MAAA,KAAA4E,MAIAkI,CAAAvN,EAAAwB,SAAA2D,GAAAoI,IAoBAvN,EAAAyN,SAAA,SAAAtI,EAAAnC,GACAkC,EAAAlF,EAAA+D,OAAAoB,EAAAnC,IAGAhD,EAAA0N,cAAA,SAAAvI,EAAA7B,EAAAN,GACAkC,EAAA7B,EAAAC,GAAA6B,EAAAnC,IAGAhD,EAAAkN,OAAA,SAAA/H,EAAAnC,GACAkC,EAAAlF,EAAAkE,aAAAiB,EAAAnC,IAGAhD,EAAAwB,SAAA,SAAA2D,GAaA,OAZA,SAAAwI,EAAAlM,GACA,SAAAjB,IAIA,OAHA2E,EAAAtF,QACAsF,EAAA1D,GAAAhB,MAAA,KAAAC,WAEAF,EAAAgN,OAKA,OAHAhN,EAAAgN,KAAA,WACA,OAAA/L,EAAA0D,EAAAtF,OAAA,EAAA8N,EAAAlM,EAAA,GAAA,MAEAjB,EAEAmN,CAAA,IAGA3N,EAAAS,MAAA+B,EAAA,SAAAhC,EAAA6E,GACA,OAAA7C,EAAA,SAAAoL,GACA,OAAApN,EAAAC,MACA,KAAA4E,EAAAG,OAAAoI,QAgBA5N,EAAAwF,OAAA1B,EAAAwB,GACAtF,EAAA6N,aAAA5J,EAAAqB,GAEAtF,EAAA8N,OAAA,SAAAC,EAAAvM,EAAAwB,GAEA,GADAA,EAAAA,GAAA/C,EACA8N,IAAA,CACA,IAAAP,EAAAhL,EAAA,SAAAqB,EAAAwB,GACAxB,EACAb,EAAAa,GACAkK,EAAAtN,MAAA7B,KAAAyG,GACA7D,EAAAgM,GAEAxK,EAAAvC,MAAA,KAAA,CAAA,MAAA+E,OAAAH,MAGA7D,EAAAgM,QAEAxK,EAAA,OAIAhD,EAAAgO,SAAA,SAAAxM,EAAAuM,EAAA/K,GACA,IAAAiL,EAAA,EACA,OAAAjO,EAAA8N,OAAA,WACA,QAAAG,GAAA,GAAAF,EAAAtN,MAAA7B,KAAA8B,YACAc,EAAAwB,IAGAhD,EAAAkO,MAAA,SAAAH,EAAAvM,EAAAwB,GACA,OAAAhD,EAAA8N,OAAA,WACA,OAAAC,EAAAtN,MAAA7B,KAAA8B,YACAc,EAAAwB,IAGAhD,EAAAmO,QAAA,SAAA3M,EAAAuM,EAAA/K,GACA,OAAAhD,EAAAgO,SAAAxM,EAAA,WACA,OAAAuM,EAAAtN,MAAA7B,KAAA8B,YACAsC,IAGAhD,EAAAoO,OAAA,SAAAL,EAAAvM,EAAAwB,GACAA,EAAAA,GAAA/C,EAEA,IAAAuN,EAAAhL,EAAA,SAAAqB,EAAAwB,GACAxB,EACAb,EAAAa,IAEAwB,EAAAjD,KAAAyC,GACAkJ,EAAAtN,MAAA7B,KAAAyG,MAIAR,EAAA,SAAAhB,EAAAwK,GACAxK,EACAb,EAAAa,GACAwK,EACA7M,EAAAgM,GAEAxK,EAAA,OAIA+K,EAAAlJ,IAGA7E,EAAAsO,SAAA,SAAA9M,EAAAuM,EAAA/K,GACA,IAAAiL,EAAA,EACAjO,EAAAoO,OAAA,SAAAZ,GACAS,IAAA,EACAT,EAAA,MAAA,GAEAO,EAAAtN,MAAA7B,KAAA8B,YAEAc,EAAAwB,IAuIAhD,EAAAuO,MAAA,SAAA7I,EAAAC,GAKA,OAJAF,EAAA,SAAA+I,EAAA7J,GACAe,EAAA8I,EAAA,GAAA7J,IACAgB,EAAA,IAKA3F,EAAAyO,cAAA,SAAA/I,EAAAC,GAEA,SAAA+I,EAAAlP,EAAAiF,GACA,OAAAjF,EAAAmP,SAAAlK,EAAAkK,SAiBA,SAAA9I,EAAAC,EAAAC,EAAA4I,EAAA3L,GACA,GAAA,MAAAA,GAAA,mBAAAA,EACA,MAAA,IAAAvD,MAAA,oCAMA,GAJAqG,EAAAG,SAAA,EACAhF,EAAA8E,KACAA,EAAA,CAAAA,IAEA,IAAAA,EAAAlG,OAEA,OAAAG,EAAAkD,aAAA,WACA4C,EAAAK,UAGA5E,EAAAwE,EAAA,SAAAX,GACA,IAAArD,EAAA,CACAgE,KAAAX,EACAuJ,SAAAA,EACA3L,SAAA,mBAAAA,EAAAA,EAAA/C,GAGA6F,EAAAX,MAAAwB,OAnCA,SAAAiI,EAAA7M,EAAA8M,GAGA,IAFA,IAAAC,GAAA,EACAC,EAAAH,EAAA/O,OAAA,EACAiP,EAAAC,GAAA,CACA,IAAAC,EAAAF,GAAAC,EAAAD,EAAA,IAAA,GACA,GAAAD,EAAA9M,EAAA6M,EAAAI,IACAF,EAAAE,EAEAD,EAAAC,EAAA,EAGA,OAAAF,EAwBAG,CAAAnJ,EAAAX,MAAApD,EAAA2M,GAAA,EAAA,EAAA3M,GAEA+D,EAAAX,MAAAtF,SAAAiG,EAAAH,aACAG,EAAAO,YAEArG,EAAAkD,aAAA4C,EAAAQ,WAKA,IAAAR,EAAA9F,EAAAuO,MAAA7I,EAAAC,GAUA,OAPAG,EAAA1D,KAAA,SAAA2D,EAAA4I,EAAA3L,GACA6C,EAAAC,EAAAC,EAAA4I,EAAA3L,WAIA8C,EAAAM,QAEAN,GAGA9F,EAAAkP,MAAA,SAAAxJ,EAAAE,GACA,OAAAH,EAAAC,EAAA,EAAAE,IAqBA5F,EAAAmP,IAAA/H,EAAA,OACApH,EAAAoP,IAAAhI,EAAA,OAKApH,EAAAqP,QAAA,SAAA7O,EAAA8O,GACA,IAAA/F,EAAA,GACAgG,EAAA,GACAC,EAAA1O,OAAAC,UAAAoB,eACAmN,EAAAA,GAAApP,EACA,IAAAuP,EAAAjN,EAAA,SAAA6C,GACA,IAAArC,EAAAqC,EAAAyC,MACAlE,EAAA0L,EAAA7O,MAAA,KAAA4E,GACAmK,EAAA5P,KAAA2J,EAAA3F,GACA5D,EAAAkD,aAAA,WACAF,EAAAvC,MAAA,KAAA8I,EAAA3F,MAGA4L,EAAA5P,KAAA2P,EAAA3L,GACA2L,EAAA3L,GAAAxB,KAAAY,IAGAuM,EAAA3L,GAAA,CAAAZ,GACAxC,EAAAC,MAAA,KAAA4E,EAAAG,OAAA,CAAAhD,EAAA,SAAA6C,GACAkE,EAAA3F,GAAAyB,EACA,IAAAS,EAAAyJ,EAAA3L,UACA2L,EAAA3L,GACA,IAAA,IAAAxE,EAAA,EAAAsQ,EAAA5J,EAAAjG,OAAAT,EAAAsQ,EAAAtQ,IACA0G,EAAA1G,GAAAqB,MAAA,KAAA4E,WAOA,OAFAoK,EAAAlG,KAAAA,EACAkG,EAAAE,WAAAnP,EACAiP,GAGAzP,EAAA4P,UAAA,SAAApP,GACA,OAAA,WACA,OAAAA,EAAAmP,YAAAnP,GAAAC,MAAA,KAAAC,aAUAV,EAAAuM,MAAA/E,EAAAxH,EAAAiJ,KACAjJ,EAAA6P,YAAArI,EAAAxH,EAAAkJ,WACAlJ,EAAA8P,WAAA,SAAAjO,EAAAyB,EAAA9B,EAAAwB,GACA,OAAAhD,EAAAmJ,SAAAvH,EAAAC,GAAAyB,EAAA9B,EAAAwB,IAGAhD,EAAA+P,IAAA,WACA,IAAApI,EAAAjH,UACA,OAAA8B,EAAA,SAAA6C,GACA,IAAAwC,EAAAjJ,KAEAoE,EAAAqC,EAAAA,EAAAxF,OAAA,GACA,mBAAAmD,EACAqC,EAAAyC,MAEA9E,EAAA/C,EAGAD,EAAAsJ,OAAA3B,EAAAtC,EAAA,SAAA2K,EAAAxP,EAAAmE,GACAnE,EAAAC,MAAAoH,EAAAmI,EAAAxK,OAAA,CAAAhD,EAAA,SAAAqB,EAAAoM,GACAtL,EAAAd,EAAAoM,SAGA,SAAApM,EAAAQ,GACArB,EAAAvC,MAAAoH,EAAA,CAAAhE,GAAA2B,OAAAnB,SAKArE,EAAAkQ,QAAA,WACA,OAAAlQ,EAAA+P,IAAAtP,MAAA,KAAAS,MAAAH,UAAA4I,QAAA/J,KAAAc,aAuBAV,EAAAmQ,UAAAzI,EAAA1H,EAAA+D,QACA/D,EAAAoQ,gBAAA1I,EAAA1H,EAAAkE,cAGAlE,EAAAqQ,QAAA,SAAA7P,EAAAwC,GACA,IAAAQ,EAAAjD,EAAAyC,GAAA/C,GACAmF,EAAA2C,EAAAvH,IACA,SAAAgN,EAAA3J,GACA,GAAAA,EACA,OAAAL,EAAAK,GAEAuB,EAAAoI,GAEAA,IAsBAxN,EAAA+H,YAAAA,EAEA/H,EAAAsQ,SAAA9N,EAAA,SAAA+N,GACA,IAAAlL,EAAA,CAAA,MAAAG,OAAA+K,GACA,OAAA,SAAAvN,GACA,OAAAA,EAAAvC,MAAA7B,KAAAyG,MAIArF,EAAAwQ,SACAxQ,EAAAyQ,SAAA,SAAAhO,GACA,OAAAD,EAAA,SAAA6C,GACA,IACA1D,EA7oCAP,EACAsP,EA2oCA1N,EAAAqC,EAAAyC,MAEA,IACAnG,EAAAc,EAAAhC,MAAA7B,KAAAyG,GACA,MAAArG,GACA,OAAAgE,EAAAhE,IA/oCA,aADA0R,SADAtP,EAopCAO,KAlpCA,UAAA+O,GAAAtP,IAkpCA,mBAAAO,EAAAgP,KACAhP,EAAAgP,KAAA,SAAA5N,GACAC,EAAA,KAAAD,KACA,MAAA,SAAAc,GACAb,EAAAa,EAAA+M,QAAA/M,EAAA,IAAApE,MAAAoE,MAGAb,EAAA,KAAArB,MAMA,iBAAAtD,GAAAA,EAAAD,QACAC,EAAAD,QAAA4B,EAUAM,EAAAN,MAAAA,EAtuCA,uMCNA,IAOA6Q,EACAC,EARAxK,EAAAjI,EAAAD,QAAA,GAUA,SAAA2S,IACA,MAAA,IAAAtR,MAAA,mCAEA,SAAAuR,IACA,MAAA,IAAAvR,MAAA,qCAsBA,SAAAwR,EAAAC,GACA,GAAAL,IAAAzN,WAEA,OAAAA,WAAA8N,EAAA,GAGA,IAAAL,IAAAE,IAAAF,IAAAzN,WAEA,OADAyN,EAAAzN,WACAA,WAAA8N,EAAA,GAEA,IAEA,OAAAL,EAAAK,EAAA,GACA,MAAAlS,GACA,IAEA,OAAA6R,EAAAjR,KAAA,KAAAsR,EAAA,GACA,MAAAlS,GAEA,OAAA6R,EAAAjR,KAAAhB,KAAAsS,EAAA,MAvCA,WACA,IAEAL,EADA,mBAAAzN,WACAA,WAEA2N,EAEA,MAAA/R,GACA6R,EAAAE,EAEA,IAEAD,EADA,mBAAAK,aACAA,aAEAH,EAEA,MAAAhS,GACA8R,EAAAE,GAjBA,GAwEA,IAEAI,EAFA7C,EAAA,GACA8C,GAAA,EAEAC,GAAA,EAEA,SAAAC,IACAF,GAAAD,IAGAC,GAAA,EACAD,EAAAvR,OACA0O,EAAA6C,EAAA5L,OAAA+I,GAEA+C,GAAA,EAEA/C,EAAA1O,QACA2R,KAIA,SAAAA,IACA,IAAAH,EAAA,CAGA,IAAAI,EAAAR,EAAAM,GACAF,GAAA,EAGA,IADA,IAAA9O,EAAAgM,EAAA1O,OACA0C,GAAA,CAGA,IAFA6O,EAAA7C,EACAA,EAAA,KACA+C,EAAA/O,GACA6O,GACAA,EAAAE,GAAAI,MAGAJ,GAAA,EACA/O,EAAAgM,EAAA1O,OAEAuR,EAAA,KACAC,GAAA,EAnEA,SAAAM,GACA,GAAAb,IAAAK,aAEA,OAAAA,aAAAQ,GAGA,IAAAb,IAAAE,IAAAF,IAAAK,aAEA,OADAL,EAAAK,aACAA,aAAAQ,GAEA,IAEAb,EAAAa,GACA,MAAA3S,GACA,IAEA,OAAA8R,EAAAlR,KAAA,KAAA+R,GACA,MAAA3S,GAGA,OAAA8R,EAAAlR,KAAAhB,KAAA+S,KAgDAC,CAAAH,IAiBA,SAAAI,EAAAX,EAAAY,GACAlT,KAAAsS,IAAAA,EACAtS,KAAAkT,MAAAA,EAYA,SAAA7R,KA5BAqG,EAAA4B,SAAA,SAAAgJ,GACA,IAAA7L,EAAA,IAAAnE,MAAAR,UAAAb,OAAA,GACA,GAAA,EAAAa,UAAAb,OACA,IAAA,IAAAT,EAAA,EAAAA,EAAAsB,UAAAb,OAAAT,IACAiG,EAAAjG,EAAA,GAAAsB,UAAAtB,GAGAmP,EAAAnM,KAAA,IAAAyP,EAAAX,EAAA7L,IACA,IAAAkJ,EAAA1O,QAAAwR,GACAJ,EAAAO,IASAK,EAAA9Q,UAAA2Q,IAAA,WACA9S,KAAAsS,IAAAzQ,MAAA,KAAA7B,KAAAkT,QAEAxL,EAAAyL,MAAA,UACAzL,EAAA0L,SAAA,EACA1L,EAAA2L,IAAA,GACA3L,EAAA4L,KAAA,GACA5L,EAAA6L,QAAA,GACA7L,EAAA8L,SAAA,GAIA9L,EAAA+L,GAAApS,EACAqG,EAAAmF,YAAAxL,EACAqG,EAAAgM,KAAArS,EACAqG,EAAAiM,IAAAtS,EACAqG,EAAAkM,eAAAvS,EACAqG,EAAAmM,mBAAAxS,EACAqG,EAAAoM,KAAAzS,EACAqG,EAAAqM,gBAAA1S,EACAqG,EAAAsM,oBAAA3S,EAEAqG,EAAAkF,UAAA,SAAAnE,GAAA,MAAA,IAEAf,EAAAuM,QAAA,SAAAxL,GACA,MAAA,IAAA5H,MAAA,qCAGA6G,EAAAwM,IAAA,WAAA,MAAA,KACAxM,EAAAyM,MAAA,SAAA3D,GACA,MAAA,IAAA3P,MAAA,mCAEA6G,EAAA0M,MAAA,WAAA,OAAA,0CCvLA,IAAA9K,EAAA5I,EAAA,sBAAA4I,SACAzH,EAAAwS,SAAAlS,UAAAN,MACAkL,EAAAzK,MAAAH,UAAA4K,MACAuH,EAAA,GACAC,EAAA,EAaA,SAAAC,EAAAC,EAAAC,GACA1U,KAAA2U,IAAAF,EACAzU,KAAA4U,SAAAF,EAXAlV,EAAAgF,WAAA,WACA,OAAA,IAAAgQ,EAAA3S,EAAAb,KAAAwD,WAAA3E,OAAAiC,WAAAyQ,eAEA/S,EAAAqV,YAAA,WACA,OAAA,IAAAL,EAAA3S,EAAAb,KAAA6T,YAAAhV,OAAAiC,WAAAgT,gBAEAtV,EAAA+S,aACA/S,EAAAsV,cAAA,SAAAjC,GAAAA,EAAAkC,SAMAP,EAAArS,UAAA6S,MAAAR,EAAArS,UAAA8S,IAAA,aACAT,EAAArS,UAAA4S,MAAA,WACA/U,KAAA4U,SAAA5T,KAAAnB,OAAAG,KAAA2U,MAIAnV,EAAA0V,OAAA,SAAA/R,EAAAgS,GACA5C,aAAApP,EAAAiS,gBACAjS,EAAAkS,aAAAF,GAGA3V,EAAA8V,SAAA,SAAAnS,GACAoP,aAAApP,EAAAiS,gBACAjS,EAAAkS,cAAA,GAGA7V,EAAA+V,aAAA/V,EAAAgW,OAAA,SAAArS,GACAoP,aAAApP,EAAAiS,gBAEA,IAAAD,EAAAhS,EAAAkS,aACA,GAAAF,IACAhS,EAAAiS,eAAA5Q,WAAA,WACArB,EAAAsS,YACAtS,EAAAsS,cACAN,KAKA3V,EAAA8E,aAAA,mBAAAA,EAAAA,EAAA,SAAA1C,GACA,IAAA6S,EAAAF,IACA9N,IAAA3E,UAAAb,OAAA,IAAA8L,EAAA/L,KAAAc,UAAA,GAkBA,OAhBAwS,EAAAG,IAAA,EAEAnL,EAAA,WACAgL,EAAAG,KAGAhO,EACA7E,EAAAC,MAAA,KAAA4E,GAEA7E,EAAAZ,KAAA,MAGAxB,EAAAkW,eAAAjB,MAIAA,GAGAjV,EAAAkW,eAAA,mBAAAA,EAAAA,EAAA,SAAAjB,UACAH,EAAAG,0LCzEajV,EAAAmW,oBAA8B,kBAIvC,IAAAC,EAAA,WACW5V,KAAA6C,MAAgB,EAGhB7C,KAAA6V,OAAiB,EAEjB7V,KAAA8V,WAAqB,GAoiB5BC,EAAU,CACVC,SAvhBkD,CAClDC,WAAY,KACZC,WAAY,KACZC,aAAc,KACdC,WAAY,IACZC,mBAAoB,KACpBC,UAAW,MAkhBXC,YAAY,oCACfC,YArfGC,EAAAC,QACY,CAAA,WACA,WACA,YACA,gBAwBWvU,UAAKwU,WAAa,SAAAC,GACjC5W,KAAI6W,UAAQ7W,KAAAsW,aACRM,EAAKR,YAAeQ,EAAKR,WAAYU,eACjCC,QAASC,OAAChX,KAASoW,WAAYQ,EAAAR,WAAAU,gBAC3B9W,KAAKiX,SAAAnB,UAIR9V,KAAAiX,SAAAnB,WAAA,EAFA9V,KAAAkX,aAAAN,EAAAR,WAAAU,gBAMLF,EAAKT,cAAeS,EAAQT,aAAaW,eAC5C9W,KAAAmW,aAAAS,EAAAT,aAAAW,kBAKe3U,UAAA0U,UAAA,SAAA1S,UAAQ,MAAPA,KACPA,IAIjB,MADGA,EAAOA,EAAK/B,WAAW+U,gBAC1B,QAAAhT,MAGUhC,UAAiBiV,SAAA,SAAAC,MACpBA,EAAAC,eACH,OAAAD,EAAAC,eACG,GAAGtX,KAAOuX,UAACC,UAAA,CAEXH,EAAAI,QACA,IAAItX,EAACH,KAAQuX,UAAGC,UAAAE,iBACZ,MAAAvX,EACH,OAAA,EAID,IAAGwX,EAAAN,EAAAO,kBAA4BC,EAAIF,EAAAG,YAItC,OAHGH,EAAGI,eAAY5X,EAAA6X,eAEfH,EAAAI,YAAe,aAAON,GACzBE,EAAAK,KAAAjX,OAGJ,OAAA,KAGakB,UAAoBgW,kBAAA,SAAAC,EAAAd,EAAAe,MAC1BD,EAAMD,kBACNC,EAAMX,QACTW,EAAAD,kBAAAb,EAAAe,QACG,GAAID,EAAKR,gBAAS,CAClB,IAAAU,EAAMF,EAASR,kBACfU,EAAMC,UAAQ,GACdD,EAAME,QAAA,YAAqBH,GAC3BC,EAAMG,UAAS,YAAAnB,GAClBgB,EAAArN,aAII9I,UAAyBuW,cAAU,SAAAN,EAAAhR,GAC3CpH,KAAAmY,kBAAAC,EAAAhR,EAAAA,MAGqCjF,UAAWwW,QAAM,SAAOT,EAAArV,GAC1D,IAAI+V,EAAU5Y,KAAG6Y,WAAAX,GAAA,IACR,EAALrV,IACH7C,KAAAiX,SAAApU,MAAAA,GAGG7C,KAAK8Y,iBAAiB7X,OAAQ,EACjCjB,KAAA8Y,iBAAAtR,QAAAoR,GAEA5Y,KAAA8Y,iBAAA/Q,OAAA/H,KAAAiX,SAAApU,MAAA,EAAA,EAAA+V,GAED5Y,KAAKiX,SAASpU,OAAK,EAEnB7C,KAAK+Y,SAAA/Y,KAAAiX,SAAkBpU,OAC1B7C,KAAAgZ,qBAGiB7W,UAAgB8W,eAAC,WAC/BjZ,KAAIiX,SAA2BnB,WAAG,EAClC,IAAEoD,EAAU,UACLlZ,KAAE8Y,iBAAa,SAAA3V,GACdA,EAAA6E,SACIxE,KAAS,CACT2V,QAAMhW,EAAKgW,QACbjB,KAAA/U,EAAA+U,SAKblY,KAAAoW,WAAA8C,KAcA/W,UAAA4W,SAAA,SAAAlW,EAAAuW,GAXG,IAAIC,EAAQrZ,MACR,EAAA6C,cACQ,WACJ,IAAIyW,EAAcvC,QAAAwC,QAAA,oBAAAF,EAAApC,SAAAxC,GAAA,IAAA5R,GACdyW,IACAA,EAAS7B,aACA+B,IAALJ,GAAmBE,EAAc,IACpCD,EAAAX,cAAAY,EAAA,GAAAF,KAGZ,OAI4BjX,UAAA0W,WAAA,SAAAX,EAAAuB,GAOhC,MANgB,CACTN,SAAM,EACNjB,KAAKA,GAAS,GAChBlQ,MAAAyR,MAMetX,UAAAuX,IAAA,WACpB,OAAA,IAAAC,QAGsBxX,UAAKyX,UAAA,WACxB5Z,KAAKiX,SAAApU,MAAgB,EAErB7C,KAAK8Y,iBAAiB,GACzB9Y,KAAA8Y,iBAAAtV,KAAAxD,KAAA6Y,WAAA,IAAA,OAaA1W,UAAA+U,aAAA,SAAAgC,GAVG,IAAIG,EAAQrZ,MACRkZ,GAAKA,EAAYjY,OAAA,EACpBjB,KAAA4Z,aAEG5Z,KAAE8Y,iBAAc,UACZI,EAAK,SAAgB/V,GACtBkW,EAAAP,iBAAAtV,KAAAL,KAGNnD,KAAA8Y,iBAAAtV,KAAAxD,KAAA6Y,WAAA,IAAA,QAIa1W,UAAgB0X,YAAc,WAC5C,IAAAN,EAAYxC,QAASwC,QAAQ,iBAAAvZ,KAAAiX,SAAAxC,GAAA,IAAAzU,KAAAiX,SAAApU,OAC7B0W,EAAQO,IAAI,QAAA,QACfP,EAAAO,IAAA,YAAA,WAGoB3X,UAAA4X,SAAA,eAAC/Z,KAAAga,SAGlB,IACI7V,EADgB4S,QAAcwC,QAAQ,qBAAAvZ,KAAAiX,SAAAxC,IACpBwF,QAClBV,EAAUxC,QAAAwC,QAAA,eAAAvZ,KAAAiX,SAAAxC,GAAA,IAAAzU,KAAAiX,SAAApU,OACV0W,IACAA,EAAQO,IAAI,QAAA3V,EAAa,MAC5BoV,EAAAO,IAAA,YAAA3V,EAAA,WAMmBhC,UAAA+X,YAAA,SAAArX,GAAC7C,KAAAiW,aAExBjW,KAAAiX,SAAApU,MAAAA,MAGsBV,UAAAgY,eAAA,SAAAtX,GACnB,IAAImF,MAEHA,EAAAhI,KAAA8Y,iBAAAjW,GAAAmF,YACG/C,GACH+C,GAAA,EAGJ,OAAAhI,KAAAiX,SAAApU,OAAAA,GAAA7C,KAAAmW,eAAAnO,KAGoB7F,UAAaiY,UAAY,WAC7Cpa,KAAA2Y,QAAA,GAAA3Y,KAAAiX,SAAApU,MAAA,MAGqBV,UAAKkY,aAAsB,SAAUxX,IAC1C,EAATA,GAAS7C,KAAA8Y,iBAAwBjW,IAAQ7C,KAAA8Y,iBAAAjW,GAAAmF,OACrChI,KAAK8Y,iBAAiBjW,GAAOmF,QAC7BhI,KAAK8Y,iBAAiBjW,GAAKmF,OAAK,EACnChI,KAAA8Y,iBAAAtV,KAAAxD,KAAA6Y,WAAA,IAAA,KAGR7Y,KAAAgZ,qBAGuB7W,UAAEmY,QAAA,SAAAC,EAAA1X,GAAC7C,KAAAiW,aAG1BjW,KAAAiX,SAAApU,MAAAA,MAGuBV,UAAEqY,gBAAA,SAAAD,EAAA1X,GAAC7C,KAAAiW,aAG1BjW,KAAAiX,SAAApU,MAAAA,MAGuBV,UAAIsY,eAAc,SAAAC,EAAAlY,EAAA+X,EAAAI,MAAC3a,KAAAiX,SAAOxC,IAAAkG,GACnB3a,KAAMiX,SAAC2D,MAGlC,IAAI/X,EAAQ6X,EACRG,EAAS7a,KAAsBiX,SAAUpU,MAEzCiY,EAAU1U,EAAI2U,UAAK/a,KAAU8Y,qBACjB,GAAV+B,GAAqB,GAARH,EAAQ,IACV7X,EAATgY,EAAY,CACRhY,EAAQiY,EAAU7Z,OAAS,IAC9B4B,EAAAiY,EAAA7Z,OAAA,OAGG,IAAA+Z,EAAU,EAAAA,EAAQH,EAAQhY,EAAUmY,IACvCF,EAAAD,EAAAG,GAAAF,EAAAD,EAAAG,EAAA,GAEJF,EAAAjY,GAAAL,KAEGqY,EAAWhY,EAAA,GAEXA,MACI,IAAArC,EAAS,EAACA,EAAAqC,EAAagY,EAAGra,IAC7Bsa,EAAAD,EAAAra,GAAAsa,EAAAD,EAAAra,EAAA,GAEJsa,EAAAjY,GAAAL,EAGJxC,KAAAiX,SAAApU,MAAAA,EAGD7C,KAAK8Y,iBAAkBgC,EAC1B9a,KAAAgZ,sBAGmB7W,UAAA8Y,OAAA,WAChBjb,KAAK+Z,WACR/Z,KAAAga,SAAA,KAaA7X,UAAA+Y,OAAA,SAAAzG,GATG,IAAI4E,EAACrZ,UACDmb,SAAK,WACL9B,EAAKpC,SAAS2D,KAAMvB,EAAKpC,SAAAmE,SAC1B/B,EAAIpC,SAAApB,OAAA,GAEJ,IACC7V,KAAKga,UACLha,KAAK6Z,cACR7Z,KAAAga,SAAA,MAIa7X,UAAgBkZ,QAAC,SAAA5G,GAC/BzU,KAAIiX,SAAQnB,WAAS,EACjBrB,GAAKA,GAAAzU,KAASiX,SAAYpB,SAC7B7V,KAAAiX,SAAA2D,MAAA,MAIQzY,UAAqBmZ,YAAA,SAAuBnY,GACjDnD,KAAKmW,cAAsB,EAAXnW,KAAU8Y,iBAAC7X,SAAqBkC,EAAA6E,QAChDhI,KAAKub,WAASC,WAAahc,EAACmW,qBAC/B3V,KAAAiX,SAAApB,OAAA7V,KAAAiX,SAAAxC,OAIQtS,UAAiBsZ,aAAc,SAAA5Y,EAAAM,MACJ,GAAhCnD,KAAK8Y,iBAAiB7X,OACtBjB,KAAK8Y,iBAAiB,GAAGZ,KAAO,GAChClY,KAAK8Y,iBAAiB,GAAGK,SAAQ,EACjCnZ,KAAK8Y,iBAAiB,GAAE9Q,OAAA,EAC3BhI,KAAAiX,SAAApU,MAAA,MACG,MACS,GAALA,GAAKA,GAAiB7C,KAAM8Y,iBAAW7X,QAG1C,OAFAjB,KAAA8Y,iBAAA/Q,OAAAlF,EAAA,GAMD7C,KAAKiX,SAASpU,OAAQ7C,KAAK8Y,iBAAiB7X,SAC/CjB,KAAAiX,SAAApU,MAAA7C,KAAA8Y,iBAAA7X,OAAA,GAGDjB,KAAK+Y,SAAA/Y,KAAAiX,SAAkBpU,MAAA,GAC1B7C,KAAAgZ,qBAGuB7W,UAAGuZ,UAAA,SAAAvY,GAC1BnD,KAAAgZ,qBAUA7W,UAAAwZ,kBAAA,WAPG,IAAItC,EAACrZ,KAELA,KAAIiZ,iBACAjZ,KAAKkW,iBACDiF,SAAK,WACL9B,EAAEnD,WAAAmD,EAAAjD,aACT,MAKmBjU,UAAAyZ,kBAAA,SAAArB,EAAA1X,EAAAM,OAACnD,KAAAiW,aACiB,GAAPjW,KAAAiX,SAAOpU,OAEtC,IAAIgZ,EACAC,KAEAvB,GAAQA,EAAQwB,SAEhBD,EAAW9b,KAAAoX,SAAcmD,EAAMwB,aACHvC,IAAxBe,EAAAwB,OAAiB,QACpBF,EAAAtB,EAAAwB,OAAA,MAAA9a,SAMiB,EAAlBjB,KAAKiX,SAAKpU,OAAQ,IAAAM,EAAA+U,MAAA,GAAA4D,GAAA,GAAAvB,EAAAyB,UAAAzB,EAAA0B,UAAA1B,EAAA2B,SAAA,KACd/Y,EAAI6E,MAAQ,CACZ,IAAImU,EAACnc,KAAA8Y,iBAA+B9Y,KAAKiX,SAAUpU,MAAQ,GAAAqV,KAAAjX,OAC3DjB,KAAK8Y,iBAAc9Y,KAAMiX,SAAApU,MAAA,GAAAqV,KAAAlY,KAAA8Y,iBAAA9Y,KAAAiX,SAAApU,MAAA,GAAAqV,KAAA/U,EAAA+U,OACzBlY,KAAKiX,SAAApU,MACL7C,KAAK8Y,iBAAiB/Q,OAAC/H,KAAAiX,SAAApU,MAAA,EAAA,GAEvB7C,KAAKgZ,kBACRhZ,KAAA+Y,SAAA/Y,KAAAiX,SAAApU,MAAAsZ,GAIJ,OAHiB5B,GAA2BA,EAAA6B,mBAG5C,OAGa,IAAVjZ,EAAK+U,MAAa,GAAAqC,EAAAyB,SAAA,IAAAzB,EAAAyB,SAAAzB,EAAA0B,SAAA1B,EAAA2B,UAMrB,OALO/Y,EAAK6E,OACRhI,KAAAyb,aAAA5Y,EAAAM,GACaoX,GAA2BA,EAAA6B,mBAG5C,KAIoB,IAAjB7B,EAAIyB,SAAuC,IAA1BzB,EAAayB,SAAgBzB,EAAA0B,SAAA1B,EAAA2B,gBAkDjC,IAAbJ,GAAaA,GAAAD,KAAA,EAAA7b,KAAA8Y,iBAAA7X,SAAA,IAAAsZ,EAAAyB,SAAAzB,EAAA0B,SAAA1B,EAAA2B,SAwBA,IAAbJ,GAAaA,GAAAD,KAAA,EAAA7b,KAAA8Y,iBAAA7X,SAAA,IAAAsZ,EAAAyB,SAAAzB,EAAA0B,SAAA1B,EAAA2B,SAsBb/Y,EAAI6E,OAAS,IAAAuS,EAAAyB,UAAAzB,EAAA0B,SAAA1B,EAAA2B,SASA,IAAb3B,EAAIyB,SAASzB,EAAA0B,UAAA1B,EAAA2B,UAAC3B,GAA2BA,EAAA6B,kBAC3B7B,GAA0BA,EAAA8B,iBAEpClZ,IACAA,EAAKgW,SAAAhW,EAAegW,QACvBnZ,KAAAgZ,oBAGJ,WAjBiBuB,GAA2BA,EAAA6B,kBAC3B7B,GAA0BA,EAAA8B,iBAGxCrc,KAAAyb,aAAa5Y,EAAAM,IAChB,IA3BiBoX,GAA2BA,EAAA6B,kBAC3B7B,GAA0BA,EAAA8B,sBAI3B7C,IAATsC,QAAgCtC,IAATqC,GAAmCC,GAAID,GAC1D7b,KAAKiX,SAASpU,OAAS7C,KAAC8Y,iBAAA7X,OAAA,EACxBjB,KAAKiX,SAASpU,MAAK,EAGnB7C,KAAKiX,SAASpU,OAAK,EAFtB7C,KAAA+Y,SAAA/Y,KAAAiX,SAAApU,MAAA,IAOJ7C,KAAA+Y,SAAA/Y,KAAAiX,SAAApU,MAAAgZ,IAGJ,IA1CiBtB,GAA2BA,EAAA6B,kBAC3B7B,GAA0BA,EAAA8B,sBAI3B7C,IAATsC,QAA+BtC,IAARqC,GAAQ,GAAAC,GAGvBK,GAFkB,GAAtBnc,KAAKiX,SAASpU,MACd7C,KAAIiX,SAAQpU,MAAQ7C,KAAA8Y,iBAAsB7X,OAAS,IAInDjB,KAAIiX,SAAQpU,MAHE7C,KAAK8Y,iBAAgB9Y,KAAAiX,SAAUpU,OAAAqV,KAAAjX,QAChDjB,KAAA+Y,SAAA/Y,KAAAiX,SAAApU,MAAAsZ,IAQJnc,KAAA+Y,SAAA/Y,KAAAiX,SAAApU,MAAA,IAGJ,WApEgB2W,IAATsC,GAA8B,GAAJA,EAU7B,OAT6B,EAAtB9b,KAAKiX,SAAQpU,MAChB7C,KAAA2Y,QAAA,GAAA3Y,KAAAiX,SAAApU,MAAA,IAEG7C,KAAKiX,SAAQpU,OAAQ,EACxB7C,KAAA2Y,QAAA,IAAA,IACa4B,GAA2BA,EAAA6B,kBAC3B7B,GAA0BA,EAAA8B,kBAG3C,KAIGR,GAAkBC,GAAAD,GAAAC,EAOrB,OANO3Y,EAAK6E,OACRhI,KAAA2Y,QAAA,GAAA3Y,KAAAiX,SAAApU,OACa0X,GAA2BA,EAAA6B,kBAC3B7B,GAA0BA,EAAA8B,kBAG3C,KAIGR,GAAkBC,GAAAA,EAAAD,EAAA,CAEd,IAAIS,EACJ1D,MAFAzV,EAAI6E,MAGJsU,EAAenZ,EAAK+U,KAAAqE,UAAU,EAAQT,GACtClD,EAASzV,EAAG+U,KAAAqE,UAAaT,GACzB3Y,EAAK+U,KAAOoE,EAEZtc,KAAK2Y,QAAQC,EAAM5Y,KAAQiX,SAASpU,OACvC7C,KAAA+Y,SAAA/Y,KAAAiX,SAAApU,MAAA,GAKJ,OAJiB0X,GAA2BA,EAAA6B,kBAC3B7B,GAA0BA,EAAA8B,kBAG3C,EAKJ,OAHiB9B,GAA0BA,EAAA8B,kBAG3C,IAqER5F,aAzeOA,EAAW+F,EAAArB,EAAA5D,EAAAgE,GALH,IAAAlC,EAAArZ,KACAA,KAAAwc,SAAAA,EACAxc,KAAAmb,SAASA,EACTnb,KAAAuX,UAAUA,EAIlBvX,KAAAub,WAAkBA,EAElBiB,EAASC,SAAC,sBACNzc,KAAKoW,YAAgBhQ,EAAA7D,QAAAvC,KAAAoW,cACxBpW,KAAAoW,WAAA,IAGDpW,KAAKiX,SAAS,IAAIrB,EAClB5V,KAAKiX,SAAS2D,KAAA5a,KAAWmW,aACzBnW,KAAKiX,SAASmE,SAAUpb,KAAMmW,aAE9BnW,KAAKiX,SAAAxC,GAAazU,KAAK0Z,MAEvB1Z,KAAKkX,aAAAlX,KAAkBoW,iBACnB4C,gBAAK5S,EAAAsW,SAAoB,WAC1BrD,EAAKsC,qBAEX,aA+dAlc,OAAU,mBAAoB,CAAA,yBAAe,iBAErDkd,UAAA,mBAAA5G,wCCtjBD7T,OAAC0a,eAAApd,EAAA,aAAA,CAAA2E,OAAA,QA2FO0Y,EAAa,CACb7G,SAhFgB,CAChBC,WAAY,KACZC,WAAY,KACZE,WAAW,IACdE,UAAA,MA6EAC,YAAA,oCAEDC,cAzDmBE,QAAA,CAAA,cAYKvU,UAAcwU,WAAQ,SAAWC,QACzCC,UAAK7W,KAAQsW,cACLF,YAAMQ,EAAYR,WAAAU,uBACbE,OAAAhX,KAAUoW,WAAWQ,EAAWR,WAAAU,gBACxC9W,KAAA8V,UAGJ9V,KAAA8V,WAAA,EAHS9V,KAAEoW,WAAAQ,EAAAR,WAAAU,kBASY3U,UAAA0U,UAAA,SAAA1S,GAChC,OAAW,MAAPA,KACCA,IAKF,MAFNA,EAAAA,EAAA/B,WAAA+U,gBAEM,QAAAhT,MAEiBhC,UAAEwZ,kBAAA,gBAClB7F,WAAK,EACR9V,KAAAkW,YACJlW,KAAAkW,WAAAlW,KAAAoW,eAIcjU,UAAkBmY,QAAA,SAAAC,EAAApX,GAC5BoX,GACGA,EAAK6B,kBAERpc,KAAAiW,YAITjW,KAAA2b,qBAEMmB,aArDUA,EAAgBN,GAIxBxc,KAAKwc,SAAKA,OACN1G,WAAK,EACR9V,KAAAoW,YAAAhQ,EAAA7D,QAAAvC,KAAAoW,cAEDpW,KAASoW,WAAS,IAIfoG,EAAAC,SAAA,sBAkDd1F,QAAAtX,OAAA,mBAAA,CAAA,kZClGDyC,OAAA0a,eAAApd,EAAA,aAAA,CAAA2E,OAAA,IACA,IAAA4Y,EAAArc,EAAA,mCAEIsc,EAAgBtc,EAAS,iCAEhBuc,EAAAvc,EAAA,WACAU,EAAAV,EAAA,SACAlB,EAAA0d,oBAAsB,uBAEnC1d,EAAA2d,sBAAA,kBAAAC,uBAAA,uBAGA,SAAAC,OAIQA,iBAAeA,EACA,WAAAC,SAEXC,gBAAyB,KAAA,CACzBC,gBAAA,uBACAC,sBAAsB,gBACvBC,qBAAA,aACFC,mBAAc,eAEXJ,gBAAyB,KAAA,CACzBC,gBAAA,oBACAC,sBAAsB,oBACvBC,qBAAA,eACNC,mBAAA,uBAOJjH,QAAA,CAAA,gBAJD,SAIAkH,OAICA,iBAAAA,eAQDC,aAFAC,EAACC,EAAAC,GAEDD,GAFA,SAAAA,IAJsC,OAIrC,OAJqCC,GAIrCA,EAAAnc,MAAA7B,KAAA8B,YAAA9B,OAYA+d,iBAAAA,MAADE,EAVA,aAIWA,EAAAC,KAAA,OACAD,EAAAE,SAAmB,WACnBF,EAAAG,UAAe,YACfH,EAAAI,UAAA,YACAJ,EAAAK,SAAA,WACAL,EAAAM,KAAO,OATLN,EAAAO,eAAA,CAAA,YAAmB,YAAA,WAAA,QAYhCP,EAACQ,aAAA,CAAA,OAAA,cAEGC,IAAA,CAAA,OAAA,WAAA,YAAA,YAAA,WAAA,UAAAT,oBAAAA,mBAKWje,KAAA6C,MAAA,EAEV7C,KAAA4a,MAAA,EAAD5a,KAAA6V,OAAA,EAAC7V,KAAA8V,WAAA,GAipBA6I,EAAA,CAED3I,SAhoBoB,CAChBC,WAAW,KACXC,WAAW,KACX0I,WAAA,KACAC,YAAA,KACAC,YAAY,mBACZC,wBAAe,KAClB1I,mBAAA,KAED2I,aAAA,oBAAA1I,UAAA,kBAwnBS,kDAhlBSI,QAAA,CAAA,KAAA,WAAA,WAAA,YAAA,aAAA,kBAkELvU,UAAA8c,aAAA,kBAACjf,KAAQkf,iBAAe,SAAS/b,GAC9BA,EAAKgc,UAAUhc,EAAOgc,SAACC,MAC1Bjc,EAAAgc,SAAAC,QAERjc,EAAAkc,WAAAlc,EAAAkc,UAAAD,OAEOjc,EAAAkc,UAAAD,aAKgBjd,UAASmd,eAAA,SAAAnY,OACzBpE,EAAC,GAOL,OANAqD,EAAEoD,KAACrC,EAAA,SAAAhE,GAEIA,EAAMsR,IAChB1R,EAAAS,KAAAL,EAAAsR,MAGO1R,KAEcZ,UAAaod,YAAA,SAAAC,EAAAC,EAAAC,GAE/B,IAEQxG,EAFRG,EAAYrZ,OAGAoG,EAAI2U,UAAU/a,KACVkf,wBACW,cACPlf,KAAKkf,iBAAe,SAAA/b,EAAmBN,EAAEuB,KACzC+a,UAAWhc,EAAAgc,SAAAQ,KACfxc,EACAgc,SAACQ,KAAU,SAAAxY,UACPhE,EAAAyc,OACAzc,EAAI0c,QAAAxG,EAAiBiG,eAACnY,iBAErBwB,GAACmX,EAAMA,GAAAnX,EACJ+W,EACHtb,EAAAuE,GAGFvE,MAMHjB,EAAAkc,WAAWlc,EAAAkc,UAAAM,OACPN,UAAAM,KAAc,SAAGxY,GACjBhE,EAAI4c,KAAA5Y,gBAEHwB,GAACmX,EAAMA,GAAAnX,EACJ+W,EACHtb,EAAAuE,GAGLvE,MAMJA,cAECuE,EAAA5F,GACD4F,GAAKmX,GACDJ,GAAerG,EAAA4F,eACjB5F,EAAE6F,iBAAAhG,EACJuG,GACIA,EAAA9W,KAET0Q,EAAA2G,oBACVR,GAEMA,EAAAnG,EAAAwF,mBAIS1c,UAAgB8d,WAAA,WACxBlJ,QAAKmJ,WAAAlgB,KAAAmgB,wBACRngB,KAAAmgB,wBAEGpJ,QAAKmJ,WAAAlgB,KAAAogB,6BACRpgB,KAAAogB,6BAGErJ,QAAAmJ,WAAAlgB,KAAAqgB,+BACCrgB,KAAAqgB,kCAGcle,UAASwU,WAAc,SAAKC,gBAC1BA,EAAYN,UAAUQ,eAAKF,EAAiBN,UAAUgK,+BACzD1J,EAAYN,UAAMQ,kBACvBR,WAAcM,EAAAiI,aAAkBzY,EAAA7D,QAAAqU,EAAAiI,YAAA/H,iBACnC9W,KAAAiX,SAAAnB,WAAA9V,KAAA6e,aACJ7e,KAAA6e,YAAA5d,QAAAjB,KAAAkf,iBAAAje,UACJjB,KAAAkX,aAAAlX,KAAA6e,aAEW7e,KAAAiX,SAAcnB,WAAQ,IAK9Bc,EAAKX,YAAAW,EAAuBX,WAAWa,eAAAF,EAAwBX,WAAaqK,gBAC5EtgB,KAAKiW,WAAAW,EAAiBX,WAAAa,cAE7BF,EAAAmI,yBAAAnI,EAAAmI,wBAAAjI,eAAAF,EAAAmI,wBAAAuB,gBAEOtgB,KAAA+e,wBAAAnI,EAAAmI,wBAARjI,aAEQ9W,KAAKugB,qBAGFpe,UAAAqe,gBAAA,WACNxgB,KAAA4e,YACJ5e,KAAA4e,WAAA,CAEO6B,MAAAzgB,KAAA0gB,aAESve,UAAA0U,UAAA,SAAA1S,UAAQ,MAAPA,KAGdA,IAKe,MADfA,EAAIA,EAAS/B,WAAqB+U,gBACnB,QAAAhT,MAEChC,UAAAwe,aAAA,iBACF,CACV3Y,OAAO,EACVyM,GAAAzU,KAAA4gB,QAED9O,KAAO,OACVoG,KAAA,GAAA6H,KAAA,GAAAF,QAAA,GAAAgB,QAAA,KAAAC,SAAA,GAGOC,MAAA,KAAA5Q,IAAA,KAAA2K,UAAA,OAIS3Y,UAAaoe,eAAe,WAC5CvgB,KAAAghB,0BAEcxH,IAAPxZ,KAAA+e,yBAAwC,OAAhC/e,KAAA+e,wBACN/e,KAAOsd,aAAM2D,UAAejhB,KAAAkhB,oBAAkBlhB,KAAOsd,aAAA2D,UAAAjhB,KAAA+e,4BAIvC5c,UAAAwW,QAAA,SAAAwI,EAAAhd,QAChBiC,EAAAgb,QAAMphB,KAAAqhB,cAAWF,GAAA,QAEjBvI,EAAM,CACNnE,GAAAzU,KAAS4gB,QACT9O,KAAAqP,EACAjJ,KAAqB,QAArBiJ,EAAyBhd,EAAU,GACnC4b,KAAkB,aAAboB,GAA2Bhd,EAAQA,EAAW,GACnD0b,QAAoB,YAAfsB,GAAiChd,EAAMA,EAAU,GACtD0c,QAAsB,YAAbM,GAA4Bhd,EAASA,EAAG0c,QAAU,KAC7DC,SAAA,YAAAK,GAAAhd,EAAAA,EAAA2c,SAAA,GAGEC,MAA4B,QAAvBI,GAA4Bhd,EAAAA,EAAoB4c,MAAS,KAClE5Q,IAAwB,QAAhBgR,GAAsBhd,EAAAA,EAAAgM,IAAA,KAG1B2K,UAAsB,aAAjBqG,GAAoChd,EAACA,EAAA,IAE7CtB,EAAAuD,EAAAkb,UAAAthB,KAAAkf,iBAAA,CAAAzK,GAAAzU,KAAAiX,SAAApU,QAACA,EAAMA,EAAA,EAAA,EAAAA,EACyB,GAA7B7C,KAAKkf,iBAAiBje,QAAejB,KAAIkf,iBAAW,GAAAlX,MACpDhI,KAAKkf,iBAAM,GAAAtG,GAKX5Y,KAACkf,iBAAWnX,OAAAlF,EAAA,EAAA,EAAA+V,GAGhB/V,GAAW,GAIX7C,KAAKiX,SAAApU,MAAa+V,EAAAnE,GAClBzU,KAAKuhB,WACR/c,WAAAxE,KAAAwhB,SAAAxhB,KAAAqW,mBAAA,mBAAArW,KAAAiX,SAAAxC,GAAA,IAAA5R,GAAA,KAEO7C,KAAAyhB,SAAA,EACJzhB,KAAI0hB,aACJ1hB,KAAEgZ,sBACgC7W,UAACye,MAAA,WACnC,IAAGnM,GAAA,SAEHrO,EAAAoD,KAAOxJ,KAAKkf,iBAAE,SAAA/b,GACjBsR,EAAAtR,EAAAsR,KAEOA,EAAAtR,EAAAsR,MACmCA,EAAO,KAEnCtS,UAAAqf,SAAA,SAAAG,EAAAC,GACPD,GAAmBC,cAEf,WACJ,GAAIC,EAAAD,GAAezF,cAEPpY,KAAa+d,IAAAD,EAAAF,GAAeI,YAAiBF,EAAAD,GAAczF,WAAiB6F,KACtF,IAAF,CAGD,IAAKR,EAAAK,EAAAF,GAAAI,aAAAF,EAAAD,GAAAzF,WAAA6F,IAAA,IACXH,EAAAF,GAAAM,QAAA,CAEOF,UAAAP,EAAA,MACA,OAEF,QAEYrf,UAAA+f,UAAA,SAAAC,SACT,GASL,cAPIA,EAAO,SAAW1N,GACpB,IAAAtR,EAAA,CAEKsR,GAAAA,GAGH1R,EAAAS,KAAAL,KACCJ,KAGMZ,UAAA+U,aAAA,SAAAgC,GACX,IAACG,EAAArZ,MAAMkZ,GAACA,EAAAjY,OAAA,EACJjB,KAAK4Z,kBAIDsF,iBAAK,GACT9Y,EAAEoD,KAAC0P,EAAA,SAAA/V,GACCA,EAACsR,GAAO4E,EAAQuH,QACvBzd,EAAAyc,OAAAzc,EAAA0c,QAAAxG,EAAA6I,UAAA/e,EAAA0c,SAAA,KAEIxG,EAAA6F,iBAAa1b,KAAAL,KAGdnD,KAAAyhB,SAAA,OACoCC,iBAExBvf,UAAMuf,WAAA,WACzB,EAAA1hB,KAAAkf,iBAAAje,QAKGjB,KAAKub,WAAA6G,MAAiB5iB,EAAK4d,wBAAqBpd,KAAAyhB,UAEpDY,EAAClgB,UAAAyX,UAAA,WAEO5Z,KAAAkf,iBAAA,GACJlf,KAAAkf,iBAAiB1b,KAAAxD,KAAA2gB,gBACpB3gB,KAAAyhB,SAAA,KAGiBtf,UAAgBuX,IAAC,WAC/B,OAAK,IAAAC,MAGD0I,EAAAlgB,UAAA8W,eAAR,WACIjZ,KAAIiX,SAASnB,WAAK,OAAC+I,YAAY7e,KAAAkf,oBAEZ/c,UAAWmgB,eAAiB,SAAKjL,MAChDA,EAAApW,OAAW,EAEX,OAAI,SACJshB,EAAOlL,EAAAmL,SACX,GAACD,EAAA,IAAAA,EAAA,GAAA9N,KAAA,EAAA8N,EAAA,GAAA9N,GAAA2M,QAAA,kBAAAphB,KAAAiX,SAAAxC,IAAA,CAAK,IAAEgO,EAAAF,EAAA,GAAA9N,GAAAiO,MAAA,KAEP,OADelU,SAAeiU,EAAAA,EAAUxhB,OAAA,GAAA,IAQzC,OAAWjB,KAAEsiB,eAAkBC,MAelCpgB,UAAAwgB,kBAAA,SAAAngB,GAXG,OAAIA,EAAOiS,IAAAzU,KAAWiX,SAAIxC,MAEdtS,UAAiBygB,QAAQ,SAAYrI,SACrCva,KACA,KAADgc,uBACM,WACT,IAAC6G,EAAA9L,QAAAwC,QAAAF,EAAA9B,UAAA,GAAAuL,eAEDC,EAAc1J,EAAQiJ,eAAKO,GACxB,MAAAE,IACV1J,EAAApC,SAAApU,MAAAkgB,GAGE1J,EAAApC,SAAApU,MAAAwW,EAAA6F,iBAAU6D,GAAsCtO,IAC/C,OAEctS,UAAS6gB,UAAc,SAAWzI,EAAO1X,EAAOM,GAC9DnD,KAAIiW,YAGJ9S,IAACA,EAAA6E,OAAA,IAAAuS,EAAAyB,UAAAzB,EAAA0B,SAAA1B,EAAA2B,WACG3B,IACAA,EAAK6B,kBACR7B,EAAA8B,mBAER,EAAAxZ,GAEM7C,KAAAyb,aAAA5Y,OAIFV,UAAA6d,kBAAA,WACJhgB,KAAAiZ,iBAEMjZ,KAAAkW,YACClW,KAAKkW,WAAQlW,KAAK6e,gBAIb1c,UAAmBsZ,aAAQ,SAAe5Y,GAC/CA,EAAK,GAAwC,GAAhC7C,KAACkf,iBAAaje,SAEP,GAApBjB,KAAKkf,iBAAeje,QACpBjB,KAAKkf,iBAAa,GAAAlf,KAAA2gB,eACrB3gB,KAAAiX,SAAApU,MAAA7C,KAAAkf,iBAAA,GAAAzK,GAAKzU,KAAEuhB,SAAA,GACJvhB,KAAIyhB,SAAU,OACVC,eAGK,GAAL7e,GAAcA,EAAQ7C,KAAKkf,iBAAiBje,QAC/CjB,KAAAkf,iBAAAnX,OAAAlF,EAAA,GACGA,GAAK7C,KAASkf,iBAAaje,OAC9BjB,KAAAiX,SAAApU,MAAA7C,KAAAkf,iBAAAlf,KAAAkf,iBAAAje,OAAA,GAAAwT,GAIAzU,KAAAiX,SAAapU,MAAA7C,KAAAkf,iBAAArc,GAAA4R,GAErBzU,KAAAuhB,YAGGvhB,KAAI0hB,kBACA1I,sBAEe7W,UAAG8gB,gBAAA,SAAAzgB,GACrBA,GAAAA,EAAAwF,OAAAxF,EAAA0V,OACG1V,EAACwF,OAAK,EACNhI,KAAKyhB,SAAA,EACRzhB,KAAA0hB,cAGE1hB,KAAAiW,YACHjW,KAAOgZ,qBAIW7W,UAAQ+gB,kBAAA,SAAArgB,EAAAL,GAC7B,OAAAxC,KAAAiX,SAAApU,OAAAL,EAAAiS,KAAAjS,EAAAwF,SAGuB7F,UAAUghB,WAAS,gBACnClM,SAAK2D,MAAS,GAEtByH,EAAClgB,UAAAkZ,QAAA,SAAA5G,GAEMA,GAAAA,GAAAzU,KAAAiX,SAAApB,SAAP7V,KAAAiX,SAKC2D,MAAA,MAFqBzY,UAAW+Y,OAAA,SAAAzG,GAC7B,IAAG4E,EAAKrZ,KACXA,KAAAmb,SAAA,WAEM9B,EAAApC,SAAA2D,MAAA,EACCvB,EAAKpC,SAAUpB,OAAC,WAEF1T,UAAQmZ,YAAA,SAAAf,EAAA/X,GACtBxC,KAACiW,aAGFjW,KAAAiX,SAAApB,OAAA7V,KAAAiX,SAAOxC,GACVzU,KAAIiX,SAAK2D,MAAY,OAAE3D,SAAOpU,MAAAL,EAAAiS,OAEXtS,UAAGmY,QAAU,SAAAC,EAAA1X,EAAAL,GAC5BxC,KAAAiW,kBAIAgB,SAAOwJ,MAAA,UACVlG,GAAAA,EAAAwB,QAAAxB,EAAAwB,OAAAqH,UAE2B,SAAvB7I,EAAKwB,OAASqH,SAA8C,YAAxB7I,EAAKwB,OAAIqH,SAC9CpjB,KAAKiX,SAASpU,MAAML,EAAIiS,GAEvBzU,KAAAiX,SAAcpU,OAASL,EAACiS,IAAA,aAAAjS,EAAAsP,MAAA,EAAAtP,EAAAsY,UAAA7Z,QACxBjB,KAAAiX,SAAWpU,OAAAL,EAAAiS,IAAA,YAAAjS,EAAAsP,OAIhB9R,KAAIiX,SAAApU,MAAeL,EAAKiS,QACpB8M,gBAGHpf,UAAAsY,eAAA,SAAAC,EAAAlY,EAAAie,EAAA9F,GAED,GAAIA,GAAgB3a,KAAWiX,SAAAxC,IAAAjS,GAAAA,EAAAsP,KAA/B,OAKIjP,EAAI6X,IACItU,EAAKkb,UAAQthB,KAAAkf,iBAAuB,CAAIzK,GAACjS,EAAAiS,QAEnC,MAAiB,GAAdiG,EAAmB,IACvB7X,IAAA,CAGZ,IAFIA,EAAA7C,KAAAkf,iBAAAje,OAAA,IACG4B,EAAC7C,KAAAkf,iBAA6Bje,OAAC,GACtCT,EAAA,EAAAA,EAAAqa,EAAAhY,EAAArC,IACGR,KAAQkf,iBAAWrE,EAAAra,GAAAR,KAAAkf,iBAAArE,EAAAra,EAAA,GAGnBR,KAAKkf,iBAAgBrc,GAAGL,KAExBqY,EAAChY,EAAA,CAEJ,MADGA,EACHrC,EAAA,EAAAA,EAAAqC,EAAAgY,EAAAra,IACIR,KAAQkf,iBAAcrE,EAAAra,GAAiBR,KAAOkf,iBAAGrE,EAAAra,EAAA,GAGrDR,KAAQkf,iBAAGrc,GAAAL,EAEnBxC,KAAAiX,SAAApU,MAAA7C,KAAAkf,iBAAArc,GAAA4R,GAEDzU,KAAAuhB,WACIvhB,KAAKgZ,uBA5BDhZ,KAAAkf,iBAA+B9Y,EAAA2U,UAAK/a,KAAA6e,gBA8BvC1c,UAAAof,SAAA,SAAA1e,GACD,IAAIwW,EAAQrZ,KAGZ,MAH0B6C,EAATA,GAASuD,EAAAkb,UAAAthB,KAAAkf,iBAAA,CAAAzK,GAAAzU,KAAAiX,SAAApU,SAGpB,GAAN,CAEA,MAAIM,EAAAnD,KAAYkf,iBAAArc,GAChB,IAAAuD,EAAMqT,QAAOtW,YAaD2O,gCAEC,YACFwH,EAAIvC,QAAAwC,QAAA,mBAAAF,EAAApC,SAAAxC,GAAA,IAAA5R,EAAA,iCACDyW,EAAA+J,GAAA,WACL/J,EAAW7B,8CAMP,YACF6B,EAAIvC,QAAAwC,QAAA,mBAAAF,EAAApC,SAAAxC,GAAA,IAAA5R,EAAA,kCACDyW,EAAA+J,GAAA,WASL/J,EAAU7B,6CAMN,YACF6B,EAAIvC,QAAAwC,QAAA,mBAAAF,EAAApC,SAAAxC,GAAA,IAAA5R,EAAA,mCACDyW,EAAA+J,GAAA,WACC/J,EAAA7B,SAEd,OA0BL4K,aA1kBYA,EAAgBiB,EAAA9G,EAAArB,EAAA5D,EAAAgE,EAAA+B,GAEhB,IAAAjE,EAAArZ,KACAA,KAAAsjB,GAAAA,EACAtjB,KAAAwc,SAAAA,EA9BJxc,KAAAmb,SAAAA,EACAnb,KAAAuX,UAAAA,EAkCJvX,KAAKub,WAAWA,EAChBvb,KAAKsd,aAAcA,EAEnBtd,KAAAkhB,mBAAkB,wBAElBlhB,KAAKqhB,cAAapD,EAAkBS,IACpC1e,KAAKiX,SAAA,IAAcsM,EACnBvjB,KAAKiX,SAAOxC,GAAGzU,KAAA0Z,QACP+C,SAAE,wCACGzc,KAAA6e,kBACR0B,sBACDG,QAAO,MACH,SAAKlB,EAAeC,GACvBpG,EAAAkG,YAAAC,EAAAC,IAEHL,MAAA,WACG/F,EAAA4F,gBAIGtW,MAAI,wDAGC3I,KAAAub,WAAAiI,IAAAhkB,EAAA2d,sBAAA,SAAAsD,EAAAha,KACJ4S,EAAAyF,aAAOrY,EAAAgO,IAAAhO,EAAAgO,IAAA4E,EAAAyF,cAMZzF,EAAKV,QAASlS,EAAOqL,aAGpBsO,2BAAKpgB,KAAAub,WAAAiI,IAAAzG,EAAApH,oBAAA,WACP0D,EAAApC,SAAA2D,MAAA,EAECvB,EAAC8B,SAAA,WACG9B,EAAKpC,SAAS2D,MAAC,0CAGS5a,KAAAub,WAAeiI,IAASxG,EAAGyG,sBAAA,wBAE9CtI,SAAA,WACF,IAAI7B,EAAAvC,QAAAwC,QAAA,wBAAAF,EAAApC,SAAAxC,GAAA,MACV6E,IAAAA,EAAA+J,GAAA,WACF/J,EAAA7B,SAGM,MAILzX,KAAAgZ,gBAAA5S,EAAAsW,SAAA,WACFrD,EAAK2G,uLCvMlB,CAAA0D,kCAAA,EAAAC,UAAA,GAAAC,gCAAA,GAAAxiB,MAAA,IAAAyiB,EAAA,CAAA,SAAAnjB,EAAAjB,EAAAD,sCAgBoBA,EAAI,aAAA,CAAA2E,OAAA,UACjBzD,EAAsB,mCA6K1BojB,EAAe,UA3Ke,CAC1BjF,YAAA,KACAkF,iBAAA,KACAC,YAAW,KACdC,qBAAA,KAEDC,uBAAA,KAAAC,uBAAA,KAUA7N,UAAC,MA8JJC,YAAA,wDAhJ+BG,QAAiB,CAAA,cAuB5BvU,UAAAwU,WAAA,SAAAC,GACL5W,KAAC6W,UAAA7W,KAAAsW,YACJM,EAAAiI,aAAAjI,EAAAiI,YAAA/H,eACJC,QAAAC,OAAAhX,KAAA6e,YAAAjI,EAAAiI,YAAA/H,eAEO9W,KAAAkX,aAAAlX,KAAA6e,iBAMC1c,UAAA+f,UAAA,SAAAC,OAEDpf,EAAO,GAQX,OAPAqD,EAAEoD,KAAA2Y,EAAA,SAAA1N,GAEF,IAAOtR,EAAO,CACjBsR,GAAAA,GAGO1R,EAAKS,KAAIL,KACRJ,KACiBZ,UAAG0U,UAAc,SAAA1S,GAEvC,OAAY,MAAZA,KAKGA,IAE2B,QADpBA,EAAO/B,WAAA+U,gBACa,QAAAhT,MAEZhC,UAAAiiB,eAAA,SAAAlL,EAAA/L,MAChBA,OAEEkX,EAAQ,MACJ,eACK,YAEG,SAAUlhB,MAClBA,GAACA,EAAA2O,MAAAwS,EAAArG,oBAAAG,UAAA,CACJ,IAAAmG,EAAAphB,EAAA2X,UAAA7Z,OACFkC,EAAA2X,UAAA1U,EAAAoe,KAAArhB,EAAA2X,UAAA3N,GACNA,EAAAoX,GAACphB,EAAA2X,UAAAtX,KAAA6gB,UAQeliB,UAAAsiB,cAAkC,SAAKvL,OAIhD1Y,IAHIR,KACJ+C,EAAC,GAeL,gBAZe,SAAWI,MACX,GAAPkW,EAAM4K,sBAACzjB,GAAA6Y,EAAA4K,qBACV,OAAAlhB,EAGEsW,EAAO8K,uBAAA/C,QAAAje,EAAA2O,MAAA,IACjB/O,EAAAS,KAAAL,GAGM3C,GAAA,KAGCuC,KAGkBZ,UAAWuiB,uBAAa,SAAAxL,EAAAyL,eAElC3kB,KAAAkkB,uBAAyB,EAAAhL,EAAAjY,OAAAjB,KAAAkkB,yBACzB,GACJ1jB,EAAC0Y,EAAAjY,WACJ,EAAA0jB,EAAAvD,QAAAlI,EAAA1Y,GAAAsR,QACJ/O,EAAAS,KAAA0V,EAAA1Y,IAEMuC,EAAO9B,QAAAyD,IAJLlE,YASLuC,KAGHZ,UAAA+U,aAAA,SAAAgC,GAAC,IAAIG,EAAErZ,SACJkZ,GAAIA,EAAcjY,OAAqB,EACvCjB,KAAI4Z,iBAKJ,IAOGgL,EAPCC,EAAgBze,EAAA2U,UAAa7B,GAE7BnW,EAAW/C,KAAAykB,cAAAI,GACA,GAAb9hB,EAAK9B,SACH8B,EAAO/C,KAAK0kB,uBAACG,EAAA7kB,KAAAmkB,8BAEbC,eAAKrhB,EAAA/C,KAAA+jB,kBAET3d,EAAAoD,KAAKzG,EAAA,SAAmBI,GAC3BA,EAAAsR,GAAAmQ,EACJzhB,EAAAyc,OAAAzc,EAAA0c,QAAAxG,EAAA6I,UAAA/e,EAAA0c,SAAA,KAEM+E,MAEN5kB,KAAAkf,iBAAAnc,IAGC+hB,EAAyC3iB,UAAAyX,UAAA,WAC3C5Z,KAAQkf,iBAAE,IAEV4F,aAnIIA,EAAkBtI,GAGlBxc,KAAKwc,SAAWA,EAChBxc,KAAK+kB,gBAAA,EACL/kB,KAAKglB,mBAAA,EACLxI,EAAKC,SAAA,yBAELzc,KAAK+jB,iBAAkB/jB,KAAA+jB,iBAAa/jB,KAAA+jB,iBAAA,EACvC/jB,KAAAgkB,YAAAhkB,KAAAgkB,YAAAhkB,KAAAgkB,YAAA,EAEMhkB,KAAAikB,0BAAWzK,IAAXxZ,KAAAikB,sBAAmD,OAAAjkB,KAAAikB,sBAAA,EAAAjkB,KAAAikB,qBACtDjkB,KAAIkkB,4BAAiC1K,IAAbxZ,KAAWkkB,wBAAE,OAAAlkB,KAAAkkB,wBAAA,EAAAlkB,KAAAkkB,4BACjCC,uBAAuBnkB,KAAImkB,wBAAoB/d,EAAY7D,QAAGvC,KAAAmkB,wBAAAnkB,KAAAmkB,uBAAAG,EAAArG,oBAAAO,iCACrDxe,KAAQ6e,qICxEjClC,UAAA,sBAAAmH,uCAEA,IAAAmB,EAAA,CAAA,SAAAvkB,EAAAjB,EAAAD,uBAGAod,eAAApd,EAAA,aAAC,CAAA2E,OAAA,IAED,SALa+gB,KAGb,IAHAZ,EAGC5jB,EAAA,qCAKUwkB,4BAAyBA,mBAGzBllB,KAAAmlB,SAAgB,EAC1BnlB,KAAAolB,UAAA,EAADplB,KAAAqlB,UAAA,EAACrlB,KAAAygB,OAAA,EAPYzgB,KAAA8a,WAAA,EASZ9a,KAAAkY,MAAA,4BAIwBoN,EAEF,WAASC,KACNC,aAAA,KAAA,CACdC,KAAA,OACDC,UAAA,YAEHC,SAAA,WACIC,QAAQ,UACRC,KAAA,OACAC,SAAY,eAEGN,aAAA,KAAA,CACfC,KAAA,QACDC,UAAA,SACNC,SAAA,UAWKC,QAAA,cACFC,KAAY,QACZC,SAAY,eAGfpP,QAAA,CAAA,wBAED,MA8Fe,CAElBV,SAhGG,CAAAC,WAAA,KAOA8P,WAAC,sBAF+DC,iBAAC,KAEjElH,YAAA,wFAoByBpI,QAAA,CAAA,aAAA,cAiBIvU,UAAA8d,WAAA,WACpBlJ,QAAAmJ,WAAAlgB,KAAAmgB,wBACJngB,KAAAmgB,2BAGmChe,UAAAwU,WAAA,SAAAC,GAC5BA,EAAOoP,kBAAApP,EAAAoP,iBAAAlP,cAAC9W,KAAAimB,aAIhBC,EAAC/jB,UAAA0U,UAAA,SAAA1S,GAEM,OAAA,MAAAA,KAECA,IAIY,QAFdA,EAAA/B,WAAA+U,gBAEoB,QAAAhT,IACzB+hB,EAAC/jB,UAAAiY,UAAA,SAAA+G,GAEK,IAAAgF,EAAA,CACDrU,KAAOqP,EACL1M,GAACzU,KAAA8e,aAeP9e,KAAAub,WAAA6G,MAAAkC,EAAAnH,sBAAAgJ,IAIAD,EAAyC/jB,UAAA8jB,UAAA,WAC3C7f,EAAAggB,OAAUpmB,KAAAgmB,iBAAwBhmB,KAAAgmB,kBAClChmB,KAAAqmB,cAAanO,MAAA,GAITgO,aA/DAA,EAAkB3K,EAAyBiB,OAGvCnD,EAAKrZ,KACTA,KAAGub,WAAAA,EACNvb,KAAAwc,SAAAA,EAEMxc,KAAAqmB,cAAA,IAAAf,EACHtlB,KAAIimB,cACKxJ,SAAA,yBACTzc,KAACmgB,sBAAAngB,KAAAub,WAAAiI,IAAAc,EAAApH,oBAAA,SAAAuD,EAAAtc,GACJkV,EAAA0M,YAAA5hB,IC5FR4S,QAAAtX,OAAA,sBAAA,CAAA,2BAWS6mB,OAAAC,GACF5J,UAAU,sBAAM6J,uCAEA,IAAAC,EAAA,CAAA,SAAA/lB,EAAAjB,EAAAD,sCAELA,EAAI,aAAA,CAAA2E,OAAA,IAGnB,OCpBH6R,SDoBG,CAAAC,WAAA,KAQAyQ,qBAAC,KAADxQ,WAAA,KARA2I,YAQC,KAEDvI,UAAA,MCZAC,YAAA,oCAIIC,cD2BwBE,QAAS,CAAA,WAAK,YAcfvU,UAAWwU,WAAW,SAAYC,GACpDA,EAAAN,WAAAM,EAAAN,UAAAQ,eAAAF,EAAAN,UAAAgK,gBAEGtgB,KAAAsW,UAAQM,EAAAN,UAAwBQ,aAC5B9W,KAACsW,WAAAM,EAAuBiI,aAAQzY,EAAA7D,QAAAqU,EAAqBiI,YAAa/H,iBACzE,IAAA9W,KAAAiX,SAAAnB,UAAA9V,KAAAiX,SAAAnB,WAAA,EAAA9V,KAAAkX,aAAAN,EAAAiI,YAAA/H,gBAIGF,EAAMX,YAAiCW,EAAAX,WAAAa,eAAAF,EAAAX,WAAAqK,gBAEzCtgB,KAAKiW,WAAMW,EAAUX,WAAAa,gBAEX4P,sBAAE9P,EAAA8P,qBAAA5P,eAAAF,EAAA8P,qBAAApG,qBACToG,qBAAA9P,EAAA8P,qBAAA5P,iBAKS3U,UAAA+f,UAAA,SAAAC,GACjB,IAAApf,EAAA,GASA,OAPOqD,EAAAoD,KAAA2Y,EAAA,SAAA1N,GACA,IAACtR,EAAS,CACTsR,GAAAA,GAGF1R,EAAAS,KAAAL,KAENJ,KAGsBZ,UAAG8W,eAAA,WACtBjZ,KAAIiX,SAAKnB,WAAa,OAClB+I,YAAe7e,KAAKkf,kBAE5ByH,EAACxkB,UAAAykB,WAAA,WAEM,OAAA,IAAA5mB,KAAA0mB,uBAAP,IAAO1mB,KAAPiW,cAEwB9T,UAAA8gB,gBAAA,gBAChBhK,iBACPjZ,KAAAkW,YAEOlW,KAAAkW,WAAAlW,KAAA6e,gBAEgB1c,UAAC6d,kBAAA,gBACjB/G,iBACHjZ,KAAAkW,YAAKlW,KAAEkW,WAAAlW,KAAA6e,gBAEe1c,UAAA+U,aAAA,SAAAgC,OACnBG,EAAOrZ,YACCkZ,EAAYjY,OAAK,6BAKrBie,iBAAK,OACL0F,EAAK,EACTxe,EAAEoD,KAAC0P,EAAA,SAAA/V,GACN,GAAA,iBAAA,GAAA,MAAAA,EACJ,MAAA,IAAAtC,MAAA,yBAGQsC,EAAAsR,GAAAmQ,EACRzhB,EAAAyc,OAAAzc,EAAA0c,QAAAxG,EAAA6I,UAAA/e,EAAA0c,SAAA,KACL+E,IAACvL,EAAA6F,iBAAA1b,KAAAL,OAKGwjB,EAAYxkB,UAAAyX,UAAuB,WACtC5Z,KAAAkf,iBAAA,IAGIyH,aAvFQA,EAAkBnK,EAAaqK,GAGjC7mB,KAAAwc,SAAAA,EACHxc,KAAI6mB,OAAQA,OACR5P,SAAK,KACDwF,SAAK,oCACA3G,WAAS,OACjB+I,YAAAzY,EAAA7D,QAAAvC,KAAA6e,aAAA7e,KAAA6e,YAAA,GACL7e,KAACkX,aAAAlX,KAAA6e,qBCrCOpf,OAAA,mBAAwB,CAAA,eAAA,eAAA,cAAA,WAAA,yBAAA,8BACxB,mBAA2BqnB,qBAE3BpmB,EAAAjB,EAAgCD,GAgF/C,SAAAunB,EAAAC,GAED,MAAQ,CACHC,SAAU,KAElBC,OAAA,iGA/E2BxQ,QAAC,CAAA,SAAA,SAAA,WAAA,YAWTvU,UAAWqf,SAAe,SAAAI,SACtB5hB,KACZwE,WAAQ,WACV,KAADT,KAAA+d,IAAAD,EAAAxI,EAAAsI,eAAAI,YAAAF,EAAAD,GAAAzF,WAAA6F,KAAC,IAAA,CAKM,IAAIR,EAAQK,EAAAxI,EAAAsI,eAAuBI,aAAOF,EAAAD,GAA2BzF,WAAQ6F,IAAO,IACpFH,EAAAxI,EAAKsI,eAAOM,QAAmB,CAC3BF,UAAQP,EAAA,MACZ,OACH,QAEerf,UAAA8jB,UAAmB,WACK,OAApCjmB,KAAKmnB,OAAOC,0BAAwB5N,IAAAxZ,KAAAmnB,OAAAC,qBACpCpnB,KAAKmnB,OAAOE,gBAAgBrnB,KAAKmnB,OAAAC,oBAAAjC,QAAAnlB,KAAAmnB,OAAAC,oBAAAjC,QAAAnlB,KAAAmnB,OAAAE,gBACpCrnB,KAAAmnB,OAAAG,iBAAAtnB,KAAAmnB,OAAAC,oBAAAhC,SAAAplB,KAAAmnB,OAAAC,oBAAAhC,SAAAplB,KAAAmnB,OAAAG,iBACJtnB,KAAAmnB,OAAAI,iBAAAvnB,KAAAmnB,OAAAC,oBAAA/B,SAAArlB,KAAAmnB,OAAAC,oBAAA/B,SAAArlB,KAAAmnB,OAAAI,iBAACvnB,KAAAmnB,OAAAK,cAAAxnB,KAAAmnB,OAAAC,oBAAA3G,MAAAzgB,KAAAmnB,OAAAC,oBAAA3G,MAAAzgB,KAAAmnB,OAAAK,gBAG2BxnB,KAAAmnB,OAAOE,iBAAA,EAEhCrnB,KAAQmnB,OAAOG,kBAAA,EACXtnB,KAAKmnB,OAAOI,kBAAA,OAERJ,OAAQK,eAAQ,MAKRrlB,UAAQslB,cAAc,SAAA3V,gCAGlCA,OAEI,QACI9R,KAAAmnB,OAASO,WACblG,SAAM,eACV,UAEI,YACIxhB,KAAAmnB,OAASQ,eACbnG,SAAM,2BACb,MAAC,IAAA,WACLxhB,KAAAmnB,OAAAS,cAACpG,SAAA,0BAGN,MAAC,IAAA,WAEqBxhB,KAAAmnB,OAAUU,cACrBrG,SAAA,wBAUFsG,GAvEL,SAACA,EAAAd,EAAAG,EAAA3K,EAAAqK,GAED7mB,KAAAgnB,OAAAA,EACIhnB,KAAAmnB,OAAWA,OACP3K,SAAWA,OACXqK,OAAIA,+BACOG,EAAAH,EAAAkB,2BACVpG,cAAA3hB,KAAAgoB,wBAAAb,QACDlB,YCrChBc,EAAArQ,QAAC,CAAA,UAJDK,QAICtX,OAAA,mBAAA,CAAA,2BAJYwoB,UAAA,mBAAalB,yCCE1B7kB,OAAA0a,eAAApd,EAAA,aAAA,CAAA2E,OAAA,IAgBA,SAhBA+jB,6DCFAhmB,OAAA0a,eAAApd,EAAA,aAAA,CAAA2E,OAAA,IASA,SATA0Z,KAE2Bre,EAAAqe,aAAAA,GACA,IAAAsK,GAAA,CAAA,SAAAznB,EAAQjB,EAAWD,GACnB,aACA0C,OAAA0a,eAAApd,EAAmB,aAAW,CAAA2E,OAAA,IAC9B,IAAAikB,EACA,mDCP3BA,EAAA9J,SAAA,aAAAC,KAAA,SAGCJ,SAAA,aAADE,UAAC,YAAD+J,EAHAC,SAAA,WAC2BD,EAAAE,OAAkB,SAClB9oB,EAAA4oB,iBAAiBA,GAF/B,IAAAG,GAAA,CAAA,SAAA7nB,EAAAjB,EAAAD,oFCCbgpB,EAAAC,QAAA,UACAD,EAAAF,OAAA,SAEA9oB,EAAAgpB,aAAAA,GACA,IAAAE,GAAA,CAAA,SAAAhoB,EAAAjB,EAAAD,GACA,2ECNA0C,OAAA0a,eAAApd,EAAA,aAAA,CAAA2E,OAAoD,IAWpDzD,EAAM,eACF,qBACA,wBACAA,EAAU,gBACVA,EAAY,sBACfA,EAAA,wBAED,CAAAioB,kBAAA,GAAAC,YAAA,GAAAC,qBAAA,KAAAC,GAAA,CAAA,SAAApoB,EAAAjB,EAAAD,uBAOCod,eAAApd,EAAA,aAAA,CAAA2E,OAAA,QAAD4kB,EAAAroB,EAAA,wBAPAsoB,EAOC,CAODC,WAAA,oBAeIC,UAAA,4BACY,yBACA,qBAMIxS,QAAA,CAAA,WAAA,SAAA,SAAA,cAeOvU,UAAGgnB,QAAA,eACrBhnB,UAAAwU,WAAA,SAAAC,GACJlO,QAAA6H,IAAA,cAEMvQ,KAAAopB,UAEgBjnB,UAAOknB,UAAA,mBAClB9Y,IAAC,WAAcvQ,KAAAmnB,QAC1BnnB,KAAAspB,KAAAtpB,KAAAmnB,OAAAoC,YAGepnB,UAAeinB,KAAA,WACtBppB,KAAAipB,aACRjpB,KAAAipB,WAAAF,EAAAP,aAAAF,WAImBnmB,UAAaqnB,aAAA,WAC7B9gB,QAAC6H,IAAA,gBAEDvQ,KAAOspB,KAAMG,IAAAC,QAChB1pB,KAAA2pB,SAAA3pB,KAAAipB,WAAAjpB,KAAAkpB,YACLU,EAAAznB,UAAC0nB,YAAA,WAAAnhB,QAAA6H,IAAA,eAEAvQ,KAAA2pB,SAAA3pB,KAAAipB,WAAAjpB,KAAAkpB,cAGO/mB,UAAqBykB,WAAmB,mBACpC5mB,KAAAiW,YACAjW,KAAAiW,iBA3CR,SAAC2T,EAAApN,EAAA2K,EAAA2C,EAAAC,GAxBoE/pB,KAAAwc,SAAAA,EA0B9Dxc,KAAAmnB,OAAAA,EACHnnB,KAAA8pB,OAAYA,EACZ9pB,KAAK+pB,SAAOA,EACf/pB,KAAAgqB,uBAAA,CAEM,CAAA7W,MAAA,uBAAA8W,WAAP,6BAAAxV,GAAAsU,EAAAP,aAAAF,QACI,CAAAnV,MAAY,wBAAwB8W,WAAA,8BAAAxV,GAAAsU,EAAAP,aAAAC,UAEvCjM,EAAAC,SAAA,qBAEOzc,KAAAopB,gBAwCAc,EAAqB3E,KACrBC,aAAoB,KAAA,CACpB2E,oBAAoB,gBACpBC,mBAAoB,eACpBC,mBAAoB,iCACpBC,mBAAA,YACAC,qBAAA,SACAC,sBAAA,UACDC,2BAAA,SACNC,4BAAA,cAGWlF,aAAsB,KAAA,CAC7B2E,oBAAU,0BACPC,mBAAU,0BACVC,mBAAa,kCACbC,mBAAY,eACZC,qBAAqB,SACvBC,sBAAA,UACDC,2BAAO,SACXC,4BAAA,cArBwBhU,QAAa,CAAA,gCClGpCjX,OAAA,kBAA8C,IAChDkd,UAAY,kBAAmB,CAC/B3G,SAAWgT,EACdzS,YAAA,kCAEDC,WAAAoT,EAAAe,aAAA,UAKArE,OAAA4D,IAEA,CAAAU,uBAAA,KAAAC,GAAA,CAAA,SAAAnqB,EAAAjB,EAAAD,sCAMwBA,EAAR,aAAgB,CAAA2E,OAAA,UACjB,YAEC,8BAEH,oBAQD2mB,GAERA,EAACpU,QAAA,CAAA,WAAA,YAaDoU,EAAC3oB,UAAAgnB,QAAA,aAED2B,EAAA3oB,UAA+BwU,WAAA,SAAoBC,GAC/ClO,QAAA6H,IAAA,mBACI6Y,UAEDjnB,UAAAinB,KAAA,aAGA0B,GApBX,SAAAA,EAACtO,EAAAuN,GAAA/pB,KAAAwc,SAAAA,EAEAxc,KAAA+pB,SAAAA,EAEGvN,EAAAC,SAAA,qBACIzc,KAAAopB,gBAoBI2B,EAAkCxF,GAClCA,EAAqBC,aAAA,KAAA,IACvBD,EAAAC,aAAA,KAAA,aAEDwF,EAAOC,GACXA,EAAAC,qBAAA,yCAPiBxU,QAAA,CAAA,0BACGA,QAAA,CAAA,6DCjEzBiG,UAAA,kBAAA,CACA3G,SAAAmV,EACA5U,YAAA,kCACAC,WAAAsU,EACAH,aAAA,UAEArE,OAAA0E,GACA1E,OAAAyE,IAEA,IAAAK,GAAA,CAAA,SAAA1qB,EAAAjB,EAAAD,GACA,oBAKIod,eAAkBpd,EAAA,aAAA,CAAA2E,OAAA,MAClB,oCACA,oCACA,oCACA,0CACA,0CACA,oCACA,kCACA,oBACA,oCACD,gCAEHzD,EAAA,4CC9BAqW,QAACtX,OAAA,eAAA,CAKG,4EAIA,mBAEA,kEAGI,iBACP,sCDDD,SAAgB4rB,GAEhB,IAAQ,IAAAtqB,KAAOsqB,EAAA7rB,EAAgB+D,eAAAxC,KAAAvB,EAAAuB,GAAAsqB,EAAAtqB,KEXrBL,EAAA,8CAC0B,EAAE4qB,iCAAE,EAAAC,iCAAA,EAAAC,uCAAA,EAAAC,uCAAA,EAAAC,iCAAA,EAAAC,iCAAA,GAAAC,SAAA,GAAAC,+BAAA,GAAAC,+BAAA,GAAAC,iBAAA,GAAAC,+BAAA,KAAAC,GAAA,CAAA,SAAAvrB,EAAAjB,EAAAD,GAE7B,SAAH0sB,EAAGhF,EAAAiF,EAAAC,GACND,EAAAE,KAAA,uBAAA,SAAAjsB,GAEO8mB,EAAMoF,OAACF,EAAAG,sBAGXxV,QAAGtX,OAAA,kBACVwoB,UAAA,qBAAA,uBCfD,IAAAuE,GAAQ,CAAA,SAAO9rB,EAAAjB,EAAkBD,GAGjC,SAAAitB,EAAyBvF,EAAAiF,EAAAC,wECDxBrV,QAAAtX,OAAA,kBACGwoB,UAAA,mBAAA,WACI,OAAAwE,sBAMO/rB,EAAAjB,EAAAD,sCAEXA,EAAA,aAAC,CAAA2E,OAAA,YATD1E,OASC,iBAAA,MAEK,uBACF,yCACc,GAAGitB,kBAAA,KAAAC,GAAA,CAAA,SAAAjsB,EAAAjB,EAAAD,sCAEHA,EAAE,aAAA,CAAA2E,OAA0B,4BACzC,mBAGL,IAAAyoB,KACelW,QAAuB,CAAA,WAAkB,cCpB5DkW,GDsBC,SAAAA,EAAApQ,EAAAjB,6CCzBDA,EAAAC,WAAAhc,EAAAikB,yBAYA1M,QAAAtX,OAAA,sBAAA,IACAwoB,UAAA,sBARA,WACA,MAAA,CACAhB,SAAA,IACAC,OAAA,EACA1Q,WAAAoW,MAMA,IAAAC,GAAA,CAAA,SAAAnsB,EAAAjB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAAsX,QAAAtX,OAAA,0BACA,MAAAW,GACAX,EAAAsX,QAAAtX,OAAA,yBAAA,IAEAA,EAAAqT,IAAA,CAAA,iBAAA,SAAAga,GACAA,EAAAC,IAAA,oCACA,swGARA,GAaA,SAAAttB,GACA,IACAA,EAAAsX,QAAAtX,OAAA,0BACA,MAAAW,GACAX,EAAAsX,QAAAtX,OAAA,yBAAA,IAEAA,EAAAqT,IAAA,CAAA,iBAAA,SAAAga,GACAA,EAAAC,IAAA,oCACA,wcARA,GAYA,SAAAttB,GACA,IACAA,EAAAsX,QAAAtX,OAAA,0BACA,MAAAW,GACAX,EAAAsX,QAAAtX,OAAA,yBAAA,IAEAA,EAAAqT,IAAA,CAAA,iBAAA,SAAAga,GACAA,EAAAC,IAAA,oCACA,2jKARA,GAaA,SAAAttB,GACA,IACAA,EAAAsX,QAAAtX,OAAA,0BACA,MAAAW,GACAX,EAAAsX,QAAAtX,OAAA,yBAAA,IAEAA,EAAAqT,IAAA,CAAA,iBAAA,SAAAga,GACAA,EAAAC,IAAA,0CACA,2lEARA,GAYA,SAAAttB,GACA,IACAA,EAAAsX,QAAAtX,OAAA,0BACA,MAAAW,GACAX,EAAAsX,QAAAtX,OAAA,yBAAA,IAEAA,EAAAqT,IAAA,CAAA,iBAAA,SAAAga,GACAA,EAAAC,IAAA,0CACA,ugEARA,GAYA,SAAAttB,GACA,IACAA,EAAAsX,QAAAtX,OAAA,0BACA,MAAAW,GACAX,EAAAsX,QAAAtX,OAAA,yBAAA,IAEAA,EAAAqT,IAAA,CAAA,iBAAA,SAAAga,GACAA,EAAAC,IAAA,oCACA,u1EARA,GAYA,SAAAttB,GACA,IACAA,EAAAsX,QAAAtX,OAAA,0BACA,MAAAW,GACAX,EAAAsX,QAAAtX,OAAA,yBAAA,IAEAA,EAAAqT,IAAA,CAAA,iBAAA,SAAAga,GACAA,EAAAC,IAAA,oCACA,2qCARA,GAYA,SAAAttB,GACA,IACAA,EAAAsX,QAAAtX,OAAA,0BACA,MAAAW,GACAX,EAAAsX,QAAAtX,OAAA,yBAAA,IAEAA,EAAAqT,IAAA,CAAA,iBAAA,SAAAga,GACAA,EAAAC,IAAA,kCACA,i6BARA,qnBvBtGA","file":"pip-suite-composite.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};","import { ChecklistItem } from '../data';\nexport const ChecklistDraggEvent: string = 'onChecklistDrag';\n\n{\n\n    class ChecklistSelected {\n        public index: number = 0;\n        public drag: boolean;\n        public dragInit: boolean;\n        public dragId: number = 0;\n        public id: number;\n        public isChanged: boolean = false;\n    }\n\n    interface IChecklistEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipDraggable: any;\n        pipOptions: any;\n        pipScrollContainer: any;\n        pipRebind: any;\n    }\n\n    const ChecklistEditBindings: IChecklistEditBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipDraggable: '<?',\n        pipOptions: '=',\n        pipScrollContainer: '<?',\n        pipRebind: '<?'\n    }\n\n    class ChecklistEditBindingsChanges implements ng.IOnChangesObject, IChecklistEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipDraggable: ng.IChangesObject<boolean>;\n        pipOptions: ng.IChangesObject<ChecklistItem[]>;\n        pipScrollContainer: ng.IChangesObject<string>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class ChecklistEditController {\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipDraggable: boolean;\n        public pipScrollContainer: string;\n        public pipOptions: ChecklistItem[];\n        public pipRebind: boolean;\n\n        private _debounceChange: any;\n\n        public selected: ChecklistSelected;\n\n        public checklistContent: ChecklistItem[];\n        public isWidth: boolean;\n\n\n        constructor(\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $document,\n            private $rootScope: ng.IRootScopeService\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-checklist-edit');\n\n            if (!this.pipOptions || !_.isArray(this.pipOptions)) {\n                this.pipOptions = [];\n            }\n\n            this.selected = new ChecklistSelected();\n            this.selected.drag = this.pipDraggable;\n            this.selected.dragInit = this.pipDraggable;\n            this.selected.id = this.now();\n\n            this.generateList(this.pipOptions);\n\n            this._debounceChange = _.debounce(() => {\n                this.onChecklistChange();\n            }, 200);\n\n        }\n\n        public $onChanges(changes: ChecklistEditBindingsChanges): void {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipOptions && changes.pipOptions.currentValue) {\n                    if (!angular.equals(this.pipOptions, changes.pipOptions.currentValue)) {\n                        if (!this.selected.isChanged) {\n                            this.generateList(changes.pipOptions.currentValue);\n                            // this.pipOptions = changes.pipOptions.currentValue;\n                        } else {\n                            this.selected.isChanged = false;\n                        }\n                    }\n                }\n                if (changes.pipDraggable && changes.pipDraggable.currentValue) {\n                    this.pipDraggable = changes.pipDraggable.currentValue;\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) { return false; }\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getCaret(el: any): number {\n            if (el.selectionStart) {\n                return el.selectionStart;\n            } else if (this.$document.selection) {\n                el.focus();\n\n                let r = this.$document.selection.createRange();\n                if (r == null) {\n                    return 0;\n                }\n\n                var re = el.createTextRange(),\n                    rc = re.duplicate();\n                re.moveToBookmark(r.getBookmark());\n                rc.setEndPoint('EndToStart', re);\n\n                return rc.text.length;\n            }\n\n            return 0;\n        }\n\n        private setSelectionRange(input, selectionStart, selectionEnd): void {\n            if (input.setSelectionRange) {\n                input.focus();\n                input.setSelectionRange(selectionStart, selectionEnd);\n            } else if (input.createTextRange) {\n                var range = input.createTextRange();\n                range.collapse(true);\n                range.moveEnd('character', selectionEnd);\n                range.moveStart('character', selectionStart);\n                range.select();\n            }\n        }\n\n        private setCaretToPos(input, pos): void {\n            this.setSelectionRange(input, pos, pos);\n        }\n\n        private addItem(text: string, index: number): void {\n            let newItem: ChecklistItem = this.getNewItem(text, false);\n            if (index > -1) {\n                this.selected.index = index;\n            }\n\n            if (this.checklistContent.length < 2) {\n                this.checklistContent.unshift(newItem);\n            } else {\n                this.checklistContent.splice(this.selected.index + 1, 0, newItem);\n            }\n            this.selected.index += 1;\n            this.setFocus(this.selected.index);\n\n            this._debounceChange();\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            let content: ChecklistItem[] = [];\n            _.each(this.checklistContent, (item: ChecklistItem) => {\n                if (!item.empty) {\n                    content.push({\n                        checked: item.checked,\n                        text: item.text\n                    })\n                }\n            })\n\n            this.pipOptions = content;\n        }\n\n        private setFocus(index: number, toPos?: any): void {\n            if (index > -1) {\n                setTimeout(() => {\n                    let nextElement = angular.element('#check-item-text-' + this.selected.id + '-' + index);\n                    if (nextElement) {\n                        nextElement.focus();\n                        if (toPos !== undefined && nextElement[0]) {\n                            this.setCaretToPos(nextElement[0], toPos);\n                        }\n                    }\n                }, 50);\n            }\n        }\n\n        private getNewItem(text?: string, isEmpty?: boolean): ChecklistItem {\n            let newItem: ChecklistItem = {\n                checked: false,\n                text: text || '',\n                empty: isEmpty\n            };\n\n            return newItem;\n        }\n\n        private now(): number {\n            return +new Date;\n        }\n\n        private clearList(): void {\n            this.selected.index = 0;\n            this.checklistContent = [];\n            // push empty item\n            this.checklistContent.push(this.getNewItem('', true));\n        }\n\n        private generateList(content: ChecklistItem[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n            } else {\n                this.checklistContent = [];\n                _.each(content, (item) => {\n                    this.checklistContent.push(item);\n                });\n                // push empty item\n                this.checklistContent.push(this.getNewItem('', true));\n            }\n        }\n\n        private setWidth100(): void {\n            let element = angular.element('#check-item-' + + this.selected.id + '-' + this.selected.index);\n            element.css(\"width\", 'none');\n            element.css(\"max-width\", 'none');\n        }\n\n        private setWidth(): void {\n            if (this.isWidth) return;\n\n            let elementEtalon = angular.element('#check-item-empty-' + this.selected.id);\n            let value: number = elementEtalon.width();\n            let element = angular.element('#check-item-' + this.selected.id + '-' + this.selected.index);\n            if (element) {\n                element.css(\"width\", value + 'px');\n                element.css(\"max-width\", value + 'px');\n            }\n        }\n\n        // public functions\n\n        public onItemFocus(index: number): void {\n            if (this.ngDisabled) return;\n            this.selected.index = index;\n        }\n\n        public isSelectedItem(index: number): boolean {\n            let empty: boolean;\n            try {\n                empty = this.checklistContent[index].empty;\n            } catch (err) {\n                empty = true;\n            }\n\n            return this.selected.index == index && this.pipDraggable && !empty;\n        }\n\n        public onAddItem(): void {\n            this.addItem('', this.selected.index - 1);\n        }\n\n        public onChangeItem(index: number): void {\n            if (index > -1 && this.checklistContent[index] && this.checklistContent[index].empty) {\n                if (this.checklistContent[index].empty) {\n                    this.checklistContent[index].empty = false;\n                    this.checklistContent.push(this.getNewItem('', true));\n                }\n            }\n            this._debounceChange();\n        }\n\n        public onClick($event: JQueryEventObject, index: number): void {\n            if (this.ngDisabled) { return; }\n\n            this.selected.index = index;\n        }\n\n        public onTextAreaClick($event: JQueryEventObject, index: number) {\n            if (this.ngDisabled) { return; }\n\n            this.selected.index = index;\n        }\n\n        public onDropComplete(placeIndex: number, obj: ChecklistItem, $event: JQueryEventObject, componentId: number) {\n            if (this.selected.id != componentId) { return; }\n            if (!this.selected.drag) { return; }\n\n            let index: number = placeIndex;\n            let tmpIndex: number = this.selected.index;\n            let checklist: ChecklistItem[] = _.cloneDeep(this.checklistContent);\n\n            if (!(tmpIndex == 0 && placeIndex == 1)) {\n                if (tmpIndex > index) {\n                    if (index > checklist.length - 1) {\n                        index = checklist.length - 1;\n                    }\n                    // move up\n                    for (let i = 0; i < tmpIndex - index; i++) {\n                        checklist[tmpIndex - i] = checklist[tmpIndex - i - 1];\n                    }\n                    checklist[index] = obj;\n                }\n                if (tmpIndex < index) {\n                    index -= 1;\n                    //move down\n                    for (var i = 0; i < index - tmpIndex; i++) {\n                        checklist[tmpIndex + i] = checklist[tmpIndex + i + 1];\n                    }\n                    checklist[index] = obj;\n                }\n\n                this.selected.index = index;\n            }\n\n            this.checklistContent = checklist;\n            this._debounceChange();\n        }\n\n        public onMove(): void {\n            this.setWidth();\n            this.isWidth = true;\n        }\n\n\n        public onStop(id: number): void {\n            this.$timeout(() => {\n                this.selected.drag = this.selected.dragInit;\n                this.selected.dragId = 0;\n            }, 50);\n\n            if (this.isWidth) {\n                this.setWidth100();\n                this.isWidth = false;\n            }\n        }\n\n        public onStart(id: number): void {\n            this.selected.isChanged = true;\n            if (id && id != this.selected.dragId) {\n                this.selected.drag = false;\n            }\n        }\n\n        public onDownDragg(item: ChecklistItem): void {\n            if (this.pipDraggable && this.checklistContent.length > 2 && !item.empty) {\n                this.$rootScope.$broadcast(ChecklistDraggEvent);\n                this.selected.dragId = this.selected.id;\n            }\n        }\n\n        public onDeleteItem(index: number, item: ChecklistItem): void {\n            if (this.checklistContent.length == 1) {\n                this.checklistContent[0].text = '';\n                this.checklistContent[0].checked = false;\n                this.checklistContent[0].empty = true;\n                this.selected.index = 0;\n            } else {\n                if (index >= 0 && index <= this.checklistContent.length) {\n                    this.checklistContent.splice(index, 1);\n                } else {\n                    return;\n                }\n            }\n\n            if (this.selected.index >= this.checklistContent.length) {\n                this.selected.index = this.checklistContent.length - 1;\n            }\n\n            this.setFocus(this.selected.index, 0);\n            this._debounceChange();\n        }\n\n        public onChecked(item: ChecklistItem): void {\n            this._debounceChange();\n        }\n\n        public onChecklistChange(): void {\n            this.updateContents();\n\n            if (this.pipChanged) {\n                this.$timeout(() => {\n                    this.pipChanged(this.pipOptions);\n                }, 0);\n            }\n        }\n\n\n        public onTextareaKeyDown($event: KeyboardEvent, index: number, item: ChecklistItem) {\n            if (this.ngDisabled) return;\n            if (this.selected.index == -1) return;\n            let textareaLength: number;\n            let posCaret: any;\n            if ($event && $event.target) {\n                // calculate caret position\n                posCaret = this.getCaret($event.target);\n                // calculate textarea length\n                if ($event.target['value'] !== undefined) {\n                    textareaLength = $event.target['value'].length;\n                }\n\n            }\n\n            // delete empty item after backspace or del\n            if (this.selected.index > 0 && item.text != '' && posCaret == 0 && $event.keyCode == 8 && !$event.ctrlKey && !$event.shiftKey) {\n                if (!item.empty) {\n                    var position = this.checklistContent[this.selected.index - 1].text.length;\n                    this.checklistContent[this.selected.index - 1].text = this.checklistContent[this.selected.index - 1].text + item.text;\n                    this.selected.index -= 1;\n                    this.checklistContent.splice(this.selected.index + 1, 1);\n                    this._debounceChange();\n\n                    this.setFocus(this.selected.index, position);\n                }\n                if ($event) { $event.stopPropagation(); }\n\n                return false;\n            }\n\n            if (item.text == '' && ($event.keyCode == 8 || $event.keyCode == 46) && !$event.ctrlKey && !$event.shiftKey) {\n                if (!item.empty) {\n                    this.onDeleteItem(index, item);\n                }\n                if ($event) { $event.stopPropagation(); }\n\n                return false;\n            }\n\n            //press enter - create new item\n            if (($event.keyCode == 13 || $event.keyCode == 45) && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if (posCaret !== undefined && posCaret == 0) {\n                    // add item before current item\n                    if (this.selected.index > 0) {\n                        this.addItem('', this.selected.index - 1);\n                    } else {\n                        this.selected.index = -1;\n                        this.addItem('', -1);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if (textareaLength && posCaret && textareaLength == posCaret) {\n                    // add item after current item\n                    if (!item.empty) {\n                        this.addItem('', this.selected.index);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if (textareaLength && posCaret && textareaLength > posCaret) {\n                    // divide current item \n                    if (!item.empty) {\n                        let valueCurrent: string;\n                        let newItem: string;\n                        valueCurrent = item.text.substring(0, posCaret);\n                        newItem = item.text.substring(posCaret);\n                        item.text = valueCurrent;\n                        this.addItem(newItem, this.selected.index);\n\n                        this.setFocus(this.selected.index, 0);\n                    }\n                    if ($event) { $event.stopPropagation(); }\n                    if ($event) { $event.preventDefault(); }\n\n                    return false;\n                }\n\n                if ($event) { $event.preventDefault(); }\n\n                return false;\n            }\n\n            // move cursor up\n            if ((posCaret === 0 || posCaret == textareaLength) && this.checklistContent.length > 1 && $event.keyCode == 38 && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n\n                if (posCaret !== undefined && textareaLength !== undefined && posCaret == 0) {\n                    // move to new item\n                    if (this.selected.index == 0) {\n                        this.selected.index = this.checklistContent.length - 1;\n                        var position = this.checklistContent[this.selected.index].text.length;\n                        this.setFocus(this.selected.index, position);\n                    } else {\n                        this.selected.index -= 1;\n                        var position = this.checklistContent[this.selected.index].text.length;\n                        this.setFocus(this.selected.index, position);\n                    }\n                } else {\n                    // move caret to text end\n                    this.setFocus(this.selected.index, 0);\n                }\n\n                return false;\n            }\n\n            // move cursor down\n            if ((posCaret === 0 || posCaret == textareaLength) && this.checklistContent.length > 1 && $event.keyCode == 40 && !$event.ctrlKey && !$event.shiftKey) {  // insert\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n\n                if (posCaret !== undefined && textareaLength !== undefined && posCaret == textareaLength) {\n                    // move to new item\n                    if (this.selected.index >= this.checklistContent.length - 1) {\n                        this.selected.index = 0;\n                        this.setFocus(this.selected.index, 0);\n                    } else {\n                        this.selected.index += 1;\n                        this.setFocus(this.selected.index, 0);\n                    }\n                } else {\n                    // move caret to text end\n                    this.setFocus(this.selected.index, textareaLength);\n                }\n\n                return false;\n            }\n\n            // delete item\n            if (!item.empty && $event.keyCode == 46 && $event.ctrlKey && !$event.shiftKey) {\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n                this.onDeleteItem(index, item);\n\n                return false;\n            }\n\n            // check/uncheck item\n            if ($event.keyCode == 32 && $event.ctrlKey && !$event.shiftKey) {\n                if ($event) { $event.stopPropagation(); }\n                if ($event) { $event.preventDefault(); }\n                if (item) {\n                    item.checked = !item.checked\n                    this._debounceChange();\n                }\n\n                return false;\n            }\n        }\n    }\n\n    const ChecklistEdit: ng.IComponentOptions = {\n        bindings: ChecklistEditBindings,\n        templateUrl: 'checklist_edit/ChecklistEdit.html',\n        controller: ChecklistEditController\n    }\n\n    angular.module(\"pipChecklistEdit\", ['pipComposite.Templates', 'pipBehaviors'])\n        .component('pipChecklistEdit', ChecklistEdit);\n\n}\n","import { ChecklistItem } from '../data';\n{\n\n    interface IChecklistViewBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipOptions: any;\n        pipRebind: any;\n    }\n\n    const ChecklistViewBindings: IChecklistViewBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipOptions: '=',\n        pipRebind: '<?'\n    }\n\n    class ChecklistViewBindingsChanges implements ng.IOnChangesObject, IChecklistViewBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<(data: ChecklistItem[]) => ng.IPromise<void>>;\n        pipOptions: ng.IChangesObject<ChecklistItem[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class ChecklistViewController {\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipOptions: ChecklistItem[]; \n        public pipRebind: boolean;\n\n        private isChanged: boolean = false;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            \"ngInject\";\n\n            if (!this.pipOptions || !_.isArray(this.pipOptions)) {\n                this.pipOptions = [];\n            }\n\n            $element.addClass('pip-checklist-view');\n\n        }\n\n        public $onChanges(changes: ChecklistViewBindingsChanges) {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipOptions && changes.pipOptions.currentValue) {\n                    if (!angular.equals(this.pipOptions, changes.pipOptions.currentValue)) {\n                        if (!this.isChanged) {\n                            this.pipOptions = changes.pipOptions.currentValue;\n                        } else {\n                            this.isChanged = false;\n                        }\n                    }\n                }\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public onChecklistChange(): void {\n            this.isChanged = true;\n            if (this.pipChanged) {\n                this.pipChanged(this.pipOptions);\n            }\n        }\n\n        public onClick($event: JQueryEventObject, item: ChecklistItem): void { \n            if ($event) {\n                $event.stopPropagation();\n            }\n            if (this.ngDisabled) {\n                return;\n            }\n\n            this.onChecklistChange();\n        }\n    }\n\n    const ChecklistView: ng.IComponentOptions = {\n        bindings: ChecklistViewBindings,\n        templateUrl: 'checklist_view/ChecklistView.html',\n        controller: ChecklistViewController\n    }\n\n    angular.module(\"pipChecklistView\", ['pipComposite.Templates'])\n        .component('pipChecklistView', ChecklistView);\n\n}\n","import { ChecklistDraggEvent } from '../checklist_edit/ChecklistEdit';\nimport { CompositeFocusedEvent } from '../utilities/CompositeFocused';\nimport { ContentBlock } from '../data';\n\nlet async = require('async');\n\nexport const CompositeEmptyEvent: string = 'pipCompositeNotEmpty';\nexport const CompositeAddItemEvent: string = 'pipAddContent';\nexport const CompositeNotEmptyEvent: string = 'pipCompositeNotEmpty';\n\nexport class CompositeAddItem {\n    public id: number;\n    public type: string;\n}\n\n\nconst ConfigTranslations = (pipTranslate: pip.services.ITranslateService) => {\n    if (pipTranslate) {\n        (pipTranslate).setTranslations('en', {\n            'COMPOSITE_TITLE': 'What\\'s on your mind?',\n            'COMPOSITE_PLACEHOLDER': 'Type text ...',\n            'COMPOSITE_START_TIME': 'Start time',\n            'COMPOSITE_END_TIME': 'End time'\n        });\n        (pipTranslate).setTranslations('ru', {\n            'COMPOSITE_TITLE': 'Что у вас на уме?',\n            'COMPOSITE_PLACEHOLDER': 'Введите текст ...',\n            'COMPOSITE_START_TIME': 'Время начала',\n            'COMPOSITE_END_TIME': 'Время окончания'\n        });\n    }\n}\n\nexport class CompositeControl {\n    save: (successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void) => void;\n    abort: () => void;\n    error?: any;\n}\n\nclass SenderEvent {\n    event: CompositeControl;\n}\n\nexport class CompositeContent extends ContentBlock {\n    public empty?: boolean;\n    public documents?: pip.documents.DocumentListEditControl;\n    public pictures?: pip.pictures.PictureListEditControl;\n}\n\nexport class CompositeBlockTypes {\n    static Text: string = 'text';\n    static Pictures: string = 'pictures';\n    static Checklist: string = 'checklist';\n    static Documents: string = 'documents';\n    static Location: string = 'location';\n    static Time: string = 'time';\n    static SecondaryBlock = ['checklist', 'documents', 'location', 'time']\n    static PrimaryBlock = ['text', 'pictures']\n    static All = ['text', 'pictures', 'checklist', 'documents', 'location', 'time']\n}\n\n{\n\n    class CompositeSelected {\n        public index: number = 0;\n        public drag: boolean = true;\n        public dragId: number = 0;\n        public id: number;\n        public isChanged: boolean = false;\n        public event?: string;\n    }\n\n    interface ICompositeEditBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipChanged: any;\n        pipContents: any;\n        pipCreated: any;\n        compositeId: any;\n        pipCompositePlaceholder: any;\n        pipScrollContainer: any;\n        addedContent: any;\n        pipRebind: any;\n    }\n\n    const CompositeEditBindings: ICompositeEditBindings = {\n        ngDisabled: '<?',\n        pipChanged: '=?',\n        pipCreated: '&?',\n        pipContents: '=?',\n        compositeId: '<?pipCompositeId',\n        pipCompositePlaceholder: '<?',\n        pipScrollContainer: '<?',\n        addedContent: '<?pipAddedContent',\n        pipRebind: '<?'\n    }\n\n    class CompositeEditBindingsChanges implements ng.IOnChangesObject, ICompositeEditBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipCreated: ng.IChangesObject<(event: SenderEvent) => ng.IPromise<void>>;\n        pipContents: ng.IChangesObject<CompositeContent[]>;\n        compositeId: ng.IChangesObject<number>;\n        pipCompositePlaceholder: ng.IChangesObject<string>;\n        pipScrollContainer: ng.IChangesObject<string>;\n        addedContent: ng.IChangesObject<boolean>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeEditController implements ICompositeEditBindings {\n        private defaultPlaceholder: string = 'COMPOSITE_PLACEHOLDER';\n        private CONTENT_TYPES: string[] = CompositeBlockTypes.All;\n        private cleanupCompositeEvent: any;\n        private cleanupCompositeFocusedEvent: any;\n        private cleanupChecklistDraggEvent: any;\n        private _debounceChange: any;\n\n        public ngDisabled: boolean;\n        public pipChanged: Function;\n        public pipCreated: (event: SenderEvent) => void;\n        public pipContents: CompositeContent[];\n        public compositeId: number;\n        public pipCompositePlaceholder: string;\n        public pipScrollContainer: string;\n        public addedContent: string;\n        public pipRebind: boolean;\n\n        public compositeContent: CompositeContent[];\n        public selected: CompositeSelected;\n        public isFirst: boolean;\n        public compositePlaceholder: string;\n\n        public control: CompositeControl;\n\n        constructor(\n            private $q,\n            private $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $document,\n            private $rootScope: ng.IRootScopeService,\n            private pipTranslate: pip.services.ITranslateService\n\n        ) {\n            \"ngInject\";\n\n            this.selected = new CompositeSelected();\n            this.selected.id = this.now();\n\n            $element.addClass('pip-composite-edit');\n\n            this.generateList(this.pipContents);\n            this.setPlaceholder();\n            this.control = {\n                save: (successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void) => {\n                    this.saveContent(successCallback, errorCallback);\n                },\n                abort: () => {\n                    this.abortContent();\n                },\n                error: null\n            };\n            this.executeCallback();\n\n            this.cleanupCompositeEvent = this.$rootScope.$on(CompositeAddItemEvent,\n                (event: ng.IAngularEvent, args: CompositeAddItem) => {\n                    if (this.compositeId) {\n                        if (args.id && args.id == this.compositeId) {\n                            this.addItem(args.type);\n                        }\n                    } else {\n                        this.addItem(args.type);\n                    }\n                });\n\n            this.cleanupChecklistDraggEvent = this.$rootScope.$on(ChecklistDraggEvent, () => {\n                this.selected.drag = false;\n                this.$timeout(() => {\n                    this.selected.drag = false;\n                }, 0);\n            });\n\n            this.cleanupCompositeFocusedEvent = this.$rootScope.$on(CompositeFocusedEvent, () => {\n                if (this.isFirst) {\n                    this.$timeout(() => {\n                        let nextElement = angular.element('#composite-item-text-' + this.selected.id + '-0');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                }\n            });\n\n            this._debounceChange = _.debounce(() => {\n                this.onCompositeChange();\n            }, 200);\n        }\n\n        private abortContent(): void {\n            _.each(this.compositeContent, (item: CompositeContent) => {\n                if (item.pictures && item.pictures.abort) {\n                    item.pictures.abort();\n                } else if (item.documents && item.documents.abort) {\n                    item.documents.abort();\n                }\n            });\n        }\n\n        private getPicIdsArray(data: pip.pictures.Attachment[]): string[] {\n            let result: string[] = [];\n\n            _.each(data, (item: pip.pictures.Attachment) => {\n                if (item.id) {\n                    result.push(item.id);\n                }\n            });\n\n            return result;\n        }\n\n        private saveContent(successCallback?: (data: CompositeContent[]) => void, errorCallback?: (error: any) => void, abortFirstError?: boolean): void {\n            let content: CompositeContent[];\n            content = _.cloneDeep(this.compositeContent);\n            let saveFirstError: any = null;\n\n            async.eachOf(this.compositeContent,\n                (item, index, callback) => {\n                    if (item.pictures && item.pictures.save) {\n                        item.pictures.save(\n                            (data: pip.pictures.Attachment[]) => {\n                                delete item.picIds;\n                                item.pic_ids = this.getPicIdsArray(data);\n                                callback();\n                            },\n                            (error: any) => {\n                                saveFirstError = saveFirstError ? saveFirstError : error;\n                                if (abortFirstError) {\n                                    callback(error);\n                                } else {\n                                    callback();\n                                }\n                            }\n                        );\n                    } else if (item.documents && item.documents.save) {\n                        item.documents.save(\n                            (data: pip.documents.Attachment[]) => {\n                                item.docs = data;\n                                callback();\n                            },\n                            (error: any) => {\n                                saveFirstError = saveFirstError ? saveFirstError : error;\n                                if (abortFirstError) {\n                                    callback(error);\n                                } else {\n                                    callback();\n                                }\n                            }\n                        );\n                    } else {\n                        callback();\n                    }\n                },\n                (error, result) => {\n                    if (error || saveFirstError) {\n                        if (abortFirstError) {\n                            this.abortContent();\n                        } \n                        this.compositeContent = content;\n                        if (errorCallback) errorCallback(error);\n                    } else {\n                        this.onCompositeChange();\n                        if (successCallback) successCallback(this.pipContents);\n                    }\n                });\n        }\n\n        public $onDestroy() {\n            if (angular.isFunction(this.cleanupCompositeEvent)) {\n                this.cleanupCompositeEvent();\n            }\n            if (angular.isFunction(this.cleanupChecklistDraggEvent)) {\n                this.cleanupChecklistDraggEvent();\n            }\n            if (angular.isFunction(this.cleanupCompositeFocusedEvent)) {\n                this.cleanupCompositeFocusedEvent();\n            }\n        }\n\n        public $onChanges(changes: CompositeEditBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n                if (this.pipRebind && changes.pipContents && _.isArray(changes.pipContents.currentValue)) {\n                    if (!this.selected.isChanged || (this.pipContents\n                        && this.pipContents.length != this.compositeContent.length)) {\n                        this.generateList(this.pipContents);\n                        this.selected.isChanged = false;\n                    }\n                }\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (changes.pipCompositePlaceholder && changes.pipCompositePlaceholder.currentValue !== changes.pipCompositePlaceholder.previousValue) {\n                this.pipCompositePlaceholder = changes.pipCompositePlaceholder.currentValue;\n                this.setPlaceholder();\n            }\n        }\n\n        private executeCallback() {\n            // Execute callback\n            if (this.pipCreated) {\n                this.pipCreated({\n                    event: this.control\n                });\n            }\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) { return false; }\n            if (!value) { return false; }\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        private getEmptyItem(): CompositeContent {\n            let emptyItem: CompositeContent = {\n                empty: true,\n                id: this.getId(),\n                type: 'text',\n                text: '', docs: [], pic_ids: [], loc_pos: null, loc_name: '',\n                start: null, end: null, checklist: []\n            }\n\n            return emptyItem;\n        }\n\n\n        private setPlaceholder(): void {\n            this.compositePlaceholder =\n                (this.pipCompositePlaceholder === undefined || this.pipCompositePlaceholder === null) ?\n                    this.pipTranslate.translate(this.defaultPlaceholder) :\n                    this.pipTranslate.translate(this.pipCompositePlaceholder);\n        }\n\n        private addItem(contentType: string, value?: any): void {\n            if (_.indexOf(this.CONTENT_TYPES, contentType) < 0) return;\n\n            // generate new item\n            var newItem: CompositeContent = {\n                id: this.getId(),\n                type: contentType,\n                text: contentType == 'text' ? value : '',\n                docs: contentType == 'documents' && value ? value : [],\n                pic_ids: contentType == 'pictures' && value ? value : [],\n                loc_pos: contentType == 'location' && value ? value.loc_pos : null,\n                loc_name: contentType == 'location' && value ? value.loc_name : '',\n                start: contentType == 'time' && value ? value.start : null,\n                end: contentType == 'time' && value ? value.end : null,\n                checklist: contentType == 'checklist' && value ? value : []\n            };\n\n            // calculate current index\n            let index: number = _.findIndex(this.compositeContent, { id: this.selected.index });\n            index = index < 0 ? 0 : index;\n\n            // insert new element and select it\n            if (this.compositeContent.length == 1 && this.compositeContent[0].empty) {\n                this.compositeContent[0] = newItem;\n            } else {\n                this.compositeContent.splice(index + 1, 0, newItem);\n                index += 1;\n            }\n\n            // insert new element and select it\n            this.selected.index = newItem.id;\n            this.onSelect();\n\n            // focus to new element\n            setTimeout(this.scrollTo(this.pipScrollContainer, '#composite-item-' + this.selected.id + '-' + index), 1000);\n\n            // set toolbar\n            this.isFirst = false;\n            this.setToolbar();\n            this._debounceChange();\n        }\n\n        private getId(): number {\n            let id: number = -1;\n            _.each(this.compositeContent, (item: CompositeContent) => {\n                if (id < item.id) id = item.id;\n            });\n\n            return id + 1;\n        }\n\n        private scrollTo(parentElement: any, childElement: any): void {\n            if (!parentElement || !childElement) { return; }\n\n            setTimeout(() => {\n                if (!$(childElement).position()) { return; }\n\n                let modDiff: number = Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\n                if (modDiff < 20) { return; }\n\n                let scrollTo: number = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\n                $(parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, 300);\n            }, 100);\n        }\n\n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private generateList(content: CompositeContent[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n\n                return;\n            } else {\n                this.compositeContent = [];\n                _.each(content, (item: CompositeContent) => {\n                    item.id = this.getId();\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    this.compositeContent.push(item);\n                });\n                this.isFirst = false;\n            }\n\n            this.setToolbar();\n        }\n\n        private setToolbar(): void {\n            if (this.compositeContent.length > 2) { return; }\n\n            this.$rootScope.$emit(CompositeNotEmptyEvent, !this.isFirst);\n        }\n\n        private clearList(): void {\n            this.compositeContent = [];\n\n            this.compositeContent.push(this.getEmptyItem());\n            this.isFirst = true;\n        }\n\n        private now(): number {\n            return +new Date;\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            this.pipContents = this.compositeContent;\n        }\n\n        private getParentIndex(el: any): number {\n            if (el.length < 1) return null;\n            let elParent = el.parent();\n            if (elParent[0] && elParent[0].id && elParent[0].id.indexOf('composite-item-' + this.selected.id) > -1) {\n                let strs = elParent[0].id.split('-');\n\n                let parentIndex: number = parseInt(strs[strs.length - 1], 10);\n                return parentIndex;\n            } else {\n                return this.getParentIndex(elParent);\n            }\n        }\n\n        // ---------------- public\n\n        public isActiveChecklist(obj: CompositeContent): boolean {\n            // return obj.id == this.selected.index;\n            return obj.id == this.selected.id;\n        }\n\n        public onKeyUp($event: KeyboardEvent): void {\n            if ($event.keyCode == 9) {\n                this.$timeout(() => {\n                    let focusedElement = angular.element(this.$document[0].activeElement);\n                    let parentIndex: number = this.getParentIndex(focusedElement);\n                    if (parentIndex != null) {\n                        this.selected.index = parentIndex;\n                    }\n                    // ??? index = id\n                    this.selected.index = this.compositeContent[parentIndex].id;\n                }, 50);\n            }\n        }\n\n        public onKeyDown($event: KeyboardEvent, index: number, item: CompositeContent): void {\n            if (this.ngDisabled) { return; }\n            // delete item\n            if (item && !item.empty && $event.keyCode == 46 && !$event.ctrlKey && $event.shiftKey) {\n                if ($event) {\n                    $event.stopPropagation();\n                    $event.preventDefault();\n                }\n                if (index > -1) {\n                    this.onDeleteItem(index);\n                }\n            }\n        }\n\n        public onCompositeChange(): void {\n            this.updateContents();\n            if (this.pipChanged) {\n                this.pipChanged(this.pipContents);\n            }\n        }\n\n        public onDeleteItem(index: number): void {\n            if (index < 0 || this.compositeContent.length == 0) return;\n\n            // delete last element in composite\n            if (this.compositeContent.length == 1) {\n                this.compositeContent[0] = this.getEmptyItem();\n                this.selected.index = this.compositeContent[0].id;\n                this.onSelect(0);\n                this.isFirst = true;\n                this.setToolbar();\n            } else {\n                if (index >= 0 && index < this.compositeContent.length) {\n                    this.compositeContent.splice(index, 1);\n                }\n                if (index == this.compositeContent.length) {\n                    this.selected.index = this.compositeContent[this.compositeContent.length - 1].id;\n                } else {\n                    this.selected.index = this.compositeContent[index].id;\n                }\n                this.onSelect();\n            }\n\n            this.setToolbar();\n            this._debounceChange();\n        }\n\n        public onContentChange(obj: any): void { //CompositeContent\n            if (obj && obj.empty && obj.text) {\n                obj.empty = false;\n                this.isFirst = false;\n                this.setToolbar();\n            }\n            if (!this.ngDisabled) {\n                this._debounceChange();\n            }\n        }\n\n        public isSelectedSection(index: number, obj: CompositeContent): boolean {\n            return this.selected.index == obj.id && !obj.empty;\n        }\n\n        public onDraggEnd(): void {\n            this.selected.drag = true;\n        }\n\n        public onStart(id: number): void {\n            if (id && id != this.selected.dragId) {\n                this.selected.drag = false;\n            }\n        }\n\n        public onStop(id: number): void {\n            this.$timeout(() => {\n                this.selected.drag = true;\n                this.selected.dragId = 0;\n            }, 500);\n        }\n\n        public onDownDragg($event: ng.IAngularEvent, obj: CompositeContent) {\n            if (this.ngDisabled) return;\n            this.selected.dragId = this.selected.id;\n            this.selected.drag = true;\n            this.selected.index = obj.id;\n        }\n\n        public onClick($event: JQueryEventObject, index: number, obj: CompositeContent): void {\n            if (this.ngDisabled) { return; }\n\n            this.selected.event = 'onClick';\n            if ($event && $event.target && $event.target.tagName &&\n                ($event.target.tagName == 'INPUT' || $event.target.tagName == 'TEXTAREA')) {\n                this.selected.index = obj.id;\n\n                return;\n            }\n\n            if ((this.selected.index == obj.id && obj.type == 'checklist' && obj.checklist.length > 0) ||\n                (this.selected.index == obj.id && obj.type == 'location')) { return; }\n\n            this.selected.index = obj.id;\n            this.onSelect();\n        }\n\n        public onDropComplete(placeIndex: number, obj: CompositeContent, event: JQueryEventObject, componentId: number): void {\n            if (componentId != this.selected.id || !obj || !obj.type) {\n                this.compositeContent = _.cloneDeep(this.pipContents);\n\n                return;\n            }\n\n            let index: number = placeIndex;\n            let tmpIndex: number = _.findIndex(this.compositeContent, { id: obj.id }); //this.selected.index});\n            let i: number;\n\n            if (!(tmpIndex == 0 && placeIndex == 1)) {\n                if (tmpIndex > index) {\n                    if (index > this.compositeContent.length - 1) index = this.compositeContent.length - 1;\n                    // move up\n                    for (i = 0; i < tmpIndex - index; i++) {\n                        this.compositeContent[tmpIndex - i] = this.compositeContent[tmpIndex - i - 1];\n                    }\n                    this.compositeContent[index] = obj;\n                }\n                if (tmpIndex < index) {\n                    index -= 1;\n                    //move down\n                    for (i = 0; i < index - tmpIndex; i++) {\n                        this.compositeContent[tmpIndex + i] = this.compositeContent[tmpIndex + i + 1];\n                    }\n                    this.compositeContent[index] = obj;\n                }\n                this.selected.index = this.compositeContent[index].id;\n            }\n\n            this.onSelect();\n            this._debounceChange();\n        }\n\n        public onSelect(index?: number): void {\n            if (!index) {\n                index = _.findIndex(this.compositeContent, { id: this.selected.index });\n            }\n            if (index < 0) { return; }\n\n            let item: CompositeContent = this.compositeContent[index];\n            if (_.isEmpty(item)) { return; }\n\n            let nextElement;\n            switch (item.type) {\n                //case 'text':\n                //        setTimeout(() => {\n                //            var nextElement = angular.element('#composite-item-text-' + this.selected.id + '-' + index);\n                //            //var nextElement = angular.element('#composite-item-text-' + this.selected.id + '-' + this.selected.index);\n                //            if (nextElement && !nextElement.is(':focus')) nextElement.focus();\n                //            //this.selected.stopKey = false;\n                //        },  50);\n                //    break;\n                case 'pictures':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' button.pip-picture-upload');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                case 'documents':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' button.pip-document-upload');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                //case 'checklist':\n                //        setTimeout(() => {\n                //            var nextElement = angular.element(\n                //                '#composite-item-' + this.selected.id + '-' + index + ' textarea[id^=\\'empty-item-\\'');\n                //            if (nextElement && !nextElement.is(':focus')) nextElement.focus();\n                //            //this.selected.stopKey = false;\n                //        },  50);\n                //    break;\n                case 'location':\n                    setTimeout(() => {\n                        nextElement = angular.element(\n                            '#composite-item-' + this.selected.id + '-' + index + ' .pip-location-empty  button');\n                        if (nextElement && !nextElement.is(':focus')) {\n                            nextElement.focus();\n                        }\n                    }, 50);\n                    break;\n                case 'time':\n                    break;\n            }\n        }\n\n        // set element responsive width when element places\n        //public setWidth100(index: number): void {\n        //    let element = angular.element('#composite-item-' + this.selected.id + '-' + index);\n        //    element.css( \"width\", 'none');\n        //    element.css( \"max-width\", 'none');\n        //};\n        //\n        //// set draggable element width when your dragg\n        //public setWidth(index: number): void {\n        //    if (this.selected.isWidth) return;\n        //    let elementEtalon = angular.element('#pip-composite-last-' + + this.selected.id);\n        //    let value = elementEtalon.width();\n        //    let element = angular.element('#composite-item-' + this.selected.id + '-' + index);\n        //    if (element) {\n        //        element.css(\"width\", value + 'px');\n        //        element.css(\"max-width\", value + 'px');\n        //    }\n        //};\n\n    }\n\n    const CompositeEdit: ng.IComponentOptions = {\n        bindings: CompositeEditBindings,\n        templateUrl: 'composite_edit/CompositeEdit.html',\n        controller: CompositeEditController\n    }\n\n    angular.module(\"pipCompositeEdit\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates'])\n        .run(ConfigTranslations)\n        .component('pipCompositeEdit', CompositeEdit);\n\n}\n\n\n","import { CompositeBlockTypes } from '../composite_edit/CompositeEdit';\nimport { ContentBlock, ChecklistItem } from '../data';\n{\n\n    interface ICompositeSummaryBindings {\n        [key: string]: any;\n\n        pipContents: any;\n        pipChecklistSize: any;\n        pipTextSize: any;\n        pipPrimaryBlockLimit: any;\n        pipSecondaryBlockLimit: any;\n        pipSecondaryBlockTypes: any;\n        pipRebind: any;\n    }\n\n    const CompositeSummaryBindings: ICompositeSummaryBindings = {\n\n        pipContents: '<?',\n        pipChecklistSize: '<?',\n        pipTextSize: '<?',\n        pipPrimaryBlockLimit: '<?',\n        pipSecondaryBlockLimit: '<?',\n        pipSecondaryBlockTypes: '<?',\n        pipRebind: '<?'\n    }\n\n    class CompositeSummaryBindingsChanges implements ng.IOnChangesObject, ICompositeSummaryBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        pipContents: ng.IChangesObject<ContentBlock[]>;\n        pipChecklistSize: ng.IChangesObject<number>;\n        pipTextSize: ng.IChangesObject<number>;\n        pipPrimaryBlockLimit: ng.IChangesObject<number>;\n        pipSecondaryBlockLimit: ng.IChangesObject<number>;\n        pipSecondaryBlockTypes: ng.IChangesObject<string[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeSummaryController {\n        public pipContents: ContentBlock[];\n        public pipChecklistSize: number;\n        public pipTextSize: number;\n        public pipPrimaryBlockLimit: number;\n        public pipSecondaryBlockLimit: number;\n        public pipSecondaryBlockTypes: string[];\n        public pipRebind: boolean;\n\n        public compositeContent: ContentBlock[];\n\n        public disableControl: boolean = true;\n        public disabledChecklist: boolean = true;\n\n        constructor(\n            private $element: JQuery\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-composite-summary');\n\n            this.pipChecklistSize = this.pipChecklistSize ? this.pipChecklistSize : 0;\n            this.pipTextSize = this.pipTextSize ? this.pipTextSize : 0;\n            this.pipPrimaryBlockLimit = this.pipPrimaryBlockLimit === undefined || this.pipPrimaryBlockLimit === null ? -1 : this.pipPrimaryBlockLimit;\n            this.pipSecondaryBlockLimit = this.pipSecondaryBlockLimit === undefined || this.pipSecondaryBlockLimit === null ? -1 : this.pipSecondaryBlockLimit;\n            this.pipSecondaryBlockTypes = this.pipSecondaryBlockTypes && _.isArray(this.pipSecondaryBlockTypes) ? this.pipSecondaryBlockTypes : CompositeBlockTypes.SecondaryBlock;\n\n            this.generateList(this.pipContents);\n        }\n\n        public $onChanges(changes: CompositeSummaryBindingsChanges) {\n            if (this.toBoolean(this.pipRebind)) {\n                if (changes.pipContents && changes.pipContents.currentValue) {\n                    if (!angular.equals(this.pipContents, changes.pipContents.currentValue)) {\n                        this.generateList(this.pipContents);\n                    }\n                }\n            }\n        }\n\n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n\n        // limit cacklist position\n        public limitChecklist(content: ContentBlock[], val: number): void {\n            if (!val) return;\n            let ellapsed: ChecklistItem = {\n                text: '...',\n                checked: false\n            };\n            _.each(content, (item: ContentBlock) => {\n                if (item && item.type == CompositeBlockTypes.Checklist) {\n                    let checklistLength: number = item.checklist.length;\n                    item.checklist = _.take(item.checklist, val);\n                    if (checklistLength > val) {\n                        item.checklist.push(ellapsed);\n                    }\n                }\n            });\n        };\n\n        // choose primary blocks (text and picture)\n        public selectSummary(content: ContentBlock[]): ContentBlock[] {\n            let result: ContentBlock[] = [];\n            let i: number;\n\n            _.each(content, (item: ContentBlock) => {\n                if (this.pipPrimaryBlockLimit >= 0 && i >= this.pipPrimaryBlockLimit) {\n                    return result;\n                }\n                //if (item.type == 'text' || item.type == 'pictures' ) {\n                if (this.pipSecondaryBlockTypes.indexOf(item.type) < 0) {\n                    result.push(item);\n                    i += 1;\n                }\n            });\n\n            return result;\n        }\n\n        // отбираем остальные блоки если они есть\n        public selectSummarySecondary(content: ContentBlock[], types: string[]): ContentBlock[] {\n            let i: number;\n            let limit: number = this.pipSecondaryBlockLimit < 0 ? content.length : this.pipSecondaryBlockLimit;\n            let result: ContentBlock[] = [];\n\n            for (i; i < content.length; i++) {\n                if (types.indexOf(content[i].type) > -1) {\n                    result.push(content[i]);\n                    if (result.length >= limit) {\n                        break;\n                    }\n                }\n            }\n\n            return result;\n        }\n\n        public generateList(content: ContentBlock[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n\n                return;\n            } else {\n                let summaryContent: ContentBlock[] = _.cloneDeep(content);\n                let result: ContentBlock[] = this.selectSummary(summaryContent);\n                if (result.length == 0) {\n                    result = this.selectSummarySecondary(summaryContent, this.pipSecondaryBlockTypes);\n                }\n\n                this.limitChecklist(result, this.pipChecklistSize);\n\n                let id: number;\n                _.each(result, (item: ContentBlock) => {\n                    item.id = id;\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    id++;\n                });\n                this.compositeContent = result;\n            }\n        }\n\n        public clearList() {\n            this.compositeContent = [];\n        }\n    }\n\n    const CompositeSummary: ng.IComponentOptions = {\n        bindings: CompositeSummaryBindings,\n        templateUrl: 'composite_summary/CompositeSummary.html',\n        controller: CompositeSummaryController\n    }\n\n    angular.module(\"pipCompositeSummary\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates'])\n        .component('pipCompositeSummary', CompositeSummary);\n\n}\n\n","import { CompositeEmptyEvent, CompositeAddItemEvent } from '../composite_edit/CompositeEdit';\n\nexport class CompositeAddItemEventParams {\n    public type: string;\n    public id: string;\n}\n\nexport class CompositeToolbarButton {\n    public picture: boolean = true;\n    public document: boolean = true;\n    public location: boolean = true;\n    public event: boolean = true;\n    public checklist: boolean = true;\n    public text: boolean = true;\n}\n\n{\n    const translateConfig = function (pipTranslateProvider) {\n        pipTranslateProvider.translations('en', {\n            'TEXT': 'Text',\n            'CHECKLIST': 'Checklist',\n            'LOCATION': 'Location',\n            'PICTURE': 'Picture',\n            'TIME': 'Time',\n            'DOCUMENT': 'Document'\n        });\n\n        pipTranslateProvider.translations('ru', {\n            'TEXT': 'Текст',\n            'CHECKLIST': 'Список',\n            'LOCATION': 'Локация',\n            'PICTURE': 'Изображение',\n            'TIME': 'Время',\n            'DOCUMENT': 'Document'\n        });\n    }\n\n    interface ICompositeToolbarBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        emptyState: any;\n        pipToolbarButton: any;\n        compositeId: any;\n    }\n\n    const CompositeToolbarBindings: ICompositeToolbarBindings = {\n        ngDisabled: '<?',\n        emptyState: '<?pipCompositeEmpty', // Set init state of toolbar\n        pipToolbarButton: '=?', // Set visibility of toolbar button, true by default\n        compositeId: '=?pipCompositeId', // Set pip-composite-id, for several composite components in one scope\n    }\n\n    class CompositeToolbarBindingsChanges implements ng.IOnChangesObject, ICompositeToolbarBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject< boolean >;\n        emptyState: ng.IChangesObject< boolean >;\n        pipToolbarButton: ng.IChangesObject<CompositeToolbarButton>;;\n        compositeId: ng.IChangesObject<string>;\n    }\n\n    class CompositeToolbarController {\n        private cleanupCompositeEvent: any;\n\n        public toolbarButton: CompositeToolbarButton;\n\n        public ngDisabled: boolean;\n        public emptyState: boolean;\n        public pipToolbarButton: CompositeToolbarButton;\n        public compositeId: string;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $element: JQuery\n        ) {\n\"ngInject\";\n\n            this.toolbarButton = new CompositeToolbarButton();\n\n            this.setOption();\n\n            $element.addClass('pip-composite-toolbar');\n\n            this.cleanupCompositeEvent = this.$rootScope.$on(CompositeEmptyEvent, (event: ng.IAngularEvent, value: boolean) => {\n                this.emptyState = !value;\n            });\n        }\n\n        public $onDestroy() {\n            if (angular.isFunction(this.cleanupCompositeEvent)) {\n                this.cleanupCompositeEvent();\n            }\n        }\n\n        public $onChanges(changes: CompositeToolbarBindingsChanges) {\n            if (changes.pipToolbarButton && changes.pipToolbarButton.currentValue) {\n                this.setOption();\n            }\n        }\n\n        public toBoolean(value: any): boolean {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n\n            return value == '1' || value == 'true';\n        }\n\n        public onAddItem(contentType: string): void {\n            let params: CompositeAddItemEventParams = {\n                type: contentType,\n                id: this.compositeId\n            };\n\n            this.$rootScope.$emit(CompositeAddItemEvent, params);\n        };\n\n        public setOption(): void {\n            _.assign(this.pipToolbarButton, this.pipToolbarButton);\n            this.toolbarButton.text = true;\n            // if (this.pipToolbarButton !== null && this.pipToolbarButton !== undefined) {\n            //     this.toolbarButton.picture = this.pipToolbarButton.picture === false ? this.pipToolbarButton.picture : true;\n            //     this.toolbarButton.document = this.pipToolbarButton.document === false ? this.pipToolbarButton.document : true;\n            //     this.toolbarButton.location = this.pipToolbarButton.location === false ? this.pipToolbarButton.location : true;\n            //     this.toolbarButton.event = this.pipToolbarButton.event === false ? this.pipToolbarButton.event : true;\n            //     this.toolbarButton.checklist = this.pipToolbarButton.checklist === false ? this.pipToolbarButton.checklist : true;\n            // } else {\n            //     this.toolbarButton.picture = true;\n            //     this.toolbarButton.document = true;\n            //     this.toolbarButton.location = true;\n            //     this.toolbarButton.event = true;\n            //     this.toolbarButton.checklist = true;\n            // }\n            // this.toolbarButton.text = true;\n        };\n    }\n\n\n    const CompositeToolbar: ng.IComponentOptions = {\n        bindings: CompositeToolbarBindings,\n        templateUrl: 'composite_toolbar/CompositeToolbar.html',\n        controller: CompositeToolbarController\n    }\n\n    angular.module(\"pipCompositeToolbar\", ['pipComposite.Templates'])\n        .config(translateConfig)\n        .component('pipCompositeToolbar', CompositeToolbar);\n\n}","import { ContentBlock } from '../data';\n{\n    interface ICompositeViewBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        pipDisabledChecklist: any;\n        pipChanged: any;\n        pipContents: any;\n        pipRebind: any;\n    }\n\n    const CompositeViewBindings: ICompositeViewBindings = {\n        ngDisabled: '<?',\n        pipDisabledChecklist: '<?',\n        pipChanged: '=?',\n        pipContents: '=?',\n        pipRebind: '<?'\n    }\n\n    class CompositeViewBindingsChanges implements ng.IOnChangesObject, ICompositeViewBindings {\n        [key: string]: ng.IChangesObject<any>;\n\n        ngDisabled: ng.IChangesObject<boolean>;\n        pipDisabledChecklist: ng.IChangesObject<boolean>;\n        pipChanged: ng.IChangesObject<() => ng.IPromise<void>>;\n        pipContents: ng.IChangesObject<ContentBlock[]>;\n        pipRebind: ng.IChangesObject<boolean>;\n    }\n\n    class CompositeViewController implements ICompositeViewBindings {\n        public ngDisabled: boolean;\n        public pipDisabledChecklist: boolean;\n        public pipChanged: Function;\n        public pipContents: ContentBlock[];\n        public pipRebind: boolean;\n\n        public compositeContent: ContentBlock[];\n\n        private selected: any = {};\n\n        constructor(\n            private $element: JQuery,\n            private $attrs: ng.IAttributes\n        ) {\n            \"ngInject\";\n\n            $element.addClass('pip-composite-view');\n            this.selected.isChanged = false;\n            this.pipContents = _.isArray(this.pipContents) ? this.pipContents : [];\n\n            this.generateList(this.pipContents);\n        }\n\n        public $onChanges(changes: CompositeViewBindingsChanges): void {\n            if (changes.pipRebind && changes.pipRebind.currentValue !== changes.pipRebind.previousValue) {\n                this.pipRebind = changes.pipRebind.currentValue;\n                if (this.pipRebind && changes.pipContents && _.isArray(changes.pipContents.currentValue)) {\n                    this.selected.isChanged === true ? this.selected.isChanged = false : this.generateList(changes.pipContents.currentValue);\n                }\n            }\n\n            if (changes.ngDisabled && changes.ngDisabled.currentValue !== changes.ngDisabled.previousValue) {\n                this.ngDisabled = changes.ngDisabled.currentValue;\n            }\n\n            if (changes.pipDisabledChecklist && changes.pipDisabledChecklist.currentValue !== changes.pipDisabledChecklist.previousValue) {\n                this.pipDisabledChecklist = changes.pipDisabledChecklist.currentValue;\n            }\n        }\n        \n        private getPicIds(ids: string[]): pip.pictures.Attachment[] {\n            let result: pip.pictures.Attachment[] = [];\n\n            _.each(ids, (id: string) => {\n                let item: pip.pictures.Attachment = {\n                    id: id\n                }\n\n                result.push(item);\n            })\n\n            return result;\n        }\n\n        private updateContents(): void {\n            this.selected.isChanged = true;\n            this.pipContents = this.compositeContent;\n        }\n\n        public isDisabled(): boolean {\n            return this.pipDisabledChecklist === true || this.ngDisabled === true;\n        }\n\n        public onContentChange(): void {\n            this.updateContents();\n            if (this.pipChanged) {\n                this.pipChanged(this.pipContents);\n            }\n        }\n\n        public onCompositeChange(): void {\n            this.updateContents();\n            if (this.pipChanged)\n                this.pipChanged(this.pipContents);\n        }\n\n        private generateList(content: ContentBlock[]): void {\n            if (!content || content.length < 1) {\n                this.clearList();\n                return;\n            } else {\n                this.compositeContent = [];\n                let id: number = 0;\n                _.each(content, (item: ContentBlock) => {\n                    if (typeof (item) != 'object' || item == null) {\n                        throw new Error('Error: content error!');\n                    }\n                    item.id = id;\n                    item.picIds = item.pic_ids ? this.getPicIds(item.pic_ids) : null;\n                    id++;\n                    this.compositeContent.push(item);\n                });\n            }\n        }\n\n        private clearList(): void {\n            this.compositeContent = [];\n        }\n    }\n\n    const CompositeView: ng.IComponentOptions = {\n        bindings: CompositeViewBindings,\n        templateUrl: 'composite_view/CompositeView.html',\n        controller: CompositeViewController\n    }\n\n    angular.module(\"pipCompositeView\", ['pipDocuments', 'pipLocations', 'pipPictures', 'pipDates', 'pipComposite.Templates', 'pipEmbeddedView'])\n        .component('pipCompositeView', CompositeView);\n\n}","{\n    interface IContentSwitchAttributes extends angular.IAttributes {\n        pipParentElementName: any;\n    }\n\n    interface IContentSwitchScope extends angular.IScope {\n        onButtonClick: any;\n        contentSwitchOption: any;\n        showIconPicture: any;\n        showIconDocument: any;\n        showIconEvent: any;\n        showIconLocation: any;\n        showEvent: any;\n        showDocuments: any;\n        showLocation: any;\n        showPictures: any;\n    }\n\n    class ContentSwitchLink {\n        private parentElementNameGetter: any;\n        private parentElement: any;\n\n        constructor(\n            private $parse: ng.IParseService,\n            private $scope: IContentSwitchScope,\n            private $element: JQuery,\n            private $attrs: IContentSwitchAttributes\n        ) {\n            \"ngInject\";\n            \n            this.parentElementNameGetter = $parse($attrs.pipParentElementName);\n            this.parentElement = this.parentElementNameGetter($scope);\n            this.setOption();\n        }\n\n        private scrollTo(childElement): void {\n            setTimeout(() => {\n                let modDiff: number = Math.abs($(this.parentElement).scrollTop() - $(childElement).position().top);\n                if (modDiff < 20) {\n                    return;\n                }\n                let scrollTo = $(this.parentElement).scrollTop() + ($(childElement).position().top - 20);\n                $(this.parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, 300);\n            }, 100);\n        };\n\n        private setOption(): void {\n            // todo\n            if (this.$scope.contentSwitchOption !== null && this.$scope.contentSwitchOption !== undefined) {\n                this.$scope.showIconPicture = this.$scope.contentSwitchOption.picture ? this.$scope.contentSwitchOption.picture : this.$scope.showIconPicture;\n                this.$scope.showIconDocument = this.$scope.contentSwitchOption.document ? this.$scope.contentSwitchOption.document : this.$scope.showIconDocument;\n                this.$scope.showIconLocation = this.$scope.contentSwitchOption.location ? this.$scope.contentSwitchOption.location : this.$scope.showIconLocation;\n                this.$scope.showIconEvent = this.$scope.contentSwitchOption.event ? this.$scope.contentSwitchOption.event : this.$scope.showIconEvent;\n            } else {\n                this.$scope.showIconPicture = true;\n                this.$scope.showIconDocument = true;\n                this.$scope.showIconLocation = true;\n                this.$scope.showIconEvent = true;\n            }\n        };\n\n        public onButtonClick(type: string): void {\n            if (!this.parentElement) return;\n\n            switch (type) {\n                case 'event':\n                    // On Event click action\n                    if (this.$scope.showEvent)\n                        scrollTo('.event-edit');\n                    break;\n                case 'documents':\n                    // On Documents click action\n                    if (this.$scope.showDocuments)\n                        scrollTo('.pip-document-list-edit');\n                    break;\n                case 'pictures':\n                    // On Pictures click action\n                    if (this.$scope.showPictures)\n                        scrollTo('.pip-picture-list-edit');\n                    break;\n                case 'location':\n                    // On Location click action\n                    if (this.$scope.showLocation)\n                        scrollTo('.pip-location-edit');\n                    break;\n            };\n        };\n\n\n    }\n\n    const ContentSwitch = function ($parse: ng.IParseService) {\n        return {\n            restrict: 'EA',\n            scope: false,\n            templateUrl: 'content_switch/ContentSwitch.html',\n            link: function (\n                $scope: IContentSwitchScope,\n                $element: JQuery,\n                $attrs: IContentSwitchAttributes\n            ) {\n                new ContentSwitchLink($parse, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular.module(\"pipContentSwitch\", ['pipComposite.Templates'])\n        .directive('pipContentSwitch', ContentSwitch);\n\n}","export class ChecklistItem {\n    checked: boolean;\n    text: string;\n    empty?: boolean;\n}","import { ChecklistItem } from './ChecklistItem';\n\nexport class ContentBlock {\n    public id?: number;\n    public type: string;\n    public text?: string;\n    public docs?: pip.documents.Attachment[];\n    public picIds?: pip.documents.Attachment[];\n    public pic_ids?: string[];\n    public loc_pos?: any; \n    public loc_name?: string;\n    public start?: string;\n    public end?: string;\n    public all_day?: boolean;\n    public checklist?: ChecklistItem[];\n    public embed_type?: string;\n    public embed_uri?: string;\n    public custom?: any;\n}","export class ContentBlockType {\n    public static readonly Text: string = \"text\";\n    public static readonly Checklist: string = \"checklist\";\n    public static readonly Location: string = \"location\";\n    public static readonly Time: string = \"time\";\n    public static readonly Pictures: string = \"pictures\";\n    public static readonly Documents: string = \"documents\";\n    public static readonly Embedded: string = \"embedded\";\n    public static readonly Custom: string = \"custom\";\n}","export class EmbeddedType {\n    public static readonly Youtube: string = \"youtube\";\n    public static readonly Custom: string = \"custom\";\n}","import './Content';\nimport './ChecklistItem';\nimport './ContentBlockType';\n\nexport * from './Content';\nexport * from './ChecklistItem';\nexport * from './ContentBlockType';","import { EmbeddedType } from '../data/EmbeddedType';\n\ninterface IEmbeddedEditBindings {\n    [key: string]: any;\n\n    embed_type: any;\n    embed_uri: any;\n    onChange: any;\n    ngDisabled: any;\n}\n\nconst EmbeddedEditBindings: IEmbeddedEditBindings = {\n    embed_type: '=?pipEmbeddedType',\n    embed_uri: '=?pipEmbeddedUri',\n    onChange: '=pipChanged',\n    ngDisabled: '&?ngDisabled'\n}\n\nclass EmbeddedEditChanges implements ng.IOnChangesObject, IEmbeddedEditBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    embed_type: ng.IChangesObject<string>;\n    embed_uri: ng.IChangesObject<string>;\n    ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\n    onChange: ng.IChangesObject<() => ng.IPromise<void>>;\n}\n\n// class EmbeddeObj {\n//     public embed_type: string;\n//     public embed_uri: string;\n// }\n\nclass EmbeddedEditController implements ng.IController {          public $onInit() {}\n    public form: any;\n    public touchedErrorsWithHint: Function;\n\n    public embed_type: string;\n    public embed_uri: string;\n    // public onChange: (params: EmbeddeObj) => void;\n    public onChange: (embedType: string, embedUri: string) => void;\n    public ngDisabled: () => boolean;\n\n    public embeddedTypeCollection = [\n        { title: 'EMBEDDED_TYPE_CUSTOM', shortTitle: 'EMBEDDED_TYPE_CUSTOM_SHORT',id: EmbeddedType.Custom },\n        { title: 'EMBEDDED_TYPE_YOUTUBE', shortTitle: 'EMBEDDED_TYPE_YOUTUBE_SHORT',id: EmbeddedType.Youtube }\n    ];\n\n    constructor(\n        private $element: JQuery,\n        private $scope: ng.IScope,\n        private $state: ng.ui.IStateService,\n        public pipMedia: pip.layouts.IMediaService\n    ) {\n        $element.addClass('pip-embedded-edit');\n\n        this.init();\n    }\n\n    public $onChanges(changes: EmbeddedEditChanges): void {\n        console.log('$onChanges');\n        this.init();\n    }\n\n    public $postLink() {\n        console.log('postlink', this.$scope)\n        this.form = this.$scope.embedded;\n    }\n\n    private init(): void {\n        if (!this.embed_type) {\n            this.embed_type = EmbeddedType.Custom;\n        }\n    }\n\n    public onChangeType(): void {\n        console.log('onChangeType');\n        if (!this.form.url.$error)\n            this.onChange(this.embed_type, this.embed_uri);\n    }\n\n    public onChangeUrl(): void {\n        console.log('onChangeUrl');\n        this.onChange(this.embed_type, this.embed_uri);\n    }\n\n    public isDisabled() {\n        if (this.ngDisabled) {\n            return this.ngDisabled();\n        }\n\n        return false;\n    };\n}\n\n(() => {\n\n    function declaredEmbeddedEditResources(pipTranslateProvider: pip.services.ITranslateProvider) {\n        pipTranslateProvider.translations('en', {\n            EMBEDDED_TYPE_LABEL: 'Embedded type',\n            EMBEDDED_URL_LABEL: 'Embedded uri',\n            EMBEDDED_TYPE_HINT: 'Enter uri of embedded resource',\n            EMBEDDED_URL_ERROR: 'Uri error',\n            EMBEDDED_TYPE_CUSTOM: 'Custom',\n            EMBEDDED_TYPE_YOUTUBE: 'Youtube',\n            EMBEDDED_TYPE_CUSTOM_SHORT: 'Custom',\n            EMBEDDED_TYPE_YOUTUBE_SHORT: 'Youtube'\n        });\n        pipTranslateProvider.translations('ru', {\n            EMBEDDED_TYPE_LABEL: 'Тип встроенного ресурса',\n            EMBEDDED_URL_LABEL: 'Uri встроенного ресурса',\n            EMBEDDED_TYPE_HINT: 'Введите uri встроенного ресурса',\n            EMBEDDED_URL_ERROR: 'Неверный uri',\n            EMBEDDED_TYPE_CUSTOM: 'Другой',\n            EMBEDDED_TYPE_YOUTUBE: 'Youtube',\n            EMBEDDED_TYPE_CUSTOM_SHORT: 'Другой',\n            EMBEDDED_TYPE_YOUTUBE_SHORT: 'Youtube'\n        });\n    }\n\n    angular\n        .module('pipEmbeddedEdit', [])\n        .component('pipEmbeddedEdit', {\n            bindings: EmbeddedEditBindings,\n            templateUrl: 'embedded_edit/EmbeddedEdit.html',\n            controller: EmbeddedEditController,\n            controllerAs: '$ctrl'\n        })\n        .config(declaredEmbeddedEditResources);\n})();\n","import { EmbeddedType } from '../data/EmbeddedType';\n\ninterface IEmbeddedViewBindings {\n    [key: string]: any;\n\n    embed_type: any;\n    embed_uri: any;\n}\n\nconst EmbeddedViewBindings: IEmbeddedViewBindings = {\n    embed_type: '=?pipEmbeddedType',\n    embed_uri: '=?pipEmbeddedUri',\n}\n\nclass EmbeddedViewChanges implements ng.IOnChangesObject, IEmbeddedViewBindings {\n    [key: string]: ng.IChangesObject<any>;\n\n    embed_type: ng.IChangesObject<string>;\n    embed_uri: ng.IChangesObject<string>;\n}\n\nclass EmbeddedViewController implements ng.IController {\n    public $onInit() { }\n    public embed_type: string;\n    public embed_uri: string;\n\n    constructor(\n        private $element: JQuery,\n        public pipMedia: pip.layouts.IMediaService\n    ) {\n        $element.addClass('pip-embedded-view');\n\n        this.init();\n    }\n\n    public $onChanges(changes: EmbeddedViewChanges): void {\n        console.log('$onChanges');\n        this.init();\n    }\n\n    private init(): void {\n\n    }\n\n}\n\n(() => {\n\n    function declaredEmbeddedViewResources(pipTranslateProvider: pip.services.ITranslateProvider) {\n        pipTranslateProvider.translations('en', {\n\n        });\n        pipTranslateProvider.translations('ru', {\n\n        });\n    }\n\n    function resourceYoutubeConfig($sceDelegateProvider) {\n        $sceDelegateProvider.resourceUrlWhitelist([\n            'self',\n            'https://www.youtube.com/**'\n        ]);\n    }\n\n    angular\n        .module('pipEmbeddedView', [])\n        .component('pipEmbeddedView', {\n            bindings: EmbeddedViewBindings,\n            templateUrl: 'embedded_view/EmbeddedView.html',\n            controller: EmbeddedViewController,\n            controllerAs: '$ctrl'\n        })\n        .config(resourceYoutubeConfig)\n        .config(declaredEmbeddedViewResources);\n})();\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\n\nimport './checklist_edit/ChecklistEdit';\nimport './checklist_view/ChecklistView';\nimport './composite_edit/CompositeEdit';\nimport './composite_summary/CompositeSummary';\nimport './composite_toolbar/CompositeToolbar';\nimport './composite_view/CompositeView';\nimport './utilities/CompositeFocused';\nimport './mobile_mouse';\nimport './content_switch/ContentSwitch';\nimport './embedded_edit/EmbeddedEdit';\nimport './embedded_view/EmbeddedView';\nimport './data';\n\nangular.module('pipComposite', [\n    'pipContentSwitch',\n    'pipChecklistEdit',\n    'pipChecklistView',\n    'pipCompositeEdit',\n    'pipCompositeView',\n    'pipCompositeSummary',\n    'pipCompositeToolbar',\n    'pipCompositeFocused',\n    'pipMobileMouse',\n    'pipEmbeddedEdit',\n    'pipEmbeddedView'\n]);\n\nexport * from './data';","{\n    interface IMobileMousedownAttributes extends ng.IAttributes {\n        pipMobileMousedown: any;\n    }\n\n    const MobileMousedown = (scope: ng.IScope, elem: JQuery, attrs: IMobileMousedownAttributes) => {\n        elem.bind(\"touchstart mousedown\", (e) => {\n            scope.$apply(attrs.pipMobileMousedown);\n        });\n    }\n\n    angular.module(\"pipMobileMouse\")\n        .directive('pipMobileMousedown', () => {\n            return MobileMousedown;\n        });\n}","{\n    interface IMobileMouseupAttributes extends ng.IAttributes {\n        pipMobileMouseup: any;\n    }\n\n    const MobileMouseup = (scope: ng.IScope, elem: JQuery, attrs: IMobileMouseupAttributes) => {\n        elem.bind(\"touchend mouseup\", (e) => {\n            scope.$apply(attrs.pipMobileMouseup);\n        });\n    }\n\n    angular.module(\"pipMobileMouse\")\n        .directive('pipMobileMouseup', () => {\n            return MobileMouseup;\n        });\n}","angular.module('pipMobileMouse', []);\n\nimport './MobileMousedown';\nimport './MobileMouseup';","export const CompositeFocusedEvent: string = 'focusedComposite'; \n\n{\n    class CompositeFocusedController {\n        constructor(\n            $element: JQuery,\n            $rootScope: angular.IRootScopeService\n        ) {\n            $element.bind(\"touchstart mousedown\", (e) => {\n                $rootScope.$broadcast(CompositeFocusedEvent);\n            });\n        }\n    }\n\n    const CompositeFocused = function () {\n        return {\n            restrict: 'A',\n            scope: false,\n            controller: CompositeFocusedController\n        }\n    }\n\n    angular.module(\"pipCompositeFocused\", [])\n        .directive('pipCompositeFocused', CompositeFocused);\n\n}","(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('checklist_edit/ChecklistEdit.html',\n    '<div ng-class=\"{\\'pip-checklist-draggable\\': $ctrl.selected.drag}\" id=\"{{\\'checklist-\\' + $ctrl.selected.id}}\"><div ng-repeat=\"item in $ctrl.checklistContent\" ng-mousedown=\"$ctrl.onClick($event, $index)\" class=\"pip-checklist-item\" id=\"{{\\'check-item-\\' + $ctrl.selected.id + \\'-\\' + $index}}\" pip-drag=\"$ctrl.checklistContent.length > 1 && $ctrl.selected.drag && !item.empty\" pip-drag-data=\"item\" pip-force-touch=\"true\" pip-touch-delay=\"30\" pip-drop=\"true\" pip-drag-stop=\"$ctrl.onStop(selected.id)\" pip-drag-start=\"$ctrl.onStart(selected.id)\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-drop-success=\"$ctrl.onDropComplete($index, $data, $event, $ctrl.selected.id)\"><div ng-class=\"{\\'put_place\\': $ctrl.selected.drag}\"></div><div class=\"pip-checklist-item-body layout-row layout-align-start-start\" pip-cancel-drag=\"true\" ng-class=\"{ \\'select-active-item\\': $ctrl.isSelectedItem($index) }\"><div class=\"pip-checklist-button\" pip-cancel-drag=\"true\"><md-button pip-drag-handle=\"\" class=\"pip-icon-checklist-button md-icon-button no-ripple-container\" aria-label=\"REARRANGE\" tabindex=\"-1\" pip-mobile-mousedown=\"$ctrl.onDownDragg(item)\" pip-mobile-mouseup=\"$ctrl.onDraggEnd()\" ng-if=\"$ctrl.pipDraggable && $ctrl.checklistContent.length > 2 && !item.empty\" ng-class=\"$ctrl.checklistContent.length > 1 ? \\'cursor-move\\' : \\'cursor-default\\'\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:vhandle\"></md-icon></md-button></div><div class=\"pip-checklist-button\" style=\"overflow: hidden\" pip-cancel-drag=\"true\"><div class=\"pip-checklist-button-container\"><md-button class=\"pip-icon-checklist-button md-icon-button\" ng-show=\"item.empty\" ng-disabled=\"$ctrl.ngDisabled\" md-ink-ripple=\"\" ng-click=\"$ctrl.onAddItem()\" tabindex=\"-1\" aria-label=\"PLUS\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:plus\"></md-icon></md-button><md-checkbox ng-model=\"item.checked\" ng-show=\"!item.empty\" aria-label=\"COMPLETE\" pip-cancel-drag=\"true\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-change=\"$ctrl.onChecked(item)\" ng-disabled=\"$ctrl.ngDisabled\"></md-checkbox></div></div><div class=\"pip-checklist-text flex\" pip-cancel-drag=\"true\"><md-input-container md-no-float=\"\" class=\"flex\"><textarea ng-model=\"item.text\" name=\"{{\\'text\\' + $index}}\" aria-label=\"TEXT\" class=\"pip-text-checkbox\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-change=\"$ctrl.onChangeItem($index)\" ng-keydown=\"$ctrl.onTextareaKeyDown($event, $index, item)\" placeholder=\"{{::\\'TEXT\\' | translate}}\" id=\"{{\\'check-item-text-\\' + selected.id + \\'-\\' + $index}}\" ng-disabled=\"$ctrl.ngDisabled\">\\n' +\n    '                    </textarea></md-input-container></div><div class=\"pip-checklist-button\" pip-cancel-drag=\"true\"><md-button class=\"pip-icon-checklist-button md-icon-button\" md-ink-ripple=\"\" ng-click=\"$ctrl.onDeleteItem($index, item)\" ng-disabled=\"$ctrl.ngDisabled\" tabindex=\"-1\" ng-focus=\"$ctrl.onItemFocus($index)\" ng-show=\"$ctrl.isSelectedItem($index)\" aria-label=\"DELETE-ITEM\"><md-icon class=\"text-grey\" md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div></div><div id=\"{{\\'check-item-empty-\\' + $ctrl.selected.id}}\" class=\"pip-empty-text\" pip-drag=\"false\" pip-drop=\"true\" pip-drop-success=\"$ctrl.onDropComplete($ctrl.checklistContent.length, $data, $event, $ctrl.selected.id)\"><div ng-class=\"{\\'put_place\\': $ctrl.selected.drag}\"></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('checklist_view/ChecklistView.html',\n    '<div ng-repeat=\"item in $ctrl.pipOptions track by $index\"><div class=\"pip-checklist-item layout-row layout-align-start-start\"><div class=\"pip-checklist-icon\"><md-checkbox ng-model=\"item.checked\" ng-click=\"$ctrl.onClick($event, item)\" aria-label=\"COMPLETE\" ng-disabled=\"$ctrl.ngDisabled\"></md-checkbox></div><div class=\"pip-checklist-text flex\"><pip-markdown pip-text=\"item.text\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_edit/CompositeEdit.html',\n    '<div class=\"divider-top\"><div class=\"pip-composite-body\" ng-show=\"$ctrl.compositeContent.length != 0\" ng-class=\"{\\'drag-active\\': $ctrl.selected.drag}\"><div class=\"pip-composite-item\" ng-repeat=\"obj in $ctrl.compositeContent track by obj.id\" ng-mousedown=\"$ctrl.onClick($event, $index, obj)\" ng-class=\"{\\'selected-content\\': $ctrl.isSelectedSection($index, obj), \\'composite-animate\\': !obj.empty && $ctrl.compositeContent.length > 1}\" ng-keyup=\"$ctrl.onKeyUp($event)\" ng-keydown=\"$ctrl.onKeyDown($event, $index, obj)\" pip-drag=\"$ctrl.compositeContent.length > 1 && $ctrl.selected.drag\" pip-touch-delay=\"10\" pip-drag-data=\"obj\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-drop=\"true\" pip-force-touch=\"true\" pip-drag-stop=\"$ctrl.onStop($ctrl.selected.id)\" pip-drag-start=\"$ctrl.onStart($ctrl.selected.id)\" pip-drop-success=\"$ctrl.onDropComplete($index, $data, $event, $ctrl.selected.id)\" id=\"{{\\'composite-item-\\' + $ctrl.selected.id + \\'-\\' + $index}}\"><div class=\"putt_box\"></div><div class=\"pip-section-header layout-row layout-align-start-center\" ng-if=\"!obj.empty\"><div class=\"w38\"></div><md-button class=\"md-icon-button md-icon-button-little icon-rearrange-btn no-ripple-container rm8 cursor-move\" ng-if=\"!$ctrl.ngDisabled && $ctrl.compositeContent.length > 1\" pip-drag-handle=\"\" pip-mobile-mousedown=\"$ctrl.onDownDragg($event, obj)\" pip-mobile-mouseup=\"$ctrl.onDraggEnd()\" tabindex=\"-1\" aria-label=\"COMPOSITE-DRAGG\" ng-hide=\"$ctrl.compositeContent.length == 1\"><md-icon class=\"composite-icon cursor-move\" md-svg-icon=\"icons:handle\"></md-icon></md-button><div><md-button class=\"md-icon-button md-icon-button-little rm8\" ng-click=\"$ctrl.onDeleteItem($index)\" ng-disabled=\"$ctrl.ngDisabled\" aria-label=\"COMPOSITE-DELETE\"><md-icon class=\"composite-icon\" md-svg-icon=\"icons:cross\"></md-icon></md-button></div></div><div class=\"pip-section-content rp24-flex lp24-flex tp16 bp16\" ng-if=\"obj.type == \\'text\\'\" pip-cancel-drag=\"true\"><md-input-container class=\"p0 m0 w-stretch\" md-no-float=\"\"><textarea ng-model=\"obj.text\" aria-label=\"text\" placeholder=\"{{ $ctrl.isFirst ? $ctrl.compositePlaceholder : \\'TEXT\\' | translate}}\" id=\"{{\\'composite-item-text-\\' + $ctrl.selected.id + \\'-\\' + $index}}\" ng-change=\"$ctrl.onContentChange(obj)\" pip-cancel-drag=\"true\" ng-disabled=\"$ctrl.ngDisabled\">\\n' +\n    '                            </textarea></md-input-container></div><div class=\"pip-section-content rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'pictures\\'\" pip-cancel-drag=\"true\"><pip-picture-list-edit class=\"w-stretch\" pip-cancel-drag=\"true\" pip-pictures=\"obj.picIds\" pip-changed=\"$ctrl.onContentChange(obj)\" pip-created=\"obj.pictures = $event.sender\" pip-added-picture=\"$ctrl.addedContent\" ng-disabled=\"$ctrl.ngDisabled\"></pip-picture-list-edit></div><div class=\"pip-section-content rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'documents\\'\" pip-cancel-drag=\"true\"><pip-document-list-edit class=\"w-stretch\" pip-documents=\"obj.docs\" pip-cancel-drag=\"true\" pip-changed=\"$ctrl.onContentChange(obj)\" pip-created=\"obj.documents = $event.sender\" pip-added-document=\"$ctrl.addedContent\" ng-disabled=\"$ctrl.ngDisabled\"></pip-document-list-edit></div><div class=\"pip-section-embedded rp24-flex lp24-flex vp20\" ng-if=\"obj.type == \\'embedded\\'\" pip-cancel-drag=\"true\"><pip-embedded-edit pip-embedded-type=\"obj.embed_type\" pip-embedded_uri=\"obj.embed_uri\" pip-cancel-drag=\"true\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\"></pip-embedded-edit></div><div class=\"pip-section-content layout-row layout-align-start-center\" ng-if=\"obj.type == \\'checklist\\'\" pip-cancel-drag=\"true\"><pip-checklist-edit pip-options=\"obj.checklist\" pip-draggable=\"$ctrl.isActiveChecklist(obj)\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\" pip-scroll-container=\"$ctrl.pipScrollContainer\" pip-rebind=\"true\"></pip-checklist-edit></div><div class=\"pip-section-content vp20 rp24-flex lp24-flex\" ng-if=\"obj.type == \\'location\\'\" pip-cancel-drag=\"true\"><pip-location-edit class=\"pip-location-attachments w-stretch\" pip-location-name=\"obj.loc_name\" pip-location-pos=\"obj.loc_pos\" pip-cancel-drag=\"true\" xxxpip-location-holder=\"$ctrl.pipLocationHolder\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\"></pip-location-edit></div><div class=\"pip-section-content bp16-flex rp24-flex lp24-flex tp20\" ng-if=\"obj.type == \\'time\\'\" pip-cancel-drag=\"true\"><pip-time-range-edit class=\"w-stretch\" pip-start-date=\"obj.start\" pip-end-date=\"obj.end\" xxxpip-size=\"$sizeGtSmall\" pip-changed=\"$ctrl.onContentChange(obj)\" ng-disabled=\"$ctrl.ngDisabled\" pip-start-label=\"{{ \\'COMPOSITE_START_TIME\\' | translate }}\" pip-end-label=\"{{ \\'COMPOSITE_END_TIME\\' | translate }}\"></pip-time-range-edit></div></div><div class=\"pip-composite-item w-stretch\" pip-drag=\"false\" pip-drop=\"true\" pip-drop-success=\"$ctrl.onDropComplete($ctrl.compositeContent.length, $data, $event, $ctrl.selected.id)\" pip-drag-stop=\"$ctrl.onStop($ctrl.selected.id)\" pip-drag-start=\"$ctrl.onStart($ctrl.selected.id)\" id=\"{{\\'pip-composite-last-\\' + $ctrl.selected.id}}\"><div class=\"putt_box\"></div><div class=\"pip-section-content h24\" style=\"border: 0px!important;\"></div></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_summary/CompositeSummary.html',\n    '<div ng-repeat=\"item in $ctrl.compositeContent track by $index\"><div class=\"pip-composite-text\" ng-if=\"item.type == \\'text\\' && item.text\"><pip-markdown pip-text=\"item.text\" pip-line-count=\"$ctrl.textSize\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div><div ng-if=\"item.type == \\'pictures\\' && item.picIds && item.picIds.length > 0\" ng-class=\"$ctrl.compositeContent[$index - 1].type != \\'pictures\\' ? $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm16 bm16\\' : \\'tm16 bm0\\' : $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm8 bm16\\' : \\'tm8 bm0\\'\" class=\"pip-composite-pictures\"><pip-collage pip-pictures=\"item.picIds\" pip-unique-code=\"item.id\" pip-multiple=\"true\" pip-open=\"$ctrl.disableControl\" pip-rebind=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-collage></div><div ng-if=\"item.type == \\'documents\\' && item.docs && item.docs.length > 0\" class=\"pip-composite-documents layout-row flex\"><pip-document-list class=\"flex\" pip-documents=\"item.docs\" pip-rebind=\"true\" pip-document-icon=\"true\" pip-collapse=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-document-list></div><div ng-if=\"item.type == \\'checklist\\' && item.checklist && item.checklist.length > 0\" class=\"pip-composite-checklist\"><pip-checklist-view pip-options=\"item.checklist\" pip-changed=\"$ctrl.onContentChange()\" pip-rebind=\"true\" pip-collapse=\"true\" ng-disabled=\"$ctrl.disabledChecklist\"></pip-checklist-view></div><div class=\"pip-composite-location layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'location\\' && (item.loc_pos || item.loc_name)\"><pip-location class=\"flex\" pip-location-name=\"item.loc_name\" pip-location-pos=\"item.loc_pos\" pip-collapse=\"true\" pip-show-location-icon=\"true\" ng-disabled=\"$ctrl.disableControl\" pip-rebind=\"true\"></pip-location></div><div class=\"pip-composite-time layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'time\\' && (item.start || item.end)\"><md-icon md-svg-icon=\"icons:time\" class=\"rm24 lm0\"></md-icon><pip-time-range pip-start-date=\"item.start\" pip-end-date=\"item.end\" pip-rebind=\"true\" ng-disabled=\"$ctrl.disableControl\"></pip-time-range></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_toolbar/CompositeToolbar.html',\n    '<div class=\"layout-row layout-align-start-start flex\"><md-button class=\"pip-composite-button\" ng-if=\"!$ctrl.emptyState\" ng-class=\"{ \\'remove-item\\': !$ctrl.emptyState , \\'new-item\\': !$ctrl.emptyState }\" ng-click=\"$ctrl.onAddItem(\\'text\\');\" aria-label=\"COMPOSITE-BUTTON-TEXT\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon class=\"icon-text-block\" md-svg-icon=\"icons:text\"></md-icon><md-tooltip>{{::\\'TEXT\\'| translate}}</md-tooltip></md-button><md-button ng-if=\"$ctrl.toolbarButton.checklist\" ng-click=\"$ctrl.onAddItem(\\'checklist\\')\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-CHECKLIST\"><md-icon class=\"icon-checkbox-on\" md-svg-icon=\"icons:checkbox-on\"></md-icon><md-tooltip>{{::\\'CHECKLIST\\'| translate}}</md-tooltip></md-button><md-button ng-if=\"$ctrl.toolbarButton.picture\" ng-click=\"$ctrl.onAddItem(\\'pictures\\')\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-PICTURES\"><md-icon class=\"icon-camera\" md-svg-icon=\"icons:camera\"></md-icon><md-tooltip>{{::\\'PICTURE\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'documents\\')\" ng-if=\"$ctrl.toolbarButton.document\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-DOCUMENTS\"><md-icon class=\"icon-document\" md-svg-icon=\"icons:document\"></md-icon><md-tooltip>{{::\\'DOCUMENT\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'location\\')\" ng-if=\"$ctrl.toolbarButton.location\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-LOCATIONS\"><md-icon class=\"icon-location\" md-svg-icon=\"icons:location\"></md-icon><md-tooltip>{{::\\'LOCATION\\'| translate}}</md-tooltip></md-button><md-button ng-click=\"$ctrl.onAddItem(\\'time\\')\" ng-if=\"$ctrl.toolbarButton.event\" ng-disabled=\"$ctrl.ngDisabled\" class=\"pip-composite-button\" aria-label=\"COMPOSITE-BUTTON-TIME\"><md-icon class=\"icon-time\" md-svg-icon=\"icons:time\"></md-icon><md-tooltip>{{::\\'TIME\\'| translate}}</md-tooltip></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('composite_view/CompositeView.html',\n    '<div ng-repeat=\"item in $ctrl.compositeContent track by $index\"><div class=\"pip-composite-text lp24-flex rp24-flex\" ng-if=\"item.type == \\'text\\' && item.text\" ng-class=\"{\\'bm16\\': $last}\"><pip-markdown pip-text=\"item.text\" pip-rebind=\"true\" ng-disabled=\"true\"></pip-markdown></div><div ng-if=\"item.type == \\'pictures\\' && item.picIds && item.picIds.length > 0\" ng-class=\"$ctrl.compositeContent[$index - 1].type != \\'pictures\\' ? $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm16 bm16\\' : \\'tm16 bm0\\' : $ctrl.compositeContent[$index + 1].type != \\'pictures\\' ? \\'tm8 bm16\\' : \\'tm8 bm0\\'\" class=\"pip-composite-pictures lp24-flex rp24-flex\"><pip-collage pip-pictures=\"item.picIds\" pip-unique-code=\"item.id\" pip-multiple=\"true\" pip-open=\"true\" pip-rebind=\"true\" ng-disabled=\"$ctrl.ngDisabled\"></pip-collage></div><div ng-if=\"item.type == \\'documents\\' && item.docs && item.docs.length > 0\" class=\"pip-composite-documents layout-row layout-align-start-start flex\"><pip-document-list pip-documents=\"item.docs\" pip-document-icon=\"true\" pip-rebind=\"true\" ng-disabled=\"$ctrl.ngDisabled\"></pip-document-list></div><div ng-if=\"item.type == \\'checklist\\' && item.checklist && item.checklist.length > 0\" class=\"pip-composite-checklist lp24-flex rp24-flex\"><pip-checklist-view pip-options=\"item.checklist\" pip-changed=\"$ctrl.onContentChange()\" pip-rebind=\"true\" ng-disabled=\"$ctrl.isDisabled()\"></pip-checklist-view></div><div class=\"pip-composite-location layout-row layout-align-start-start flex\" ng-if=\"item.type == \\'location\\' && (item.loc_pos || item.loc_name)\"><pip-location class=\"flex\" pip-location-name=\"item.loc_name\" pip-location-pos=\"item.loc_pos\" pip-show-location-icon=\"true\" pip-collapse=\"false\" ng-disabled=\"$ctrl.ngDisabled\" pip-rebind=\"true\"></pip-location></div><div class=\"pip-composite-time lp24-flex rp24-flex layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'time\\'\"><md-icon md-svg-icon=\"icons:time\" class=\"lm0\"></md-icon><pip-time-range pip-start-date=\"item.start\" pip-end-date=\"item.end\" pip-rebind=\"true\" ng-disabled=\"ngDisabled()\"></pip-time-range></div><div class=\"pip-composite-embedded lp24-flex rp24-flex layout-row layout-align-start-center flex\" ng-if=\"item.type == \\'embedded\\' && item.embed_uri\"><pip-embedded-view class=\"bm8\" pip-embedded-type=\"item.embed_type\" pip-embedded-uri=\"item.embed_uri\"></pip-embedded-view></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('content_switch/ContentSwitch.html',\n    '<md-button ng-click=\"showPictures = !showPictures; onButtonClick(\\'pictures\\')\" aria-label=\"showPictures\" class=\"md-icon-button\" ng-show=\"showIconPicture\" ng-disabled=\"transaction.busy()\"><md-icon class=\"active-camera\" ng-class=\"{ \\'active-camera\\': showPictures }\" md-svg-icon=\"icons:camera\"></md-icon></md-button><md-button ng-click=\"showDocuments = !showDocuments; onButtonClick(\\'documents\\')\" aria-label=\"showDocuments\" class=\"md-icon-button\" ng-show=\"showIconDocument\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-document\\': showDocuments }\" md-svg-icon=\"icons:document\"></md-icon></md-button><md-button ng-click=\"showEvent = !showEvent; onButtonClick(\\'event\\')\" aria-label=\"showEvent\" class=\"md-icon-button\" ng-show=\"showIconEvent\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-time\\': showEvent }\" md-svg-icon=\"icons:time\"></md-icon></md-button><md-button ng-click=\"showLocation = !showLocation; onButtonClick(\\'location\\')\" aria-label=\"showLocation\" class=\"md-icon-button\" ng-show=\"showIconLocation\" ng-disabled=\"transaction.busy()\"><md-icon ng-class=\"{ \\'active-location\\': showLocation }\" md-svg-icon=\"icons:location\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('embedded_edit/EmbeddedEdit.html',\n    '<form name=\"embedded\"><md-input-container class=\"md-block flex bm24\"><label>{{ ::\\'EMBEDDED_TYPE_LABEL\\'| translate }}</label><md-select ng-model=\"$ctrl.embed_type\" ng-change=\"$ctrl.onChangeType()\" ng-disabled=\"$ctrl.isDisabled()\"><md-option ng-repeat=\"t in $ctrl.embeddedTypeCollection track by $index\" ng-value=\"t.id\">{{ ::t.title | translate }}</md-option></md-select></md-input-container><md-input-container class=\"md-block flex\"><label>{{::\\'EMBEDDED_URL_LABEL\\' | translate}}</label> <input ng-model=\"$ctrl.embed_uri\" ng-required=\"$ctrl.embed_uri\" type=\"url\" name=\"url\" ng-change=\"$ctrl.onChangeUrl()\" ng-disabled=\"$ctrl.isDisabled()\" ng-model-options=\"{ delay: 500 }\"><div class=\"hint\" ng-if=\"!embedded.url.$error\">{{::\\'EMBEDDED_TYPE_HINT\\' | translate}}</div><div ng-messages=\"embedded.url.$error\" role=\"alert\"><div ng-message=\"url\">{{ \\'EMBEDDED_URL_ERROR\\' | translate }}</div></div></md-input-container></form>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipComposite.Templates');\n} catch (e) {\n  module = angular.module('pipComposite.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('embedded_view/EmbeddedView.html',\n    '<iframe width=\"100%\" height=\"170\" frameborder=\"0\" allowfullscreen=\"\" ng-if=\"$ctrl.embed_type == \\'youtube\\'\" ng-src=\"{{ $ctrl.embed_uri }}\" style=\"margin: 0 auto;\"></iframe><iframe width=\"100%\" height=\"170\" frameborder=\"0\" allowfullscreen=\"\" style=\"margin: 0 auto;\" ng-src=\"{{ $ctrl.embed_uri }}\" ng-if=\"$ctrl.embed_type == \\'custom\\'\"><p><a href=\"{{ $ctrl.embed_uri }}\">{{ $ctrl.embed_uri }}</a></p></iframe>');\n}]);\n})();\n\n//# sourceMappingURL=pip-suite-composite-html.min.js.map\n"]}